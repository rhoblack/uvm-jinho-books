<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 12: ë ˆì§€ìŠ¤í„° ëª¨ë¸ (RAL) | íŒ¹ë¦¬ìŠ¤ ê²€ì¦ ì—”ì§€ë‹ˆì–´ê°€ ë˜ê¸° ìœ„í•œ UVM ì™„ì „ì •ë³µ</title>
  <style>
    /* =============================================
       UVM Book Publisher - Stylesheet
       Generated by Publisher Agent
       ============================================= */

    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');

    :root {
      --bg: #ffffff;
      --text: #1a1a2e;
      --accent: #7c3aed;
      --accent-light: #7c3aed18;
      --code-bg: #1e1e2e;
      --code-text: #cdd6f4;
      --border: #e2e8f0;
      --blockquote-bg: #f0f9ff;
      --blockquote-border: #3b82f6;
      --table-header: #1e293b;
      --table-stripe: #f8fafc;
      --warning-bg: #fef3c7;
      --warning-border: #f59e0b;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.85;
      color: var(--text);
      background: var(--bg);
      font-size: 16px;
    }

    /* === Reading Progress Bar === */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), #7c3aedcc);
      z-index: 9999;
      transition: width 0.1s;
    }

    /* === Cover Header === */
    .cover-header {
      background: linear-gradient(135deg, #7c3aed08, #7c3aed15);
      border-bottom: 3px solid var(--accent);
      padding: 32px 24px 24px;
      text-align: center;
      margin-bottom: 0;
    }
    .cover-part {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 4px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    .cover-chapter-num {
      font-size: 2em;
      font-weight: 300;
      color: var(--accent);
      letter-spacing: 2px;
      opacity: 0.6;
    }

    /* === Main Content === */
    .content {
      max-width: 860px;
      margin: 0 auto;
      padding: 32px 24px 60px;
    }

    /* === TOC === */
    .toc {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px 28px;
      margin: 24px 0 32px;
    }
    .toc-title {
      font-size: 1.1em;
      color: var(--accent);
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
    }
    .toc ul { list-style: none; padding: 0; }
    .toc li { margin: 6px 0; }
    .toc li a {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95em;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      transition: background 0.15s;
    }
    .toc li a:hover {
      background: var(--accent-light);
      color: var(--accent);
    }
    .toc li.toc-sub { padding-left: 24px; }
    .toc li.toc-sub a {
      font-weight: 400;
      font-size: 0.9em;
      color: #475569;
    }

    /* === Headings === */
    h1 {
      font-size: 2em;
      border-bottom: 3px solid var(--accent);
      padding-bottom: 12px;
      margin: 40px 0 20px;
      color: var(--text);
    }
    h1:first-child { margin-top: 0; }
    h2 {
      font-size: 1.5em;
      color: var(--accent);
      margin: 40px 0 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
      scroll-margin-top: 16px;
    }
    h3 {
      font-size: 1.25em;
      margin: 28px 0 12px;
      color: #334155;
      scroll-margin-top: 16px;
    }
    h4 { font-size: 1.05em; margin: 20px 0 8px; color: #475569; }
    p { margin: 12px 0; }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    hr { border: none; border-top: 2px solid var(--border); margin: 32px 0; }
    strong { color: #1e293b; }
    img { max-width: 100%; border-radius: 8px; margin: 16px 0; }

    /* === Code Blocks === */
    pre {
      position: relative;
      background: var(--code-bg);
      border-radius: 12px;
      padding: 0;
      margin: 20px 0;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.12), 0 1px 4px rgba(0,0,0,0.08);
      border: 1px solid #313244;
    }
    pre::before {
      content: attr(data-lang);
      display: block;
      background: #313244;
      color: #a6adc8;
      padding: 8px 16px;
      font-size: 0.8em;
      font-family: 'Fira Code','JetBrains Mono',monospace;
      letter-spacing: 0.5px;
      border-bottom: 1px solid #45475a;
    }
    pre code {
      display: block;
      padding: 16px 20px;
      overflow-x: auto;
      font-family: 'Fira Code','JetBrains Mono','Cascadia Code','D2Coding',monospace;
      font-size: 0.88em;
      line-height: 1.75;
      tab-size: 4;
      color: var(--code-text);
    }
    pre code::-webkit-scrollbar { height: 6px; }
    pre code::-webkit-scrollbar-track { background: #1e1e2e; }
    pre code::-webkit-scrollbar-thumb { background: #45475a; border-radius: 3px; }

    code:not(pre code) {
      background: #f1f5f9;
      color: #be185d;
      padding: 2px 7px;
      border-radius: 5px;
      font-family: 'Fira Code','JetBrains Mono','D2Coding',monospace;
      font-size: 0.86em;
      border: 1px solid #e2e8f0;
    }

    /* Highlight.js Catppuccin */
    .hljs { background: transparent; color: #cdd6f4; }
    .hljs-keyword { color: #cba6f7; font-weight: bold; }
    .hljs-type { color: #f9e2af; }
    .hljs-string { color: #a6e3a1; }
    .hljs-number { color: #fab387; }
    .hljs-comment { color: #6c7086; font-style: italic; }
    .hljs-function, .hljs-title { color: #89b4fa; }
    .hljs-built_in { color: #f38ba8; }
    .hljs-variable { color: #cdd6f4; }
    .hljs-attr { color: #89dceb; }
    .hljs-meta { color: #f5c2e7; }
    .hljs-literal { color: #fab387; }

    /* === SVG Diagrams === */
    .svg-diagram {
      margin: 24px 0;
      padding: 20px;
      background: #fafbfc;
      border: 1px solid var(--border);
      border-radius: 12px;
      text-align: center;
      overflow-x: auto;
    }
    .svg-diagram svg { display: inline-block; }

    /* === Blockquotes === */
    blockquote {
      background: var(--blockquote-bg);
      border-left: 4px solid var(--blockquote-border);
      padding: 16px 20px;
      margin: 16px 0;
      border-radius: 0 8px 8px 0;
    }
    blockquote p:first-child { margin-top: 0; }
    blockquote p:last-child { margin-bottom: 0; }
    blockquote:has(strong:first-child) {
      background: var(--warning-bg);
      border-left-color: var(--warning-border);
    }

    /* === Tables === */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 4px rgba(0,0,0,0.06);
      border: 1px solid var(--border);
      font-size: 0.95em;
    }
    thead th {
      background: var(--table-header);
      color: white;
      padding: 12px 16px;
      text-align: left;
      font-weight: 600;
      font-size: 0.9em;
    }
    tbody td {
      padding: 10px 16px;
      border-bottom: 1px solid var(--border);
    }
    tbody tr:nth-child(even) { background: var(--table-stripe); }
    tbody tr:hover { background: var(--accent-light); }

    /* === Lists === */
    ul, ol { padding-left: 28px; margin: 12px 0; }
    li { margin: 6px 0; }
    li > ul, li > ol { margin: 4px 0; }

    /* === Details/Summary === */
    details {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      margin: 12px 0;
    }
    details summary {
      cursor: pointer;
      font-weight: 600;
      color: var(--accent);
    }
    details[open] summary { margin-bottom: 8px; }

    /* === Plain code blocks === */
    pre:has(code:not(.hljs)) {
      background: #fafbfc;
      border: 2px solid var(--border);
      box-shadow: none;
    }
    pre:has(code:not(.hljs))::before {
      background: #f1f5f9;
      color: #64748b;
      border-bottom-color: var(--border);
    }
    pre:has(code:not(.hljs)) code { color: #334155; }

    /* === Chapter Navigation === */
    .chapter-nav {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      margin: 40px 0 20px;
      padding-top: 24px;
      border-top: 2px solid var(--border);
    }
    .chapter-nav a {
      display: flex;
      flex-direction: column;
      padding: 14px 20px;
      border: 1px solid var(--border);
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.2s;
      min-width: 200px;
    }
    .chapter-nav a:hover {
      border-color: var(--accent);
      background: var(--accent-light);
      text-decoration: none;
    }
    .nav-prev { align-items: flex-start; }
    .nav-next { align-items: flex-end; }
    .nav-label {
      font-size: 0.8em;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .nav-title { font-weight: 600; color: var(--accent); margin-top: 2px; }

    /* === Footer === */
    .book-footer {
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      border-top: 1px solid var(--border);
      color: #94a3b8;
      font-size: 0.85em;
    }

    /* === Back to Top === */
    .back-to-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 44px;
      height: 44px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      transition: opacity 0.3s;
      z-index: 100;
    }
    .back-to-top.visible { display: flex; }

    /* === Print === */
    @media print {
      .progress-bar, .back-to-top, .chapter-nav, .toc { display: none !important; }
      body { font-size: 11pt; }
      .content { max-width: 100%; padding: 0; }
      .cover-header { break-after: page; }
      pre { box-shadow: none; border: 2px solid #ccc; break-inside: avoid; }
      .svg-diagram { break-inside: avoid; border: 1px solid #ccc; }
      table { break-inside: avoid; }
      h2, h3 { break-after: avoid; }
    }

    /* === Responsive === */
    @media (max-width: 640px) {
      .content { padding: 16px 12px 40px; font-size: 15px; }
      h1 { font-size: 1.5em; }
      h2 { font-size: 1.25em; }
      pre code { font-size: 0.8em; padding: 12px; }
      thead th, tbody td { padding: 8px 10px; font-size: 0.88em; }
      .svg-diagram { padding: 10px; }
      .toc { padding: 14px 18px; }
      .chapter-nav { flex-direction: column; }
      .chapter-nav a { min-width: unset; }
      .nav-next { align-items: flex-start; }
      .cover-chapter-num { font-size: 1.5em; }
    }
  </style>
</head>
<body>
  <!-- Reading Progress Bar -->
  <div class="progress-bar" id="progressBar"></div>

  
<header class="cover-header">
  <div class="cover-part" style="--part-color: #7c3aed">
    <span class="cover-part-label">Part 3: ì™„ì„±í•˜ê¸°</span>
  </div>
  <div class="cover-chapter-num">Chapter 12</div>
</header>

  <div class="content">
    <nav class="toc">
<h2 class="toc-title">ëª©ì°¨</h2>
<ul>
<li><a href="#12-1-ì™œ-ë ˆì§€ìŠ¤í„°-ëª¨ë¸ì´-í•„ìš”í•œê°€">12.1 ì™œ ë ˆì§€ìŠ¤í„° ëª¨ë¸ì´ í•„ìš”í•œê°€</a></li>
  <li class="toc-sub"><a href="#12-1-1-ch-11-ë°©ì‹ì˜-í•œê³„-ìˆ˜ë™-ê²€ì¦">12.1.1 Ch.11 ë°©ì‹ì˜ í•œê³„ â€” ìˆ˜ë™ ê²€ì¦</a></li>
  <li class="toc-sub"><a href="#12-1-2-ralì´ë€-ë ˆì§€ìŠ¤í„°-ì¶”ìƒí™”-ê³„ì¸µ">12.1.2 RALì´ë€? â€” ë ˆì§€ìŠ¤í„° ì¶”ìƒí™” ê³„ì¸µ</a></li>
  <li class="toc-sub"><a href="#12-1-3-ral-ì•„í‚¤í…ì²˜">12.1.3 RAL ì•„í‚¤í…ì²˜</a></li>
<li><a href="#12-2-ral-êµ¬ì„±-ìš”ì†Œ">12.2 RAL êµ¬ì„± ìš”ì†Œ</a></li>
  <li class="toc-sub"><a href="#12-2-1-uvm-reg-field-ë¹„íŠ¸-í•„ë“œ-ì •ì˜">12.2.1 uvm_reg_field â€” ë¹„íŠ¸ í•„ë“œ ì •ì˜</a></li>
  <li class="toc-sub"><a href="#12-2-2-uvm-reg-ë ˆì§€ìŠ¤í„°-ì •ì˜">12.2.2 uvm_reg â€” ë ˆì§€ìŠ¤í„° ì •ì˜</a></li>
  <li class="toc-sub"><a href="#12-2-3-uvm-reg-blockê³¼-uvm-reg-map-ì£¼ì†Œ-ë§¤í•‘">12.2.3 uvm_reg_blockê³¼ uvm_reg_map â€” ì£¼ì†Œ ë§¤í•‘</a></li>
  <li class="toc-sub"><a href="#12-2-4-ê³„ì¸µ-êµ¬ì¡°-ìš”ì•½">12.2.4 ê³„ì¸µ êµ¬ì¡° ìš”ì•½</a></li>
<li><a href="#12-3-apb-slave-memory-ë ˆì§€ìŠ¤í„°-ëª¨ë¸">12.3 APB Slave Memory ë ˆì§€ìŠ¤í„° ëª¨ë¸</a></li>
  <li class="toc-sub"><a href="#12-3-1-ë ˆì§€ìŠ¤í„°-ì‚¬ì–‘-ì •ì˜">12.3.1 ë ˆì§€ìŠ¤í„° ì‚¬ì–‘ ì •ì˜</a></li>
  <li class="toc-sub"><a href="#12-3-2-ë ˆì§€ìŠ¤í„°-í´ë˜ìŠ¤-êµ¬í˜„">12.3.2 ë ˆì§€ìŠ¤í„° í´ë˜ìŠ¤ êµ¬í˜„</a></li>
  <li class="toc-sub"><a href="#12-3-3-ë ˆì§€ìŠ¤í„°-ë¸”ë¡-êµ¬í˜„">12.3.3 ë ˆì§€ìŠ¤í„° ë¸”ë¡ êµ¬í˜„</a></li>
<li><a href="#12-4-ralê³¼-apb-ì—ì´ì „íŠ¸-ì—°ê²°">12.4 RALê³¼ APB ì—ì´ì „íŠ¸ ì—°ê²°</a></li>
  <li class="toc-sub"><a href="#12-4-1-adapter-íŠ¸ëœì­ì…˜-ë³€í™˜ê¸°">12.4.1 Adapter â€” íŠ¸ëœì­ì…˜ ë³€í™˜ê¸°</a></li>
  <li class="toc-sub"><a href="#12-4-2-predictor-ìë™-ë¯¸ëŸ¬ë§">12.4.2 Predictor â€” ìë™ ë¯¸ëŸ¬ë§</a></li>
  <li class="toc-sub"><a href="#12-4-3-í™˜ê²½ì—-ral-í†µí•©">12.4.3 í™˜ê²½ì— RAL í†µí•©</a></li>
<li><a href="#12-5-ral-ê¸°ë³¸-ë™ì‘">12.5 RAL ê¸°ë³¸ ë™ì‘</a></li>
  <li class="toc-sub"><a href="#12-5-1-frontdoor-ì½ê¸°-ì“°ê¸°">12.5.1 Frontdoor ì½ê¸°/ì“°ê¸°</a></li>
  <li class="toc-sub"><a href="#12-5-2-ral-ì‹œí€€ìŠ¤-ì‘ì„±">12.5.2 RAL ì‹œí€€ìŠ¤ ì‘ì„±</a></li>
  <li class="toc-sub"><a href="#12-5-3-ì²«-ral-ì‹œë®¬ë ˆì´ì…˜">12.5.3 ì²« RAL ì‹œë®¬ë ˆì´ì…˜</a></li>
<li><a href="#12-6-ë‚´ì¥-ì‹œí€€ìŠ¤ì™€-ë°±ë„ì–´">12.6 ë‚´ì¥ ì‹œí€€ìŠ¤ì™€ ë°±ë„ì–´</a></li>
  <li class="toc-sub"><a href="#12-6-1-uvm-reg-hw-reset-seq-ë¦¬ì…‹-ê°’-ê²€ì¦">12.6.1 uvm_reg_hw_reset_seq â€” ë¦¬ì…‹ ê°’ ê²€ì¦</a></li>
  <li class="toc-sub"><a href="#12-6-2-uvm-reg-bit-bash-seq-ë¹„íŠ¸-ì ‘ê·¼-ê²€ì¦">12.6.2 uvm_reg_bit_bash_seq â€” ë¹„íŠ¸ ì ‘ê·¼ ê²€ì¦</a></li>
  <li class="toc-sub"><a href="#12-6-3-backdoor-ì ‘ê·¼-dut-ì§ì ‘-ì½ê¸°-ì“°ê¸°">12.6.3 Backdoor ì ‘ê·¼ â€” DUT ì§ì ‘ ì½ê¸°/ì“°ê¸°</a></li>
  <li class="toc-sub"><a href="#12-6-4-ch-11-ìˆ˜ë™-ê²€ì¦-vs-ral-ìë™-ê²€ì¦-ë¹„êµ">12.6.4 Ch.11 ìˆ˜ë™ ê²€ì¦ vs RAL ìë™ ê²€ì¦ ë¹„êµ</a></li>
  <li class="toc-sub"><a href="#12-6-5-ral-ìì£¼-í•˜ëŠ”-ì‹¤ìˆ˜-top-5">12.6.5 RAL ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ Top 5</a></li>
<li><a href="#12-7-ì²´í¬í¬ì¸íŠ¸">12.7 ì²´í¬í¬ì¸íŠ¸</a></li>
  <li class="toc-sub"><a href="#12-7-1-ì…€í”„-ì²´í¬">12.7.1 ì…€í”„ ì²´í¬</a></li>
  <li class="toc-sub"><a href="#12-7-2-ì—°ìŠµë¬¸ì œ">12.7.2 ì—°ìŠµë¬¸ì œ</a></li>
  <li class="toc-sub"><a href="#12-7-3-ì´-ì±•í„°ì—ì„œ-ë°°ìš´-ê²ƒ">12.7.3 ì´ ì±•í„°ì—ì„œ ë°°ìš´ ê²ƒ</a></li>
  <li class="toc-sub"><a href="#12-7-4-ë‹¤ìŒ-ì¥-ë¯¸ë¦¬ë³´ê¸°">12.7.4 ë‹¤ìŒ ì¥ ë¯¸ë¦¬ë³´ê¸°</a></li>
</ul>
</nav>
    <h1>Chapter 12: ë ˆì§€ìŠ¤í„° ëª¨ë¸ (RAL)</h1>
<blockquote>
<p><strong>ì´ ì±•í„°ì˜ ëª©í‘œ</strong>: Ch.11ì—ì„œ êµ¬ì¶•í•œ APB ì—ì´ì „íŠ¸ ìœ„ì— **UVM RAL(Register Abstraction Layer)**ì„ ì˜¬ë ¤, ë ˆì§€ìŠ¤í„°ì˜ í•„ë“œë³„ ì ‘ê·¼, ìë™ ì½ê¸°/ì“°ê¸° í…ŒìŠ¤íŠ¸, ë°±ë„ì–´ ì ‘ê·¼ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ìˆ˜ë™ ê²€ì¦ì—ì„œ ìë™í™”ëœ ë ˆì§€ìŠ¤í„° ê²€ì¦ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ê³¼ì •ì„ ì²´í—˜í•©ë‹ˆë‹¤.</p>
</blockquote>
<blockquote>
<p><strong>ì„ ìˆ˜ ì§€ì‹</strong>: Chapter 11 (APB ì¸í„°í˜ì´ìŠ¤ì™€ BFM), Chapter 8 (ìŠ¤ì½”ì–´ë³´ë“œì™€ analysis port), Chapter 6 (ì‹œí€€ìŠ¤)</p>
</blockquote>
<hr>
<h2 id="12-1-ì™œ-ë ˆì§€ìŠ¤í„°-ëª¨ë¸ì´-í•„ìš”í•œê°€">12.1 ì™œ ë ˆì§€ìŠ¤í„° ëª¨ë¸ì´ í•„ìš”í•œê°€</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: Ch.11ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•œ ë ˆì§€ìŠ¤í„° ê²€ì¦ì˜ í•œê³„ë¥¼ ì¸ì‹í•˜ê³ , RALì˜ í•„ìš”ì„±ê³¼ ì•„í‚¤í…ì²˜ë¥¼ ì´í•´í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-1-1-ch-11-ë°©ì‹ì˜-í•œê³„-ìˆ˜ë™-ê²€ì¦">12.1.1 Ch.11 ë°©ì‹ì˜ í•œê³„ â€” ìˆ˜ë™ ê²€ì¦</h3>
<p>Ch.11ì—ì„œ APB Slave Memoryì˜ 16ê°œ ë ˆì§€ìŠ¤í„°ë¥¼ ê²€ì¦í•  ë•Œ, ì´ë ‡ê²Œ í–ˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// Ch.11 ë°©ì‹: ìˆ˜ë™ìœ¼ë¡œ ì£¼ì†Œ/ë°ì´í„° ì§€ì •</span>
wr_seq<span class="hljs-variable">.target_addr</span> = <span class="hljs-number">4&#x27;h3</span>;    <span class="hljs-comment">// ì£¼ì†Œ 0x3</span>
wr_seq<span class="hljs-variable">.target_data</span> = <span class="hljs-number">8&#x27;hAB</span>;   <span class="hljs-comment">// ë°ì´í„° 0xAB</span>
wr_seq<span class="hljs-variable">.start</span>(m_sequencer);

rd_seq<span class="hljs-variable">.target_addr</span> = <span class="hljs-number">4&#x27;h3</span>;
rd_seq<span class="hljs-variable">.start</span>(m_sequencer);
<span class="hljs-comment">// ê²°ê³¼ ë¹„êµë„ ìˆ˜ë™</span>
<span class="hljs-keyword">if</span> (rd_seq<span class="hljs-variable">.read_data</span> !== <span class="hljs-number">8&#x27;hAB</span>) `uvm_error(...)
</code></pre><p>ì´ ë°©ì‹ì€ ë™ì‘í•˜ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤:</p>
<table>
<thead>
<tr>
<th>ë¬¸ì œ</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody><tr>
<td><strong>í™•ì¥ì„±</strong></td>
<td>SoCì—ëŠ” ìˆ˜ë°±~ìˆ˜ì²œ ê°œ ë ˆì§€ìŠ¤í„°ê°€ ìˆìŒ. ê°ê° ìˆ˜ë™ìœ¼ë¡œ ì£¼ì†Œ/ê°’ ì§€ì •?</td>
</tr>
<tr>
<td><strong>í•„ë“œ ì ‘ê·¼</strong></td>
<td>8ë¹„íŠ¸ ë ˆì§€ìŠ¤í„° ë‚´ ê°œë³„ ë¹„íŠ¸ í•„ë“œë¥¼ ë‹¤ë£¨ë ¤ë©´ ë§ˆìŠ¤í‚¹ ì—°ì‚° í•„ìš”</td>
</tr>
<tr>
<td><strong>ìë™ í…ŒìŠ¤íŠ¸</strong></td>
<td>&quot;ëª¨ë“  ë ˆì§€ìŠ¤í„°ê°€ ë¦¬ì…‹ ê°’ì´ ë§ëŠ”ê°€?&quot; ê°™ì€ ê²€ì¦ì„ ì¼ì¼ì´ ì½”ë”©?</td>
</tr>
<tr>
<td><strong>ë¬¸ì„œ ë™ê¸°í™”</strong></td>
<td>ë ˆì§€ìŠ¤í„° ì‚¬ì–‘(ìŠ¤í™)ì´ ë°”ë€Œë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì „ë¶€ ìˆ˜ì •</td>
</tr>
<tr>
<td><strong>ì¬ì‚¬ìš©</strong></td>
<td>ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ê°™ì€ IPë¥¼ ì‚¬ìš©í•˜ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‘ì„±</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>ì‹¤ë¬´ ìƒí™©</strong>: íŒ¹ë¦¬ìŠ¤ íšŒì‚¬ì—ì„œ SoC í•˜ë‚˜ì— ë ˆì§€ìŠ¤í„°ê°€ 3,000ê°œ ì´ìƒì¸ ê²½ìš°ê°€ í”í•©ë‹ˆë‹¤. ì´ê²ƒì„ ìˆ˜ë™ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” ê²ƒì€ ì‚¬ì‹¤ìƒ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-1-2-ralì´ë€-ë ˆì§€ìŠ¤í„°-ì¶”ìƒí™”-ê³„ì¸µ">12.1.2 RALì´ë€? â€” ë ˆì§€ìŠ¤í„° ì¶”ìƒí™” ê³„ì¸µ</h3>
<p>**UVM RAL(Register Abstraction Layer)**ì€ DUTì˜ ë ˆì§€ìŠ¤í„°ë¥¼ <strong>ì†Œí”„íŠ¸ì›¨ì–´ ê°ì²´ë¡œ ëª¨ë¸ë§</strong>í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.</p>
<p><strong>í•µì‹¬ ì•„ì´ë””ì–´:</strong></p>
<pre><code>ì „í†µì  ë°©ë²•:                    RAL ë°©ë²•:
ì‹œí€€ìŠ¤ì—ì„œ ì§ì ‘ ì£¼ì†Œ ì§€ì •       ì‹œí€€ìŠ¤ì—ì„œ ë ˆì§€ìŠ¤í„° ì´ë¦„ìœ¼ë¡œ ì ‘ê·¼
  addr = 4&#39;h3;                   reg_model.ctrl_reg.write(status, 8&#39;hAB);
  data = 8&#39;hAB;                  reg_model.ctrl_reg.read(status, rdata);
  write(addr, data);
</code></pre><p><strong>RALì˜ ê°€ì¹˜:</strong></p>
<ol>
<li><strong>ì¶”ìƒí™”</strong>: ì£¼ì†Œ ëŒ€ì‹  <strong>ì´ë¦„</strong>ìœ¼ë¡œ ì ‘ê·¼ (<code>ctrl_reg.enable.set(1)</code>)</li>
<li><strong>ìë™ í…ŒìŠ¤íŠ¸</strong>: ë‚´ì¥ ì‹œí€€ìŠ¤ë¡œ ë¦¬ì…‹ ê°’, ë¹„íŠ¸ ì ‘ê·¼ ë“±ì„ ìë™ ê²€ì¦</li>
<li><strong>ë¯¸ëŸ¬ë§</strong>: RALì´ DUTì˜ ë ˆì§€ìŠ¤í„° ìƒíƒœë¥¼ <strong>ìë™ ì¶”ì </strong> (desired/mirrored ê°’)</li>
<li><strong>ì¬ì‚¬ìš©</strong>: ë ˆì§€ìŠ¤í„° ëª¨ë¸ë§Œ êµì²´í•˜ë©´ ë‹¤ë¥¸ IPì—ë„ ì ìš© ê°€ëŠ¥</li>
<li><strong>ë¬¸ì„œ ì—°ë™</strong>: ë ˆì§€ìŠ¤í„° ì‚¬ì–‘ì—ì„œ RAL ì½”ë“œë¥¼ <strong>ìë™ ìƒì„±</strong> ê°€ëŠ¥ (ralgen, IDesignSpec ë“±)</li>
</ol>
<h3 id="12-1-3-ral-ì•„í‚¤í…ì²˜">12.1.3 RAL ì•„í‚¤í…ì²˜</h3>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 490" style="max-width:640px;width:100%;height:auto">
  <defs>
    <filter id="sh12a" x="-3%" y="-4%" width="106%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.10"/>
    </filter>
    <marker id="arr12" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0,8 2.8,0 5.6" fill="#64748b"/>
    </marker>
    <marker id="arr12r" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0,8 2.8,0 5.6" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- Title -->
  <rect x="190" y="6" width="260" height="34" rx="17" fill="#1e293b"/>
  <text x="320" y="29" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="15" font-weight="bold" fill="#fff">RAL ì•„í‚¤í…ì²˜ ê°œìš”</text>

  <!-- Layer 1: Test/Sequence -->
  <rect x="200" y="55" width="240" height="38" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5" filter="url(#sh12a)"/>
  <text x="320" y="79" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#92400e">í…ŒìŠ¤íŠ¸ / ì‹œí€€ìŠ¤</text>

  <!-- Arrow -->
  <line x1="320" y1="93" x2="320" y2="120" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr12)"/>

  <!-- Layer 2: Register Model -->
  <rect x="80" y="126" width="480" height="120" rx="10" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2" filter="url(#sh12a)"/>
  <text x="320" y="148" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#5b21b6">Register Model (uvm_reg_block)</text>

  <!-- Registers inside model (centered: 3 boxes span 140+20+130+20+70=380, start=320-190=130) -->
  <rect x="130" y="158" width="130" height="42" rx="6" fill="#ede9fe" stroke="#a78bfa" stroke-width="1"/>
  <text x="195" y="176" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" font-weight="bold" fill="#5b21b6">ctrl_reg</text>
  <text x="195" y="192" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="9" fill="#7c3aed">enable, mode</text>

  <rect x="280" y="158" width="130" height="42" rx="6" fill="#ede9fe" stroke="#a78bfa" stroke-width="1"/>
  <text x="345" y="176" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" font-weight="bold" fill="#5b21b6">data_reg</text>
  <text x="345" y="192" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="9" fill="#7c3aed">data[7:0]</text>

  <rect x="430" y="158" width="80" height="42" rx="6" fill="#ede9fe" stroke="#a78bfa" stroke-width="1"/>
  <text x="470" y="183" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#7c3aed">...</text>

  <!-- reg_map label (centered) -->
  <rect x="130" y="210" width="380" height="24" rx="4" fill="#ddd6fe"/>
  <text x="320" y="227" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#5b21b6">uvm_reg_map (ì£¼ì†Œ ë§¤í•‘: 0x0, 0x1, ...)</text>

  <!-- Arrow from model to adapter -->
  <line x1="320" y1="246" x2="320" y2="274" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr12)"/>

  <!-- Layer 3: Adapter -->
  <rect x="170" y="280" width="300" height="42" rx="8" fill="#dbeafe" stroke="#2563eb" stroke-width="1.5" filter="url(#sh12a)"/>
  <text x="320" y="298" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#1e40af">Adapter</text>
  <text x="320" y="314" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#2563eb">reg2bus() / bus2reg()</text>

  <!-- Arrow from adapter to agent -->
  <line x1="248" y1="322" x2="180" y2="356" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr12)"/>
  <!-- Arrow from adapter to predictor -->
  <line x1="392" y1="322" x2="460" y2="356" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr12)"/>

  <!-- Layer 4: APB Agent -->
  <rect x="60" y="362" width="240" height="55" rx="8" fill="#f0fdf4" stroke="#16a34a" stroke-width="1.5" filter="url(#sh12a)"/>
  <text x="180" y="384" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#166534">APB Agent (Ch.11)</text>
  <text x="180" y="404" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#16a34a">Sequencer â†’ Driver â†’ DUT</text>

  <!-- Layer 4: Predictor -->
  <rect x="340" y="362" width="240" height="55" rx="8" fill="#fef2f2" stroke="#ef4444" stroke-width="1.5" filter="url(#sh12a)"/>
  <text x="460" y="384" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#dc2626">Predictor</text>
  <text x="460" y="404" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#ef4444">Monitor â†’ auto-mirror</text>

  <!-- Back arrow from predictor to model -->
  <path d="M 580 387 L 595 387 L 595 180 L 512 180" fill="none" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="5,3" marker-end="url(#arr12r)"/>
  <text x="603" y="280" text-anchor="start" font-family="'Noto Sans KR',sans-serif" font-size="9" fill="#ef4444" transform="rotate(90,603,280)">ë¯¸ëŸ¬ ì—…ë°ì´íŠ¸</text>

  <!-- Bottom: DUT (centered under APB Agent at x=180) -->
  <rect x="90" y="440" width="180" height="36" rx="8" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1.5"/>
  <text x="180" y="463" text-anchor="middle" font-family="'Fira Code',monospace" font-size="12" font-weight="bold" fill="#475569">APB Slave DUT</text>
  <line x1="180" y1="417" x2="180" y2="438" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr12)"/>

</svg>
</div><p><strong>íë¦„:</strong></p>
<ol>
<li>í…ŒìŠ¤íŠ¸/ì‹œí€€ìŠ¤ê°€ RAL ëª¨ë¸ì—ê²Œ <code>write()</code>/<code>read()</code> ìš”ì²­</li>
<li>RAL ëª¨ë¸ì´ <strong>Adapter</strong>ë¥¼ í†µí•´ APB íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë³€í™˜</li>
<li>APB ì—ì´ì „íŠ¸ì˜ ì‹œí€€ì„œ â†’ ë“œë¼ì´ë²„ê°€ ì‹¤ì œ ë²„ìŠ¤ì— ì „ì†¡</li>
<li><strong>Predictor</strong>ê°€ ëª¨ë‹ˆí„°ì˜ ê´€ì°° ê²°ê³¼ë¡œ RAL ë¯¸ëŸ¬ ê°’ì„ ìë™ ì—…ë°ì´íŠ¸</li>
</ol>
<blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: RALì€ &quot;ì€í–‰ ATM&quot;ê³¼ ê°™ìŠµë‹ˆë‹¤. ATM(RAL)ì—ì„œ &quot;ì´ì²´&quot;ë¼ê³  ëˆ„ë¥´ë©´, ë‚´ë¶€ì ìœ¼ë¡œ ì€í–‰ ì „ì‚°ë§(APB ë²„ìŠ¤)ì„ í†µí•´ ì‹¤ì œ ê³„ì¢Œ(DUT ë ˆì§€ìŠ¤í„°)ì— ì ‘ê·¼í•©ë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì „ì‚°ë§ì˜ í”„ë¡œí† ì½œì„ ì•Œ í•„ìš” ì—†ì´ ì´ë¦„ê³¼ ê¸ˆì•¡ë§Œ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.</p>
</blockquote>
<hr>
<h2 id="12-2-ral-êµ¬ì„±-ìš”ì†Œ">12.2 RAL êµ¬ì„± ìš”ì†Œ</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: RALì„ ì´ë£¨ëŠ” 4ê°€ì§€ í•µì‹¬ í´ë˜ìŠ¤(uvm_reg_field, uvm_reg, uvm_reg_block, uvm_reg_map)ë¥¼ ì´í•´í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-2-1-uvm-reg-field-ë¹„íŠ¸-í•„ë“œ-ì •ì˜">12.2.1 uvm_reg_field â€” ë¹„íŠ¸ í•„ë“œ ì •ì˜</h3>
<p>ë ˆì§€ìŠ¤í„° ì•ˆì˜ <strong>ê°œë³„ ë¹„íŠ¸ ê·¸ë£¹</strong>ì„ í‘œí˜„í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// ì˜ˆì‹œ: 8ë¹„íŠ¸ Control ë ˆì§€ìŠ¤í„°ì˜ í•„ë“œ êµ¬ì„±</span>
<span class="hljs-comment">// [7]    = enable (R/W, ë¦¬ì…‹ê°’ 0)</span>
<span class="hljs-comment">// [6:5]  = mode   (R/W, ë¦¬ì…‹ê°’ 0)</span>
<span class="hljs-comment">// [4:0]  = reserved (R/O, ë¦¬ì…‹ê°’ 0)</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
</code></pre><p><code>uvm_reg_field</code>ì˜ <code>configure()</code> ë©”ì„œë“œ:</p>
<pre><code class="hljs language-systemverilog">field<span class="hljs-variable">.configure</span>(
  <span class="hljs-variable">.parent</span>     (<span class="hljs-keyword">this</span>),         <span class="hljs-comment">// ì†Œì† ë ˆì§€ìŠ¤í„°</span>
  <span class="hljs-variable">.size</span>       (<span class="hljs-number">1</span>),            <span class="hljs-comment">// ë¹„íŠ¸ ìˆ˜</span>
  <span class="hljs-variable">.lsb_pos</span>    (<span class="hljs-number">7</span>),            <span class="hljs-comment">// ì‹œì‘ ë¹„íŠ¸ ìœ„ì¹˜</span>
  <span class="hljs-variable">.access</span>     (<span class="hljs-string">&quot;RW&quot;</span>),         <span class="hljs-comment">// ì ‘ê·¼ íƒ€ì…</span>
  <span class="hljs-variable">.volatile</span>   (<span class="hljs-number">0</span>),            <span class="hljs-comment">// í•˜ë“œì›¨ì–´ê°€ ìì²´ ë³€ê²½í•˜ëŠ”ê°€?</span>
  <span class="hljs-variable">.reset</span>      (<span class="hljs-number">1&#x27;b0</span>),         <span class="hljs-comment">// ë¦¬ì…‹ ê°’</span>
  <span class="hljs-variable">.has_reset</span>  (<span class="hljs-number">1</span>),            <span class="hljs-comment">// ë¦¬ì…‹ ê°’ì´ ìˆëŠ”ê°€?</span>
  <span class="hljs-variable">.is_rand</span>    (<span class="hljs-number">1</span>),            <span class="hljs-comment">// ëœë¤í™” ê°€ëŠ¥?</span>
  <span class="hljs-variable">.individually_accessible</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// ê°œë³„ ì ‘ê·¼ ê°€ëŠ¥?</span>
);
</code></pre><p><strong>ì£¼ìš” ì ‘ê·¼ íƒ€ì…:</strong></p>
<table>
<thead>
<tr>
<th>íƒ€ì…</th>
<th>ì˜ë¯¸</th>
<th>ì˜ˆì‹œ</th>
</tr>
</thead>
<tbody><tr>
<td><code>&quot;RW&quot;</code></td>
<td>ì½ê¸°/ì“°ê¸°</td>
<td>ì¼ë°˜ ì„¤ì • ë ˆì§€ìŠ¤í„°</td>
</tr>
<tr>
<td><code>&quot;RO&quot;</code></td>
<td>ì½ê¸° ì „ìš©</td>
<td>ìƒíƒœ ë ˆì§€ìŠ¤í„°, ë²„ì „ ì •ë³´</td>
</tr>
<tr>
<td><code>&quot;WO&quot;</code></td>
<td>ì“°ê¸° ì „ìš©</td>
<td>ëª…ë ¹ íŠ¸ë¦¬ê±°</td>
</tr>
<tr>
<td><code>&quot;W1C&quot;</code></td>
<td>1ì„ ì“°ë©´ í´ë¦¬ì–´</td>
<td>ì¸í„°ëŸ½íŠ¸ ìƒíƒœ</td>
</tr>
<tr>
<td><code>&quot;RC&quot;</code></td>
<td>ì½ìœ¼ë©´ í´ë¦¬ì–´</td>
<td>FIFO ì¹´ìš´í„°</td>
</tr>
</tbody></table>
<h3 id="12-2-2-uvm-reg-ë ˆì§€ìŠ¤í„°-ì •ì˜">12.2.2 uvm_reg â€” ë ˆì§€ìŠ¤í„° ì •ì˜</h3>
<p>í•˜ë‚˜ì˜ <strong>ë ˆì§€ìŠ¤í„°</strong>ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤. ì—¬ëŸ¬ <code>uvm_reg_field</code>ë¥¼ í¬í•¨:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// Control ë ˆì§€ìŠ¤í„° ì •ì˜</span>
<span class="hljs-comment">// íŒŒì¼: apb_ctrl_reg.sv</span>
<span class="hljs-comment">// ì£¼ì†Œ: 0x0, 8ë¹„íŠ¸, 3ê°œ í•„ë“œ</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_ctrl_reg <span class="hljs-keyword">extends</span> uvm_reg;
  `uvm_object_utils(apb_ctrl_reg)

  <span class="hljs-comment">// í•„ë“œ ì„ ì–¸</span>
  <span class="hljs-keyword">rand</span> uvm_reg_field enable;    <span class="hljs-comment">// [7]    R/W</span>
  <span class="hljs-keyword">rand</span> uvm_reg_field mode;      <span class="hljs-comment">// [6:5]  R/W</span>
  <span class="hljs-keyword">rand</span> uvm_reg_field reserved;  <span class="hljs-comment">// [4:0]  R/O</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_ctrl_reg&quot;</span>);
    <span class="hljs-comment">// 8ë¹„íŠ¸ ë ˆì§€ìŠ¤í„°, ì»¤ë²„ë¦¬ì§€ ì—†ìŒ</span>
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, <span class="hljs-number">8</span>, UVM_NO_COVERAGE);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build();
    <span class="hljs-comment">// â”€â”€ í•„ë“œ ìƒì„± ë° ì„¤ì • â”€â”€</span>
    enable = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;enable&quot;</span>);
    enable<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-string">&quot;RW&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
    <span class="hljs-comment">//                      size=1, lsb=7, RW, reset=0</span>

    mode = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;mode&quot;</span>);
    mode<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;RW&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2&#x27;b00</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
    <span class="hljs-comment">//                    size=2, lsb=5, RW, reset=0</span>

    reserved = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;reserved&quot;</span>);
    reserved<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;RO&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    <span class="hljs-comment">//                       size=5, lsb=0, RO, reset=0, rand=0</span>
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>í•µì‹¬ í¬ì¸íŠ¸:</strong></p>
<ul>
<li><code>super.new(name, 8, UVM_NO_COVERAGE)</code> â€” 8ë¹„íŠ¸ ë ˆì§€ìŠ¤í„°</li>
<li><code>build()</code> í•¨ìˆ˜ì—ì„œ í•„ë“œë¥¼ ìƒì„±í•˜ê³  <code>configure()</code>ë¡œ ì†ì„± ì„¤ì •</li>
<li>í•„ë“œë“¤ì˜ ë¹„íŠ¸ ìœ„ì¹˜ê°€ ê²¹ì¹˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤ (enable=7, mode=6:5, reserved=4:0)</li>
</ul>
<h3 id="12-2-3-uvm-reg-blockê³¼-uvm-reg-map-ì£¼ì†Œ-ë§¤í•‘">12.2.3 uvm_reg_blockê³¼ uvm_reg_map â€” ì£¼ì†Œ ë§¤í•‘</h3>
<p>**<code>uvm_reg_block</code>**ì€ ì—¬ëŸ¬ ë ˆì§€ìŠ¤í„°ë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ê³ , **<code>uvm_reg_map</code>**ì€ ê° ë ˆì§€ìŠ¤í„°ì˜ ì£¼ì†Œë¥¼ ë§¤í•‘í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ë¸”ë¡ (ê°„ë‹¨í•œ ì˜ˆì‹œ)</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_reg_block <span class="hljs-keyword">extends</span> uvm_reg_block;
  `uvm_object_utils(apb_reg_block)

  <span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ì„ ì–¸</span>
  <span class="hljs-keyword">rand</span> apb_ctrl_reg ctrl_reg;    <span class="hljs-comment">// ì£¼ì†Œ 0x0</span>
  <span class="hljs-keyword">rand</span> apb_data_reg data_reg;    <span class="hljs-comment">// ì£¼ì†Œ 0x1</span>

  <span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ë§µ</span>
  uvm_reg_map reg_map;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_reg_block&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, UVM_NO_COVERAGE);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build();
    <span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ìƒì„±</span>
    ctrl_reg = apb_ctrl_reg::type_id::create(<span class="hljs-string">&quot;ctrl_reg&quot;</span>);
    ctrl_reg<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>);  <span class="hljs-comment">// ì´ ë¸”ë¡ì— ì†Œì†</span>
    ctrl_reg<span class="hljs-variable">.build</span>();          <span class="hljs-comment">// í•„ë“œ ìƒì„±</span>

    data_reg = apb_data_reg::type_id::create(<span class="hljs-string">&quot;data_reg&quot;</span>);
    data_reg<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>);
    data_reg<span class="hljs-variable">.build</span>();

    <span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ë§µ ìƒì„± â€” ì£¼ì†Œ ë§¤í•‘</span>
    reg_map = create_map(
      <span class="hljs-string">&quot;reg_map&quot;</span>,    <span class="hljs-comment">// ë§µ ì´ë¦„</span>
      <span class="hljs-number">&#x27;h0</span>,          <span class="hljs-comment">// ë² ì´ìŠ¤ ì£¼ì†Œ</span>
      <span class="hljs-number">1</span>,            <span class="hljs-comment">// ì£¼ì†Œ ë‹¨ìœ„ (ë°”ì´íŠ¸)</span>
      UVM_LITTLE_ENDIAN  <span class="hljs-comment">// ì—”ë””ì•ˆ</span>
    );

    <span class="hljs-comment">// ë ˆì§€ìŠ¤í„°ë¥¼ ë§µì— ì¶”ê°€ (ì£¼ì†Œ í• ë‹¹)</span>
    reg_map<span class="hljs-variable">.add_reg</span>(ctrl_reg, <span class="hljs-number">&#x27;h0</span>, <span class="hljs-string">&quot;RW&quot;</span>);  <span class="hljs-comment">// ì£¼ì†Œ 0x0</span>
    reg_map<span class="hljs-variable">.add_reg</span>(data_reg, <span class="hljs-number">&#x27;h1</span>, <span class="hljs-string">&quot;RW&quot;</span>);  <span class="hljs-comment">// ì£¼ì†Œ 0x1</span>
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>í•µì‹¬:</strong></p>
<ul>
<li><code>create_map()</code> â€” ì£¼ì†Œ ê³µê°„ ì •ì˜ (ë² ì´ìŠ¤ ì£¼ì†Œ, ë°”ì´íŠ¸ ë‹¨ìœ„, ì—”ë””ì•ˆ)</li>
<li><code>add_reg()</code> â€” ë ˆì§€ìŠ¤í„°ì— ì˜¤í”„ì…‹ ì£¼ì†Œ í• ë‹¹</li>
<li>í•˜ë‚˜ì˜ ë ˆì§€ìŠ¤í„° ë¸”ë¡ì— ì—¬ëŸ¬ ë§µì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤ (APBë§µ, AXIë§µ ë“±)</li>
</ul>
<h3 id="12-2-4-ê³„ì¸µ-êµ¬ì¡°-ìš”ì•½">12.2.4 ê³„ì¸µ êµ¬ì¡° ìš”ì•½</h3>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 560 360" style="max-width:560px;width:100%;height:auto">
  <defs>
    <filter id="sh12h" x="-3%" y="-4%" width="106%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
  </defs>

  <!-- Title -->
  <rect x="160" y="6" width="240" height="32" rx="16" fill="#1e293b"/>
  <text x="280" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">RAL ê³„ì¸µ êµ¬ì¡°</text>

  <!-- Level 1: reg_block -->
  <rect x="130" y="52" width="300" height="36" rx="8" fill="#7c3aed" filter="url(#sh12h)"/>
  <text x="280" y="75" text-anchor="middle" font-family="'Fira Code',monospace" font-size="13" font-weight="bold" fill="#fff">uvm_reg_block</text>

  <!-- Branch down from block -->
  <line x1="200" y1="88" x2="200" y2="106" stroke="#7c3aed" stroke-width="2"/>
  <line x1="380" y1="88" x2="380" y2="106" stroke="#7c3aed" stroke-width="2"/>

  <!-- Level 2a: reg_map -->
  <rect x="80" y="108" width="240" height="60" rx="8" fill="#ede9fe" stroke="#7c3aed" stroke-width="1.5" filter="url(#sh12h)"/>
  <text x="200" y="130" text-anchor="middle" font-family="'Fira Code',monospace" font-size="12" font-weight="bold" fill="#5b21b6">uvm_reg_map</text>
  <text x="200" y="148" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#7c3aed">addr 0x0 â†’ ctrl_reg</text>
  <text x="200" y="161" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#7c3aed">addr 0x1 â†’ status_reg ...</text>

  <!-- Level 2b: reg -->
  <rect x="340" y="108" width="180" height="36" rx="8" fill="#dbeafe" stroke="#2563eb" stroke-width="1.5" filter="url(#sh12h)"/>
  <text x="430" y="131" text-anchor="middle" font-family="'Fira Code',monospace" font-size="12" font-weight="bold" fill="#1e40af">uvm_reg</text>

  <!-- Branch down from reg -->
  <line x1="430" y1="144" x2="430" y2="162" stroke="#2563eb" stroke-width="2"/>

  <!-- Level 3: reg fields container -->
  <rect x="340" y="164" width="180" height="130" rx="8" fill="#f0f9ff" stroke="#2563eb" stroke-width="1" filter="url(#sh12h)"/>
  <text x="430" y="183" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" font-weight="bold" fill="#1e40af">í•„ë“œ êµ¬ì„±</text>

  <!-- Field 1 -->
  <rect x="355" y="192" width="150" height="24" rx="4" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="430" y="209" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#1e40af">enable [7] RW</text>

  <!-- Field 2 -->
  <rect x="355" y="222" width="150" height="24" rx="4" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="430" y="239" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#1e40af">mode [6:5] RW</text>

  <!-- Field 3 -->
  <rect x="355" y="252" width="150" height="24" rx="4" fill="#fef2f2" stroke="#fca5a5" stroke-width="1"/>
  <text x="430" y="269" text-anchor="middle" font-family="'Fira Code',monospace" font-size="10" fill="#dc2626">reserved [4:0] RO</text>

  <!-- Legend labels -->
  <rect x="80" y="190" width="220" height="80" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="190" y="210" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" font-weight="bold" fill="#475569">ê¸°ì–µí•  ê´€ê³„</text>
  <text x="190" y="230" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">Block â†’ Map + Reg</text>
  <text x="190" y="247" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">Map â†’ ê° Regì— ì£¼ì†Œ í• ë‹¹</text>
  <text x="190" y="264" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">Reg â†’ 1ê°œ ì´ìƒ Field</text>

  <!-- Bottom label -->
  <text x="280" y="340" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#94a3b8">uvm_reg_field â†’ uvm_reg â†’ uvm_reg_block â†’ uvm_reg_map</text>

</svg>
</div><p><strong>ê¸°ì–µí•  ê´€ê³„:</strong></p>
<ul>
<li><strong>Block</strong> â†’ 1ê°œ ì´ìƒì˜ <strong>Map</strong> + ì—¬ëŸ¬ <strong>Reg</strong></li>
<li><strong>Map</strong> â†’ ê° Regì— ì£¼ì†Œ í• ë‹¹</li>
<li><strong>Reg</strong> â†’ 1ê°œ ì´ìƒì˜ <strong>Field</strong></li>
<li><strong>Field</strong> â†’ ë¹„íŠ¸ ìœ„ì¹˜, ì ‘ê·¼ íƒ€ì…, ë¦¬ì…‹ ê°’</li>
</ul>
<hr>
<h2 id="12-3-apb-slave-memory-ë ˆì§€ìŠ¤í„°-ëª¨ë¸">12.3 APB Slave Memory ë ˆì§€ìŠ¤í„° ëª¨ë¸</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: Ch.11ì˜ APB Slave Memory DUTì— ëŒ€í•œ ì™„ì „í•œ ë ˆì§€ìŠ¤í„° ëª¨ë¸ì„ êµ¬í˜„í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-3-1-ë ˆì§€ìŠ¤í„°-ì‚¬ì–‘-ì •ì˜">12.3.1 ë ˆì§€ìŠ¤í„° ì‚¬ì–‘ ì •ì˜</h3>
<p>Ch.11ì˜ DUTëŠ” 16ê°œì˜ 8ë¹„íŠ¸ ë ˆì§€ìŠ¤í„°ë¥¼ ê°€ì§‘ë‹ˆë‹¤. RALì„ ì˜ë¯¸ìˆê²Œ í™œìš©í•˜ê¸° ìœ„í•´, ê° ë ˆì§€ìŠ¤í„°ì— í•„ë“œ ì˜ë¯¸ë¥¼ ë¶€ì—¬í•©ë‹ˆë‹¤:</p>
<table>
<thead>
<tr>
<th>ì£¼ì†Œ</th>
<th>ì´ë¦„</th>
<th>í•„ë“œ</th>
<th>ì ‘ê·¼</th>
<th>ë¦¬ì…‹ ê°’</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody><tr>
<td>0x0</td>
<td><code>ctrl_reg</code></td>
<td>enable[7], mode[6:5], rsv[4:0]</td>
<td>RW/RW/RO</td>
<td>0x00</td>
<td>ì œì–´ ë ˆì§€ìŠ¤í„°</td>
</tr>
</tbody></table>
<p><strong>ctrl_reg ë¹„íŠ¸ í•„ë“œ ë§µ:</strong></p>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 520 180" style="max-width:520px;width:100%;height:auto">
  <defs>
    <filter id="sh12b" x="-2%" y="-4%" width="104%" height="116%">
      <feDropShadow dx="0" dy="1" stdDeviation="2" flood-opacity="0.08"/>
    </filter>
  </defs>

  <!-- Title -->
  <rect x="110" y="6" width="300" height="28" rx="14" fill="#1e293b"/>
  <text x="260" y="25" text-anchor="middle" font-family="'Fira Code',monospace" font-size="12" font-weight="bold" fill="#fff">ctrl_reg (8ë¹„íŠ¸, ì£¼ì†Œ 0x0)</text>

  <!-- Bit numbers row -->
  <text x="80" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">7</text>
  <text x="140" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">6</text>
  <text x="200" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">5</text>
  <text x="260" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">4</text>
  <text x="320" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">3</text>
  <text x="350" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">2</text>
  <text x="380" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">1</text>
  <text x="440" y="60" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">0</text>

  <!-- Field boxes -->
  <!-- enable [7] -->
  <rect x="50" y="68" width="60" height="40" rx="4" fill="#dbeafe" stroke="#2563eb" stroke-width="2" filter="url(#sh12b)"/>
  <text x="80" y="87" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" font-weight="bold" fill="#1e40af">enable</text>
  <text x="80" y="102" text-anchor="middle" font-family="'Fira Code',monospace" font-size="9" fill="#2563eb">R/W</text>

  <!-- mode [6:5] -->
  <rect x="110" y="68" width="120" height="40" rx="4" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2" filter="url(#sh12b)"/>
  <text x="170" y="87" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" font-weight="bold" fill="#5b21b6">mode</text>
  <text x="170" y="102" text-anchor="middle" font-family="'Fira Code',monospace" font-size="9" fill="#7c3aed">R/W</text>

  <!-- reserved [4:0] -->
  <rect x="230" y="68" width="240" height="40" rx="4" fill="#f1f5f9" stroke="#94a3b8" stroke-width="2" filter="url(#sh12b)"/>
  <text x="350" y="87" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" font-weight="bold" fill="#64748b">reserved</text>
  <text x="350" y="102" text-anchor="middle" font-family="'Fira Code',monospace" font-size="9" fill="#94a3b8">R/O</text>

  <!-- Reset values -->
  <text x="30" y="132" text-anchor="end" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">ë¦¬ì…‹:</text>
  <text x="80" y="132" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">0</text>
  <text x="170" y="132" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">00</text>
  <text x="350" y="132" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#64748b">00000</text>

  <!-- Bottom label -->
  <text x="260" y="165" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#94a3b8">ë¦¬ì…‹ ê°’: 0x00 = 8'b0000_0000</text>

</svg>
</div><p>| 0x1 | <code>status_reg</code> | busy[7], error[6], rsv[5:0] | RO/RO/RO | 0x00 | ìƒíƒœ ë ˆì§€ìŠ¤í„° |
| 0x2 | <code>data_reg</code> | data[7:0] | RW | 0x00 | ë°ì´í„° ë ˆì§€ìŠ¤í„° |
| 0x3~0xF | <code>gp_reg[0:12]</code> | data[7:0] | RW | 0x00 | ë²”ìš© ë ˆì§€ìŠ¤í„° |</p>
<blockquote>
<p>ğŸ’¡ <strong>ì‹¤ë¬´ ì°¸ê³ </strong>: ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë ˆì§€ìŠ¤í„° ì‚¬ì–‘ ë¬¸ì„œ(Register Specification)ë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³ , ì´ë¡œë¶€í„° RAL ì½”ë“œë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” í•™ìŠµì„ ìœ„í•´ ìˆ˜ë™ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-3-2-ë ˆì§€ìŠ¤í„°-í´ë˜ìŠ¤-êµ¬í˜„">12.3.2 ë ˆì§€ìŠ¤í„° í´ë˜ìŠ¤ êµ¬í˜„</h3>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// APB Slave Memory â€” ë ˆì§€ìŠ¤í„° ì •ì˜</span>
<span class="hljs-comment">// íŒŒì¼: apb_reg_classes.sv</span>
<span class="hljs-comment">// ì—­í• : ê° ë ˆì§€ìŠ¤í„°ì˜ í•„ë“œ êµ¬ì¡°ë¥¼ RALë¡œ ëª¨ë¸ë§</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>

<span class="hljs-comment">// â”€â”€ Control ë ˆì§€ìŠ¤í„° (ì£¼ì†Œ 0x0) â”€â”€</span>
<span class="hljs-keyword">class</span> apb_ctrl_reg <span class="hljs-keyword">extends</span> uvm_reg;
  `uvm_object_utils(apb_ctrl_reg)

  <span class="hljs-keyword">rand</span> uvm_reg_field enable;    <span class="hljs-comment">// [7]    â€” ë™ì‘ í™œì„±í™”</span>
  <span class="hljs-keyword">rand</span> uvm_reg_field mode;      <span class="hljs-comment">// [6:5]  â€” ë™ì‘ ëª¨ë“œ ì„ íƒ</span>
       uvm_reg_field reserved;  <span class="hljs-comment">// [4:0]  â€” ì˜ˆì•½ (RO)</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_ctrl_reg&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, <span class="hljs-number">8</span>, UVM_NO_COVERAGE);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build();
    enable = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;enable&quot;</span>);
    enable<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-string">&quot;RW&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);

    mode = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;mode&quot;</span>);
    mode<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-string">&quot;RW&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2&#x27;b00</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);

    reserved = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;reserved&quot;</span>);
    reserved<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;RO&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// â”€â”€ Status ë ˆì§€ìŠ¤í„° (ì£¼ì†Œ 0x1) â”€â”€</span>
<span class="hljs-keyword">class</span> apb_status_reg <span class="hljs-keyword">extends</span> uvm_reg;
  `uvm_object_utils(apb_status_reg)

  uvm_reg_field busy;      <span class="hljs-comment">// [7]    â€” ì²˜ë¦¬ ì¤‘ í”Œë˜ê·¸</span>
  uvm_reg_field error;     <span class="hljs-comment">// [6]    â€” ì—ëŸ¬ í”Œë˜ê·¸</span>
  uvm_reg_field reserved;  <span class="hljs-comment">// [5:0]  â€” ì˜ˆì•½</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_status_reg&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, <span class="hljs-number">8</span>, UVM_NO_COVERAGE);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build();
    busy = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;busy&quot;</span>);
    busy<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-string">&quot;RO&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    <span class="hljs-comment">//                              volatile=1 (HWê°€ ë³€ê²½)</span>

    error = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;error&quot;</span>);
    error<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-string">&quot;RO&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

    reserved = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;reserved&quot;</span>);
    reserved<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">6</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;RO&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">6&#x27;b0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// â”€â”€ Data/ë²”ìš© ë ˆì§€ìŠ¤í„° (ì£¼ì†Œ 0x2~0xF) â”€â”€</span>
<span class="hljs-keyword">class</span> apb_data_reg <span class="hljs-keyword">extends</span> uvm_reg;
  `uvm_object_utils(apb_data_reg)

  <span class="hljs-keyword">rand</span> uvm_reg_field data;  <span class="hljs-comment">// [7:0] â€” ì „ì²´ 8ë¹„íŠ¸ ë°ì´í„°</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_data_reg&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, <span class="hljs-number">8</span>, UVM_NO_COVERAGE);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build();
    data = uvm_reg_field::type_id::create(<span class="hljs-string">&quot;data&quot;</span>);
    data<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;RW&quot;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8&#x27;h0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><h3 id="12-3-3-ë ˆì§€ìŠ¤í„°-ë¸”ë¡-êµ¬í˜„">12.3.3 ë ˆì§€ìŠ¤í„° ë¸”ë¡ êµ¬í˜„</h3>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// APB Slave Memory â€” ë ˆì§€ìŠ¤í„° ë¸”ë¡</span>
<span class="hljs-comment">// íŒŒì¼: apb_reg_block.sv</span>
<span class="hljs-comment">// ì—­í• : 16ê°œ ë ˆì§€ìŠ¤í„°ë¥¼ í•˜ë‚˜ì˜ ë¸”ë¡ìœ¼ë¡œ ë¬¶ê³  ì£¼ì†Œ ë§¤í•‘</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_slave_reg_block <span class="hljs-keyword">extends</span> uvm_reg_block;
  `uvm_object_utils(apb_slave_reg_block)

  <span class="hljs-comment">// â”€â”€ ë ˆì§€ìŠ¤í„° ì„ ì–¸ â”€â”€</span>
  <span class="hljs-keyword">rand</span> apb_ctrl_reg   ctrl_reg;       <span class="hljs-comment">// ì£¼ì†Œ 0x0</span>
  <span class="hljs-keyword">rand</span> apb_status_reg status_reg;     <span class="hljs-comment">// ì£¼ì†Œ 0x1</span>
  <span class="hljs-keyword">rand</span> apb_data_reg   data_reg;       <span class="hljs-comment">// ì£¼ì†Œ 0x2</span>
  <span class="hljs-keyword">rand</span> apb_data_reg   gp_reg[<span class="hljs-number">13</span>];     <span class="hljs-comment">// ì£¼ì†Œ 0x3~0xF (13ê°œ ë²”ìš©)</span>

  uvm_reg_map reg_map;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_slave_reg_block&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, UVM_NO_COVERAGE);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build();
    <span class="hljs-comment">// â”€â”€ ë ˆì§€ìŠ¤í„° ìƒì„± â”€â”€</span>
    ctrl_reg = apb_ctrl_reg::type_id::create(<span class="hljs-string">&quot;ctrl_reg&quot;</span>);
    ctrl_reg<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>);
    ctrl_reg<span class="hljs-variable">.build</span>();

    status_reg = apb_status_reg::type_id::create(<span class="hljs-string">&quot;status_reg&quot;</span>);
    status_reg<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>);
    status_reg<span class="hljs-variable">.build</span>();

    data_reg = apb_data_reg::type_id::create(<span class="hljs-string">&quot;data_reg&quot;</span>);
    data_reg<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>);
    data_reg<span class="hljs-variable">.build</span>();

    <span class="hljs-keyword">foreach</span> (gp_reg[i]) <span class="hljs-keyword">begin</span>
      gp_reg[i] = apb_data_reg::type_id::create(<span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;gp_reg_%0d&quot;</span>, i));
      gp_reg[i]<span class="hljs-variable">.configure</span>(<span class="hljs-keyword">this</span>);
      gp_reg[i]<span class="hljs-variable">.build</span>();
    <span class="hljs-keyword">end</span>

    <span class="hljs-comment">// â”€â”€ ë ˆì§€ìŠ¤í„° ë§µ ìƒì„± â”€â”€</span>
    reg_map = create_map(<span class="hljs-string">&quot;reg_map&quot;</span>, <span class="hljs-number">&#x27;h0</span>, <span class="hljs-number">1</span>, UVM_LITTLE_ENDIAN);

    <span class="hljs-comment">// ì£¼ì†Œ ë§¤í•‘</span>
    reg_map<span class="hljs-variable">.add_reg</span>(ctrl_reg,   <span class="hljs-number">&#x27;h0</span>, <span class="hljs-string">&quot;RW&quot;</span>);
    reg_map<span class="hljs-variable">.add_reg</span>(status_reg, <span class="hljs-number">&#x27;h1</span>, <span class="hljs-string">&quot;RO&quot;</span>);
    reg_map<span class="hljs-variable">.add_reg</span>(data_reg,   <span class="hljs-number">&#x27;h2</span>, <span class="hljs-string">&quot;RW&quot;</span>);
    <span class="hljs-keyword">foreach</span> (gp_reg[i])
      reg_map<span class="hljs-variable">.add_reg</span>(gp_reg[i], <span class="hljs-number">&#x27;h3</span> + i, <span class="hljs-string">&quot;RW&quot;</span>);

    <span class="hljs-comment">// ë§µ ì ê¸ˆ â€” ë¹Œë“œ ì™„ë£Œ í›„ ë°˜ë“œì‹œ í˜¸ì¶œ</span>
    lock_model();
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>í•µì‹¬ í¬ì¸íŠ¸:</strong></p>
<ul>
<li><code>foreach (gp_reg[i])</code> â€” 13ê°œ ë²”ìš© ë ˆì§€ìŠ¤í„°ë¥¼ ë£¨í”„ë¡œ ìƒì„±</li>
<li><code>lock_model()</code> â€” ë ˆì§€ìŠ¤í„° ëª¨ë¸ì˜ ë¹Œë“œê°€ ì™„ë£Œë˜ì—ˆìŒì„ ì„ ì–¸. <strong>ë¹ ëœ¨ë¦¬ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬</strong> ë°œìƒ</li>
<li><code>create_map(&quot;reg_map&quot;, &#39;h0, 1, UVM_LITTLE_ENDIAN)</code> â€” ë°”ì´íŠ¸ ë‹¨ìœ„ ì£¼ì†Œ, ë¦¬í‹€ ì—”ë””ì•ˆ</li>
</ul>
<blockquote>
<p>âš ï¸ <strong>ì´ˆë³´ì ì£¼ì˜</strong>: <code>lock_model()</code>ì„ ë¹ ëœ¨ë¦¬ëŠ” ê²ƒì€ ê°€ì¥ í”í•œ RAL ì‹¤ìˆ˜ì…ë‹ˆë‹¤. ì´ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ <code>UVM_FATAL: &quot;Register model has not been locked!&quot;</code> ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>
</blockquote>
<hr>
<h2 id="12-4-ralê³¼-apb-ì—ì´ì „íŠ¸-ì—°ê²°">12.4 RALê³¼ APB ì—ì´ì „íŠ¸ ì—°ê²°</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: Adapterì™€ Predictorë¥¼ êµ¬í˜„í•˜ì—¬ RAL ëª¨ë¸ê³¼ Ch.11ì˜ APB ì—ì´ì „íŠ¸ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-4-1-adapter-íŠ¸ëœì­ì…˜-ë³€í™˜ê¸°">12.4.1 Adapter â€” íŠ¸ëœì­ì…˜ ë³€í™˜ê¸°</h3>
<p><strong>Adapter</strong>ëŠ” RALì˜ ì¼ë°˜ì ì¸ ë ˆì§€ìŠ¤í„° ì½ê¸°/ì“°ê¸° ìš”ì²­ì„ <strong>APB íŠ¸ëœì­ì…˜</strong>ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” &quot;ë²ˆì—­ê¸°&quot;ì…ë‹ˆë‹¤.</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// APB RAL Adapter</span>
<span class="hljs-comment">// íŒŒì¼: apb_reg_adapter.sv</span>
<span class="hljs-comment">// ì—­í• : RAL â†” APB íŠ¸ëœì­ì…˜ ë³€í™˜</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_reg_adapter <span class="hljs-keyword">extends</span> uvm_reg_adapter;
  `uvm_object_utils(apb_reg_adapter)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_reg_adapter&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);

    <span class="hljs-comment">// â”€â”€ ì¤‘ìš” ì„¤ì • â”€â”€</span>
    <span class="hljs-comment">// RALì´ ì‹œí€€ì„œë¥¼ í†µí•´ ì•„ì´í…œì„ ì „ì†¡í•˜ë„ë¡ ì„¤ì •</span>
    supports_byte_enable = <span class="hljs-number">0</span>;
    provides_responses   = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// â”€â”€ RAL â†’ APB ë³€í™˜ (reg2bus) â”€â”€</span>
  <span class="hljs-comment">// RALì´ write()/read()ë¥¼ í˜¸ì¶œí•˜ë©´ ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë¨</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> uvm_sequence_item reg2bus(<span class="hljs-keyword">const</span> <span class="hljs-keyword">ref</span> uvm_reg_bus_op rw);
    apb_seq_item item = apb_seq_item::type_id::create(<span class="hljs-string">&quot;item&quot;</span>);

    item<span class="hljs-variable">.write</span> = (rw<span class="hljs-variable">.kind</span> == UVM_WRITE);
    item<span class="hljs-variable">.addr</span>  = rw<span class="hljs-variable">.addr</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];
    item<span class="hljs-variable">.wdata</span> = rw<span class="hljs-variable">.data</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>];

    `uvm_info(get_type_name(),
      <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;reg2bus: %s addr=0x%0h data=0x%0h&quot;</span>,
                (rw<span class="hljs-variable">.kind</span> == UVM_WRITE) ? <span class="hljs-string">&quot;WRITE&quot;</span> : <span class="hljs-string">&quot;READ&quot;</span>,
                rw<span class="hljs-variable">.addr</span>, rw<span class="hljs-variable">.data</span>), UVM_HIGH)

    <span class="hljs-keyword">return</span> item;
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// â”€â”€ APB â†’ RAL ë³€í™˜ (bus2reg) â”€â”€</span>
  <span class="hljs-comment">// APB íŠ¸ëœì­ì…˜ ì™„ë£Œ í›„ RALì— ê²°ê³¼ë¥¼ ì „ë‹¬</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> bus2reg(uvm_sequence_item bus_item,
                                <span class="hljs-keyword">ref</span> uvm_reg_bus_op rw);
    apb_seq_item item;

    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">$cast</span>(item, bus_item)) <span class="hljs-keyword">begin</span>
      `uvm_fatal(get_type_name(), <span class="hljs-string">&quot;bus2reg: íƒ€ì… ë³€í™˜ ì‹¤íŒ¨&quot;</span>)
      <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">end</span>

    rw<span class="hljs-variable">.kind</span>   = item<span class="hljs-variable">.write</span> ? UVM_WRITE : UVM_READ;
    rw<span class="hljs-variable">.addr</span>   = item<span class="hljs-variable">.addr</span>;
    rw<span class="hljs-variable">.data</span>   = item<span class="hljs-variable">.write</span> ? item<span class="hljs-variable">.wdata</span> : item<span class="hljs-variable">.rdata</span>;
    rw<span class="hljs-variable">.status</span> = UVM_IS_OK;

    `uvm_info(get_type_name(),
      <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;bus2reg: %s addr=0x%0h data=0x%0h&quot;</span>,
                (rw<span class="hljs-variable">.kind</span> == UVM_WRITE) ? <span class="hljs-string">&quot;WRITE&quot;</span> : <span class="hljs-string">&quot;READ&quot;</span>,
                rw<span class="hljs-variable">.addr</span>, rw<span class="hljs-variable">.data</span>), UVM_HIGH)
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>í•µì‹¬:</strong></p>
<ul>
<li><code>reg2bus()</code> â€” RALì˜ ì¶”ìƒì  ì½ê¸°/ì“°ê¸° â†’ APB íŠ¸ëœì­ì…˜ (apb_seq_item) ìƒì„±</li>
<li><code>bus2reg()</code> â€” APB íŠ¸ëœì­ì…˜ ì™„ë£Œ â†’ RALì— ê²°ê³¼ ì „ë‹¬ (rdata ë“±)</li>
<li><code>supports_byte_enable = 0</code> â€” APBëŠ” ë°”ì´íŠ¸ ì´ë„¤ì´ë¸” ë¶ˆí•„ìš”</li>
<li><code>provides_responses = 0</code> â€” ë³„ë„ ì‘ë‹µ ì‹œí€€ìŠ¤ ì—†ìŒ</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: AdapterëŠ” &quot;í†µì—­ì‚¬&quot;ì…ë‹ˆë‹¤. RALì´ í•œêµ­ì–´ë¡œ &quot;ì£¼ì†Œ 3ë²ˆì— 0xAB ì¨ì¤˜&quot;ë¼ê³  í•˜ë©´, Adapterê°€ APB í”„ë¡œí† ì½œì˜ ì–¸ì–´(apb_seq_item)ë¡œ ë²ˆì—­í•´ì„œ APB ì—ì´ì „íŠ¸ì— ì „ë‹¬í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-4-2-predictor-ìë™-ë¯¸ëŸ¬ë§">12.4.2 Predictor â€” ìë™ ë¯¸ëŸ¬ë§</h3>
<p><strong>Predictor</strong>ëŠ” ëª¨ë‹ˆí„°ê°€ ê´€ì°°í•œ APB íŠ¸ëœì­ì…˜ì„ RAL ëª¨ë¸ì— ìë™ìœ¼ë¡œ ë°˜ì˜í•˜ì—¬ <strong>ë¯¸ëŸ¬ ê°’</strong>ì„ ìµœì‹  ìƒíƒœë¡œ ìœ ì§€í•©ë‹ˆë‹¤.</p>
<blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: PredictorëŠ” &quot;ì€í–‰ ì•±ì˜ ìë™ ì”ê³  ì—…ë°ì´íŠ¸&quot;ì™€ ê°™ìŠµë‹ˆë‹¤. ATM(Adapter)ì—ì„œ ëˆì„ ì¸ì¶œí•˜ë©´, ì€í–‰ ì•±(Predictor)ì´ ê±°ë˜ ë‚´ì—­(ëª¨ë‹ˆí„° ê´€ì°°)ì„ ê°ì§€í•˜ì—¬ ì”ê³ (mirrored ê°’)ë¥¼ ìë™ìœ¼ë¡œ ê°±ì‹ í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì§ì ‘ ì”ê³ ë¥¼ ê³„ì‚°í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
</blockquote>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// PredictorëŠ” UVM ë‚´ì¥ í´ë˜ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤:</span>
<span class="hljs-comment">// uvm_reg_predictor #(apb_seq_item)</span>
</code></pre><p>Predictor ì„¤ì •ì€ í™˜ê²½ì—ì„œ í•©ë‹ˆë‹¤ (12.4.3 ì°¸ì¡°).</p>
<p><strong>desired / mirrored / actual ê°’ì˜ ì˜ë¯¸:</strong></p>
<table>
<thead>
<tr>
<th>ê°’</th>
<th>ìœ„ì¹˜</th>
<th>ì˜ë¯¸</th>
<th>ì—…ë°ì´íŠ¸ ì‹œì </th>
</tr>
</thead>
<tbody><tr>
<td><strong>desired</strong></td>
<td>RAL ëª¨ë¸</td>
<td>&quot;ì´ ê°’ì„ ì“°ê³  ì‹¶ë‹¤&quot;</td>
<td><code>set()</code> í˜¸ì¶œ ì‹œ</td>
</tr>
<tr>
<td><strong>mirrored</strong></td>
<td>RAL ëª¨ë¸</td>
<td>&quot;DUTì— ì´ ê°’ì´ ìˆì„ ê²ƒì´ë‹¤&quot;</td>
<td><code>write()</code>/<code>read()</code> ì™„ë£Œ ì‹œ</td>
</tr>
<tr>
<td><strong>actual</strong></td>
<td>DUT í•˜ë“œì›¨ì–´</td>
<td>ì‹¤ì œ ë ˆì§€ìŠ¤í„° ê°’</td>
<td>í•˜ë“œì›¨ì–´ ë™ì‘ ì‹œ</td>
</tr>
</tbody></table>
<pre><code>ì˜ˆì‹œ: ctrl_reg.enableì— 1ì„ ì“°ëŠ” ê³¼ì •

   set(1)          write()           DUT ë°˜ì˜
desired: 0â†’1    mirrored: 0â†’1    actual: 0â†’1
    â”‚               â”‚                â”‚
    â–¼               â–¼                â–¼
   RAL ëª¨ë¸      RAL + Adapter     í•˜ë“œì›¨ì–´
</code></pre><blockquote>
<p>ğŸ’¡ <strong>í•µì‹¬</strong>: <code>mirrored</code> ê°’ì€ RALì´ <strong>ì¶”ì •í•˜ëŠ”</strong> DUT ê°’ì…ë‹ˆë‹¤. Predictorê°€ ëª¨ë‹ˆí„° ê´€ì°° ê²°ê³¼ë¡œ ì´ë¥¼ ì—…ë°ì´íŠ¸í•˜ë¯€ë¡œ, í•­ìƒ DUT ì‹¤ì œ ê°’ê³¼ ë™ê¸°í™”ë©ë‹ˆë‹¤ (í•˜ë“œì›¨ì–´ê°€ ìì²´ ë³€ê²½í•˜ëŠ” volatile í•„ë“œ ì œì™¸).</p>
</blockquote>
<h3 id="12-4-3-í™˜ê²½ì—-ral-í†µí•©">12.4.3 í™˜ê²½ì— RAL í†µí•©</h3>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// RAL í†µí•© í™˜ê²½</span>
<span class="hljs-comment">// íŒŒì¼: apb_ral_env.sv</span>
<span class="hljs-comment">// ì—­í• : Ch.11ì˜ apb_envì— RAL ëª¨ë¸, Adapter, Predictor ì¶”ê°€</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_ral_env <span class="hljs-keyword">extends</span> uvm_env;
  `uvm_component_utils(apb_ral_env)

  <span class="hljs-comment">// Ch.11ì—ì„œ ë§Œë“  APB ì—ì´ì „íŠ¸</span>
  apb_agent agent;

  <span class="hljs-comment">// RAL êµ¬ì„± ìš”ì†Œ</span>
  apb_slave_reg_block  reg_model;   <span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ëª¨ë¸</span>
  apb_reg_adapter      adapter;     <span class="hljs-comment">// íŠ¸ëœì­ì…˜ ë³€í™˜ê¸°</span>
  uvm_reg_predictor <span class="hljs-variable">#(apb_seq_item)</span> predictor;  <span class="hljs-comment">// ìë™ ë¯¸ëŸ¬ë§</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);

    <span class="hljs-comment">// â”€â”€ APB ì—ì´ì „íŠ¸ ìƒì„± (Ch.11ê³¼ ë™ì¼) â”€â”€</span>
    agent = apb_agent::type_id::create(<span class="hljs-string">&quot;agent&quot;</span>, <span class="hljs-keyword">this</span>);

    <span class="hljs-comment">// â”€â”€ RAL ëª¨ë¸ ìƒì„± â”€â”€</span>
    reg_model = apb_slave_reg_block::type_id::create(<span class="hljs-string">&quot;reg_model&quot;</span>);
    reg_model<span class="hljs-variable">.build</span>();   <span class="hljs-comment">// ë ˆì§€ìŠ¤í„° + ë§µ ìƒì„±</span>
    <span class="hljs-comment">// lock_model()ì€ build() ì•ˆì—ì„œ í˜¸ì¶œë¨</span>

    <span class="hljs-comment">// â”€â”€ Adapter ìƒì„± â”€â”€</span>
    adapter = apb_reg_adapter::type_id::create(<span class="hljs-string">&quot;adapter&quot;</span>);

    <span class="hljs-comment">// â”€â”€ Predictor ìƒì„± â”€â”€</span>
    predictor = uvm_reg_predictor<span class="hljs-variable">#(apb_seq_item)</span>::type_id::create(
      <span class="hljs-string">&quot;predictor&quot;</span>, <span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> connect_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.connect_phase</span>(phase);

    <span class="hljs-comment">// â”€â”€ í•µì‹¬ ì—°ê²° 0: auto_predict ë¹„í™œì„±í™” â”€â”€</span>
    <span class="hljs-comment">// Predictorë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ìë™ ì˜ˆì¸¡ì„ ë”</span>
    <span class="hljs-comment">// (ê¸°ë³¸ê°’ì€ auto_predict=1ì´ë©°, Predictorì™€ ì¤‘ë³µë˜ì–´ ì˜¤ë™ì‘ ê°€ëŠ¥)</span>
    reg_model<span class="hljs-variable">.reg_map</span><span class="hljs-variable">.set_auto_predict</span>(<span class="hljs-number">0</span>);

    <span class="hljs-comment">// â”€â”€ í•µì‹¬ ì—°ê²° 1: ë ˆì§€ìŠ¤í„° ë§µ â†’ ì‹œí€€ì„œ + Adapter â”€â”€</span>
    <span class="hljs-comment">// RALì´ APB ì‹œí€€ì„œë¥¼ í†µí•´ íŠ¸ëœì­ì…˜ì„ ì „ì†¡í•˜ë„ë¡ ì„¤ì •</span>
    reg_model<span class="hljs-variable">.reg_map</span><span class="hljs-variable">.set_sequencer</span>(
      agent<span class="hljs-variable">.sequencer</span>, adapter);

    <span class="hljs-comment">// â”€â”€ í•µì‹¬ ì—°ê²° 2: Predictor ì„¤ì • â”€â”€</span>
    predictor<span class="hljs-variable">.map</span>     = reg_model<span class="hljs-variable">.reg_map</span>;
    predictor<span class="hljs-variable">.adapter</span> = adapter;

    <span class="hljs-comment">// â”€â”€ í•µì‹¬ ì—°ê²° 3: ëª¨ë‹ˆí„° â†’ Predictor â”€â”€</span>
    <span class="hljs-comment">// ëª¨ë‹ˆí„°ê°€ ê´€ì°°í•œ íŠ¸ëœì­ì…˜ì„ Predictorì— ì „ë‹¬</span>
    agent<span class="hljs-variable">.monitor</span><span class="hljs-variable">.ap</span><span class="hljs-variable">.connect</span>(predictor<span class="hljs-variable">.bus_in</span>);
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>4ê°œì˜ í•µì‹¬ ì—°ê²°:</strong></p>
<ol start="0">
<li><strong><code>set_auto_predict(0)</code></strong> â€” Predictor ì‚¬ìš© ì‹œ ìë™ ì˜ˆì¸¡ ë¹„í™œì„±í™” (ì¤‘ë³µ ë°©ì§€)</li>
<li><strong><code>set_sequencer(sequencer, adapter)</code></strong> â€” RAL â†’ Adapter â†’ APB ì‹œí€€ì„œ ê²½ë¡œ</li>
<li><strong><code>predictor.map = reg_map</code></strong> â€” Predictorê°€ ì–´ë–¤ ë§µì„ ì—…ë°ì´íŠ¸í• ì§€ ì§€ì •</li>
<li><strong><code>monitor.ap.connect(predictor.bus_in)</code></strong> â€” ëª¨ë‹ˆí„° ê´€ì°° â†’ Predictor â†’ RAL ë¯¸ëŸ¬ ì—…ë°ì´íŠ¸</li>
</ol>
<blockquote>
<p>âš ï¸ <strong>ì´ˆë³´ì ì£¼ì˜</strong>: <code>set_auto_predict(0)</code>ì„ ë¹ ëœ¨ë¦¬ë©´, RALì´ ìì²´ì ìœ¼ë¡œ ë¯¸ëŸ¬ ê°’ì„ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ë™ì‹œì— Predictorë„ ì—…ë°ì´íŠ¸í•˜ì—¬ <strong>ì´ì¤‘ ì—…ë°ì´íŠ¸</strong> ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤. Predictorë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë°˜ë“œì‹œ <code>set_auto_predict(0)</code>ì„ ì„¤ì •í•˜ì„¸ìš”.</p>
</blockquote>
<blockquote>
<p>âš ï¸ <strong>ì´ˆë³´ì ì£¼ì˜</strong>: ì´ 4ê°œ ì—°ê²° ì¤‘ í•˜ë‚˜ë¼ë„ ë¹ ì§€ë©´ RALì´ ì •ìƒ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. íŠ¹íˆ <code>set_sequencer()</code>ë¥¼ ë¹ ëœ¨ë¦¬ë©´ <code>UVM_FATAL: &quot;No sequencer registered...&quot;</code> ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>
</blockquote>
<p><strong>RAL í†µí•© ì²´í¬ë¦¬ìŠ¤íŠ¸:</strong></p>
<p>RAL í™˜ê²½ ì„¤ì • ì‹œ ë¹ ëœ¨ë¦¬ê¸° ì‰¬ìš´ í•­ëª©ë“¤ì„ ì •ë¦¬í•©ë‹ˆë‹¤:</p>
<table>
<thead>
<tr>
<th>ë‹¨ê³„</th>
<th>ì½”ë“œ</th>
<th>ìœ„ì¹˜</th>
<th>ë¹ ëœ¨ë¦¬ë©´?</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>reg_model.build()</code></td>
<td><code>build_phase</code></td>
<td>ë ˆì§€ìŠ¤í„° ì—†ìŒ</td>
</tr>
<tr>
<td>2</td>
<td><code>lock_model()</code></td>
<td><code>build()</code> ë‚´ë¶€</td>
<td>FATAL ì—ëŸ¬</td>
</tr>
<tr>
<td>3</td>
<td><code>set_auto_predict(0)</code></td>
<td><code>connect_phase</code></td>
<td>ë¯¸ëŸ¬ ì´ì¤‘ ì—…ë°ì´íŠ¸</td>
</tr>
<tr>
<td>4</td>
<td><code>set_sequencer(sqr, adapter)</code></td>
<td><code>connect_phase</code></td>
<td>FATAL ì—ëŸ¬</td>
</tr>
<tr>
<td>5</td>
<td><code>predictor.map = reg_map</code></td>
<td><code>connect_phase</code></td>
<td>Predictor ë¯¸ë™ì‘</td>
</tr>
<tr>
<td>6</td>
<td><code>predictor.adapter = adapter</code></td>
<td><code>connect_phase</code></td>
<td>ë³€í™˜ ì‹¤íŒ¨</td>
</tr>
<tr>
<td>7</td>
<td><code>monitor.ap.connect(predictor.bus_in)</code></td>
<td><code>connect_phase</code></td>
<td>ë¯¸ëŸ¬ ë¯¸ê°±ì‹ </td>
</tr>
</tbody></table>
<p>ì´ 7ë‹¨ê³„ë¥¼ ìˆœì„œëŒ€ë¡œ í™•ì¸í•˜ë©´ RAL í†µí•©ì˜ ëŒ€ë¶€ë¶„ì˜ ë¬¸ì œë¥¼ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<hr>
<h2 id="12-5-ral-ê¸°ë³¸-ë™ì‘">12.5 RAL ê¸°ë³¸ ë™ì‘</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: RALì„ í†µí•´ ë ˆì§€ìŠ¤í„°ë¥¼ ì½ê³  ì“°ëŠ” ê¸°ë³¸ ë™ì‘ì„ ì‹¤ìŠµí•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-5-1-frontdoor-ì½ê¸°-ì“°ê¸°">12.5.1 Frontdoor ì½ê¸°/ì“°ê¸°</h3>
<p>RALì˜ ê¸°ë³¸ ì ‘ê·¼ ë°©ì‹ì€ <strong>Frontdoor</strong> â€” ì‹¤ì œ ë²„ìŠ¤(APB)ë¥¼ í†µí•´ DUTì— ì ‘ê·¼í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€ RALì„ í†µí•œ ë ˆì§€ìŠ¤í„° ì ‘ê·¼ â”€â”€</span>
uvm_status_e status;
uvm_reg_data_t rdata;

<span class="hljs-comment">// [ë°©ë²• 1] write() â€” ì „ì²´ ë ˆì§€ìŠ¤í„° ì“°ê¸°</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;h80</span>);
<span class="hljs-comment">// â†’ Adapterê°€ APB WRITE(addr=0x0, data=0x80)ìœ¼ë¡œ ë³€í™˜</span>
<span class="hljs-comment">// â†’ APB ë“œë¼ì´ë²„ê°€ ì‹¤ì œ ë²„ìŠ¤ì— ì „ì†¡</span>

<span class="hljs-comment">// [ë°©ë²• 2] read() â€” ì „ì²´ ë ˆì§€ìŠ¤í„° ì½ê¸°</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.read</span>(status, rdata);
<span class="hljs-comment">// â†’ Adapterê°€ APB READ(addr=0x0)ìœ¼ë¡œ ë³€í™˜</span>
<span class="hljs-comment">// â†’ ê²°ê³¼ê°€ rdataì— ì €ì¥</span>

<span class="hljs-comment">// [ë°©ë²• 3] í•„ë“œ ë ˆë²¨ ì ‘ê·¼ â€” set() + update()</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.enable</span><span class="hljs-variable">.set</span>(<span class="hljs-number">1</span>);    <span class="hljs-comment">// desired ê°’ ì„¤ì •</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.mode</span><span class="hljs-variable">.set</span>(<span class="hljs-number">2&#x27;b11</span>);  <span class="hljs-comment">// desired ê°’ ì„¤ì •</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.update</span>(status);   <span class="hljs-comment">// ë³€ê²½ëœ í•„ë“œë§Œ ë²„ìŠ¤ì— ë°˜ì˜</span>
<span class="hljs-comment">// â†’ enable=1, mode=11 â†’ 0xE0 = {1, 11, 00000}</span>

<span class="hljs-comment">// [ë°©ë²• 4] mirror() â€” DUT ê°’ì„ ì½ì–´ì„œ mirrored ì—…ë°ì´íŠ¸</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.mirror</span>(status, UVM_CHECK);
<span class="hljs-comment">// UVM_CHECK: ì½ì€ ê°’ê³¼ mirrored ê°’ì„ ë¹„êµ (ë¶ˆì¼ì¹˜ ì‹œ ì—ëŸ¬)</span>
<span class="hljs-comment">// UVM_NO_CHECK: ë¹„êµ ì—†ì´ mirroredë§Œ ì—…ë°ì´íŠ¸</span>
</code></pre><p><strong>Ch.11 ë°©ì‹ê³¼ ë¹„êµ:</strong></p>
<table>
<thead>
<tr>
<th>ë™ì‘</th>
<th>Ch.11 (ìˆ˜ë™)</th>
<th>Ch.12 (RAL)</th>
</tr>
</thead>
<tbody><tr>
<td>Write 0x80 to addr 0</td>
<td><code>wr_seq.target_addr=0; wr_seq.target_data=8&#39;h80;</code></td>
<td><code>reg_model.ctrl_reg.write(status, 8&#39;h80);</code></td>
</tr>
<tr>
<td>Read from addr 0</td>
<td><code>rd_seq.target_addr=0; rd_seq.start(...)</code></td>
<td><code>reg_model.ctrl_reg.read(status, rdata);</code></td>
</tr>
<tr>
<td>Enable ë¹„íŠ¸ë§Œ 1ë¡œ</td>
<td><code>wr_seq.target_data=8&#39;h80; // ìˆ˜ë™ ê³„ì‚°</code></td>
<td><code>reg_model.ctrl_reg.enable.set(1);</code></td>
</tr>
<tr>
<td>ë¦¬ì…‹ ê°’ í™•ì¸</td>
<td>16ê°œ ì£¼ì†Œ ì¼ì¼ì´ ì½ê¸°</td>
<td><code>uvm_reg_hw_reset_seq</code> 1ì¤„</td>
</tr>
</tbody></table>
<h3 id="12-5-2-ral-ì‹œí€€ìŠ¤-ì‘ì„±">12.5.2 RAL ì‹œí€€ìŠ¤ ì‘ì„±</h3>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// RAL ê¸°ë°˜ ë ˆì§€ìŠ¤í„° í…ŒìŠ¤íŠ¸ ì‹œí€€ìŠ¤</span>
<span class="hljs-comment">// íŒŒì¼: apb_ral_test_seq.sv</span>
<span class="hljs-comment">// ì—­í• : RALì„ í†µí•´ ë ˆì§€ìŠ¤í„° ì½ê¸°/ì“°ê¸°/í•„ë“œ ì ‘ê·¼ ì‹œì—°</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_ral_test_seq <span class="hljs-keyword">extends</span> uvm_reg_sequence;
  `uvm_object_utils(apb_ral_test_seq)

  apb_slave_reg_block reg_model;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_ral_test_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">task</span> body();
    uvm_status_e status;
    uvm_reg_data_t rdata;

    `uvm_info(get_type_name(),
      <span class="hljs-string">&quot;=== RAL ë ˆì§€ìŠ¤í„° í…ŒìŠ¤íŠ¸ ì‹œì‘ ===&quot;</span>, UVM_NONE)

    <span class="hljs-comment">// â”€â”€ í…ŒìŠ¤íŠ¸ 1: ì „ì²´ ë ˆì§€ìŠ¤í„° Write/Read â”€â”€</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- í…ŒìŠ¤íŠ¸ 1: Write/Read ---&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// ctrl_regì— 0xA0 ì“°ê¸° (enable=1, mode=01, rsv=0)</span>
    reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;hA0</span>);
    <span class="hljs-keyword">if</span> (status != UVM_IS_OK)
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;ctrl_reg write ì‹¤íŒ¨&quot;</span>)

    <span class="hljs-comment">// ctrl_reg ì½ê¸°</span>
    reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.read</span>(status, rdata);
    `uvm_info(get_type_name(),
      <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;ctrl_reg read: 0x%0h (ê¸°ëŒ€ê°’: 0xA0)&quot;</span>, rdata), UVM_LOW)

    <span class="hljs-comment">// â”€â”€ í…ŒìŠ¤íŠ¸ 2: í•„ë“œ ë ˆë²¨ ì ‘ê·¼ â”€â”€</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- í…ŒìŠ¤íŠ¸ 2: í•„ë“œ ì ‘ê·¼ ---&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// enableë§Œ 0ìœ¼ë¡œ ë³€ê²½</span>
    reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.enable</span><span class="hljs-variable">.set</span>(<span class="hljs-number">0</span>);
    reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.update</span>(status);

    <span class="hljs-comment">// ì½ì–´ì„œ í™•ì¸</span>
    reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.read</span>(status, rdata);
    `uvm_info(get_type_name(),
      <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;ctrl_reg í•„ë“œ ìˆ˜ì • í›„: 0x%0h (ê¸°ëŒ€ê°’: 0x20)&quot;</span>, rdata),
      UVM_LOW)

    <span class="hljs-comment">// â”€â”€ í…ŒìŠ¤íŠ¸ 3: ë²”ìš© ë ˆì§€ìŠ¤í„° ë£¨í”„ â”€â”€</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- í…ŒìŠ¤íŠ¸ 3: ë²”ìš© ë ˆì§€ìŠ¤í„° ---&quot;</span>, UVM_LOW)

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">13</span>; i++) <span class="hljs-keyword">begin</span>
      reg_model<span class="hljs-variable">.gp_reg</span>[i]<span class="hljs-variable">.write</span>(status, i * <span class="hljs-number">8&#x27;h11</span>);
    <span class="hljs-keyword">end</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">13</span>; i++) <span class="hljs-keyword">begin</span>
      reg_model<span class="hljs-variable">.gp_reg</span>[i]<span class="hljs-variable">.read</span>(status, rdata);
      <span class="hljs-keyword">if</span> (rdata !== i * <span class="hljs-number">8&#x27;h11</span>)
        `uvm_error(get_type_name(),
          <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;gp_reg[%0d] ë¶ˆì¼ì¹˜: got=0x%0h, exp=0x%0h&quot;</span>,
                    i, rdata, i * <span class="hljs-number">8&#x27;h11</span>))
    <span class="hljs-keyword">end</span>

    <span class="hljs-comment">// â”€â”€ í…ŒìŠ¤íŠ¸ 4: Mirror í™•ì¸ â”€â”€</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- í…ŒìŠ¤íŠ¸ 4: Mirror ---&quot;</span>, UVM_LOW)

    reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.mirror</span>(status, UVM_CHECK);
    reg_model<span class="hljs-variable">.data_reg</span><span class="hljs-variable">.mirror</span>(status, UVM_CHECK);

    `uvm_info(get_type_name(),
      <span class="hljs-string">&quot;=== RAL ë ˆì§€ìŠ¤í„° í…ŒìŠ¤íŠ¸ ì™„ë£Œ ===&quot;</span>, UVM_NONE)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><h3 id="12-5-3-ì²«-ral-ì‹œë®¬ë ˆì´ì…˜">12.5.3 ì²« RAL ì‹œë®¬ë ˆì´ì…˜</h3>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// RAL í…ŒìŠ¤íŠ¸</span>
<span class="hljs-comment">// íŒŒì¼: apb_ral_test.sv</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_ral_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(apb_ral_test)

  apb_ral_env env;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);
    env = apb_ral_env::type_id::create(<span class="hljs-string">&quot;env&quot;</span>, <span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    apb_ral_test_seq seq;

    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    seq = apb_ral_test_seq::type_id::create(<span class="hljs-string">&quot;seq&quot;</span>);
    seq<span class="hljs-variable">.reg_model</span> = env<span class="hljs-variable">.reg_model</span>;  <span class="hljs-comment">// ì‹œí€€ìŠ¤ì— ë ˆì§€ìŠ¤í„° ëª¨ë¸ ì „ë‹¬</span>
    seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.agent</span><span class="hljs-variable">.sequencer</span>);
    <span class="hljs-comment">// ì°¸ê³ : uvm_reg_sequenceëŠ” `model` í”„ë¡œí¼í‹°ë¥¼ ê¸°ë³¸ ì œê³µí•©ë‹ˆë‹¤.</span>
    <span class="hljs-comment">// seq.model = env.reg_model; ìœ¼ë¡œë„ ì„¤ì • ê°€ëŠ¥í•˜ë©°,</span>
    <span class="hljs-comment">// body() ì•ˆì—ì„œ model.ctrl_reg.write(...) í˜•íƒœë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>

    #<span class="hljs-number">100</span>;
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p>ì‹¤í–‰ ê²°ê³¼:</p>
<pre><code># ì‹¤í–‰ ëª…ë ¹
vsim +UVM_TESTNAME=apb_ral_test

UVM_INFO @ 0ns: reporter [RNTST] Running test apb_ral_test...
UVM_INFO @ 20ns: uvm_test_top [apb_ral_test_seq] === RAL ë ˆì§€ìŠ¤í„° í…ŒìŠ¤íŠ¸ ì‹œì‘ ===
UVM_INFO @ 20ns: uvm_test_top [apb_ral_test_seq] --- í…ŒìŠ¤íŠ¸ 1: Write/Read ---
UVM_INFO @ 50ns: ... [apb_reg_adapter] reg2bus: WRITE addr=0x0 data=0xA0
UVM_INFO @ 80ns: ... [apb_reg_adapter] reg2bus: READ addr=0x0 data=0x0
UVM_INFO @ 80ns: uvm_test_top [apb_ral_test_seq] ctrl_reg read: 0xA0 (ê¸°ëŒ€ê°’: 0xA0)
UVM_INFO @ 80ns: uvm_test_top [apb_ral_test_seq] --- í…ŒìŠ¤íŠ¸ 2: í•„ë“œ ì ‘ê·¼ ---
UVM_INFO @ 110ns: ... [apb_reg_adapter] reg2bus: WRITE addr=0x0 data=0x20
UVM_INFO @ 140ns: uvm_test_top [apb_ral_test_seq] ctrl_reg í•„ë“œ ìˆ˜ì • í›„: 0x20 (ê¸°ëŒ€ê°’: 0x20)
UVM_INFO @ 140ns: uvm_test_top [apb_ral_test_seq] --- í…ŒìŠ¤íŠ¸ 3: ë²”ìš© ë ˆì§€ìŠ¤í„° ---
...
UVM_INFO @ 920ns: uvm_test_top [apb_ral_test_seq] --- í…ŒìŠ¤íŠ¸ 4: Mirror ---
UVM_INFO @ 960ns: uvm_test_top [apb_ral_test_seq] === RAL ë ˆì§€ìŠ¤í„° í…ŒìŠ¤íŠ¸ ì™„ë£Œ ===

--- UVM Report Summary ---
UVM_INFO :   42
UVM_WARNING :   0
UVM_ERROR :   0
UVM_FATAL :   0
</code></pre><blockquote>
<p>ğŸ’¡ <strong>ì„±ì·¨ê°</strong>: RALì„ í†µí•´ <code>reg_model.ctrl_reg.enable.set(1)</code>ì²˜ëŸ¼ <strong>ì´ë¦„ìœ¼ë¡œ</strong> ë ˆì§€ìŠ¤í„°ì— ì ‘ê·¼í•˜ê³  ìˆìŠµë‹ˆë‹¤! Ch.11ì—ì„œ <code>addr=0x0, data=0x80</code>ìœ¼ë¡œ ìˆ˜ë™ ê³„ì‚°í•˜ë˜ ê²ƒê³¼ ë¹„êµí•´ë³´ì„¸ìš”.</p>
</blockquote>
<hr>
<h2 id="12-6-ë‚´ì¥-ì‹œí€€ìŠ¤ì™€-ë°±ë„ì–´">12.6 ë‚´ì¥ ì‹œí€€ìŠ¤ì™€ ë°±ë„ì–´</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: UVM RALì˜ ë‚´ì¥ í…ŒìŠ¤íŠ¸ ì‹œí€€ìŠ¤ë¡œ ìë™ ê²€ì¦ì„ ì²´í—˜í•˜ê³ , Backdoor ì ‘ê·¼ì„ ì´í•´í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-6-1-uvm-reg-hw-reset-seq-ë¦¬ì…‹-ê°’-ê²€ì¦">12.6.1 uvm_reg_hw_reset_seq â€” ë¦¬ì…‹ ê°’ ê²€ì¦</h3>
<p>ëª¨ë“  ë ˆì§€ìŠ¤í„°ì˜ ë¦¬ì…‹ ê°’ì´ ì‚¬ì–‘ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ <strong>ìë™ìœ¼ë¡œ</strong> ê²€ì¦í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-comment">// ë‚´ì¥ ì‹œí€€ìŠ¤ í…ŒìŠ¤íŠ¸</span>
<span class="hljs-comment">// íŒŒì¼: apb_ral_builtin_test.sv</span>
<span class="hljs-comment">// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>
<span class="hljs-keyword">class</span> apb_ral_reset_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(apb_ral_reset_test)

  apb_ral_env env;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);
    env = apb_ral_env::type_id::create(<span class="hljs-string">&quot;env&quot;</span>, <span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    uvm_reg_hw_reset_seq rst_seq;

    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    `uvm_info(get_type_name(),
      <span class="hljs-string">&quot;=== ë¦¬ì…‹ ê°’ ìë™ ê²€ì¦ ì‹œì‘ ===&quot;</span>, UVM_NONE)

    <span class="hljs-comment">// ë‚´ì¥ ì‹œí€€ìŠ¤ â€” 1ì¤„ë¡œ ëª¨ë“  ë ˆì§€ìŠ¤í„° ë¦¬ì…‹ ê°’ ê²€ì¦!</span>
    rst_seq = uvm_reg_hw_reset_seq::type_id::create(<span class="hljs-string">&quot;rst_seq&quot;</span>);
    rst_seq<span class="hljs-variable">.model</span> = env<span class="hljs-variable">.reg_model</span>;
    rst_seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.agent</span><span class="hljs-variable">.sequencer</span>);

    `uvm_info(get_type_name(),
      <span class="hljs-string">&quot;=== ë¦¬ì…‹ ê°’ ìë™ ê²€ì¦ ì™„ë£Œ ===&quot;</span>, UVM_NONE)

    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ì´ê²ƒì´ RALì˜ í˜ì…ë‹ˆë‹¤:</strong></p>
<ul>
<li>Ch.11ì—ì„œëŠ” 16ê°œ ë ˆì§€ìŠ¤í„°ë¥¼ ì¼ì¼ì´ ì½ê³  0x00ê³¼ ë¹„êµí•´ì•¼ í–ˆìŠµë‹ˆë‹¤</li>
<li>RALì—ì„œëŠ” <strong>3ì¤„</strong>ë¡œ ëª¨ë“  ë ˆì§€ìŠ¤í„°ì˜ ë¦¬ì…‹ ê°’ì„ ìë™ ê²€ì¦í•©ë‹ˆë‹¤</li>
<li>ë ˆì§€ìŠ¤í„°ê°€ 3,000ê°œì—¬ë„ ë™ì¼í•œ 3ì¤„ì…ë‹ˆë‹¤</li>
</ul>
<h3 id="12-6-2-uvm-reg-bit-bash-seq-ë¹„íŠ¸-ì ‘ê·¼-ê²€ì¦">12.6.2 uvm_reg_bit_bash_seq â€” ë¹„íŠ¸ ì ‘ê·¼ ê²€ì¦</h3>
<p>ëª¨ë“  R/W í•„ë“œì— 0ê³¼ 1ì„ ë²ˆê°ˆì•„ ì“°ê³  ì½ì–´ì„œ <strong>ë¹„íŠ¸ë³„ ì ‘ê·¼ì´ ì •ìƒì¸ì§€</strong> ìë™ ê²€ì¦í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
  uvm_reg_bit_bash_seq bash_seq;

  phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

  `uvm_info(get_type_name(),
    <span class="hljs-string">&quot;=== ë¹„íŠ¸ ë°°ì‹œ ìë™ ê²€ì¦ ì‹œì‘ ===&quot;</span>, UVM_NONE)

  bash_seq = uvm_reg_bit_bash_seq::type_id::create(<span class="hljs-string">&quot;bash_seq&quot;</span>);
  bash_seq<span class="hljs-variable">.model</span> = env<span class="hljs-variable">.reg_model</span>;
  bash_seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.agent</span><span class="hljs-variable">.sequencer</span>);

  `uvm_info(get_type_name(),
    <span class="hljs-string">&quot;=== ë¹„íŠ¸ ë°°ì‹œ ìë™ ê²€ì¦ ì™„ë£Œ ===&quot;</span>, UVM_NONE)

  phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
<span class="hljs-keyword">endtask</span>
</code></pre><p><strong>ë¹„íŠ¸ ë°°ì‹œ í…ŒìŠ¤íŠ¸ê°€ ê²€ì¦í•˜ëŠ” ê²ƒ:</strong></p>
<ul>
<li>ê° R/W ë¹„íŠ¸ì— 1ì„ ì“°ê³  ì½ì–´ì„œ 1ì´ ë‚˜ì˜¤ëŠ”ì§€</li>
<li>ê° R/W ë¹„íŠ¸ì— 0ì„ ì“°ê³  ì½ì–´ì„œ 0ì´ ë‚˜ì˜¤ëŠ”ì§€</li>
<li>R/O ë¹„íŠ¸ì— ì“°ê¸°ê°€ ë¬´ì‹œë˜ëŠ”ì§€</li>
<li>ë¹„íŠ¸ë“¤ì´ ì„œë¡œ ê°„ì„­í•˜ì§€ ì•ŠëŠ”ì§€</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>ì‹¤ë¬´ íŒ</strong>: <code>uvm_reg_bit_bash_seq</code>ëŠ” ë ˆì§€ìŠ¤í„° RTLì˜ ê¸°ë³¸ì ì¸ &quot;ì—°ê²° ìƒíƒœ&quot;ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤. ë ˆì§€ìŠ¤í„° ì ‘ê·¼ ë¡œì§ì— ë¹„íŠ¸ ë§¤í•‘ ì˜¤ë¥˜ê°€ ìˆìœ¼ë©´ ì´ ì‹œí€€ìŠ¤ê°€ ì¡ì•„ëƒ…ë‹ˆë‹¤. ì‹¤ë¬´ì—ì„œ ë ˆì§€ìŠ¤í„° IPì˜ ì²« ë²ˆì§¸ ê²€ì¦ìœ¼ë¡œ ê±°ì˜ ë°˜ë“œì‹œ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-6-3-backdoor-ì ‘ê·¼-dut-ì§ì ‘-ì½ê¸°-ì“°ê¸°">12.6.3 Backdoor ì ‘ê·¼ â€” DUT ì§ì ‘ ì½ê¸°/ì“°ê¸°</h3>
<p><strong>Frontdoor</strong>ëŠ” ì‹¤ì œ ë²„ìŠ¤(APB)ë¥¼ í†µí•´ ì ‘ê·¼í•˜ì§€ë§Œ, <strong>Backdoor</strong>ëŠ” ì‹œë®¬ë ˆì´í„°ì˜ HDL ê³„ì¸µ ê²½ë¡œë¥¼ í†µí•´ <strong>ì§ì ‘</strong> ë ˆì§€ìŠ¤í„°ì— ì ‘ê·¼í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// Frontdoor: ì‹¤ì œ APB ë²„ìŠ¤ë¥¼ í†µí•´ ì ‘ê·¼ (ëŠë¦¬ì§€ë§Œ í˜„ì‹¤ì )</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;hFF</span>);  <span class="hljs-comment">// APB í”„ë¡œí† ì½œ â†’ ì—¬ëŸ¬ í´ë¡</span>

<span class="hljs-comment">// Backdoor: HDL ê²½ë¡œë¥¼ í†µí•´ ì§ì ‘ ì ‘ê·¼ (ë¹ ë¥´ì§€ë§Œ ë¹„í˜„ì‹¤ì )</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.poke</span>(status, <span class="hljs-number">8&#x27;hFF</span>);   <span class="hljs-comment">// 0 ì‹œê°„ì— ì™„ë£Œ</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.peek</span>(status, rdata);   <span class="hljs-comment">// 0 ì‹œê°„ì— ì™„ë£Œ</span>
</code></pre><p><strong>Frontdoor vs Backdoor:</strong></p>
<table>
<thead>
<tr>
<th>íŠ¹ì„±</th>
<th>Frontdoor</th>
<th>Backdoor</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ì ‘ê·¼ ê²½ë¡œ</strong></td>
<td>APB ë²„ìŠ¤ (ì‹¤ì œ í”„ë¡œí† ì½œ)</td>
<td>HDL ê³„ì¸µ ê²½ë¡œ (ì‹œë®¬ë ˆì´í„°)</td>
</tr>
<tr>
<td><strong>ì‹œë®¬ë ˆì´ì…˜ ì‹œê°„</strong></td>
<td>ì—¬ëŸ¬ í´ë¡ ì‚¬ì´í´</td>
<td>0 ì‹œê°„ (ì¦‰ì‹œ)</td>
</tr>
<tr>
<td><strong>ìš©ë„</strong></td>
<td>ê¸°ëŠ¥ ê²€ì¦ (ì‹¤ì œ ë™ì‘)</td>
<td>ì´ˆê¸°í™”, ë””ë²„ê¹…, ë¹ ë¥¸ ì„¤ì •</td>
</tr>
<tr>
<td><strong>í˜„ì‹¤ì„±</strong></td>
<td>ì‹¤ì œ í•˜ë“œì›¨ì–´ì™€ ë™ì¼</td>
<td>ì‹¤ì œ í•˜ë“œì›¨ì–´ì—ì„œ ë¶ˆê°€ëŠ¥</td>
</tr>
<tr>
<td><strong>RAL ë©”ì„œë“œ</strong></td>
<td><code>write()</code>, <code>read()</code></td>
<td><code>poke()</code>, <code>peek()</code></td>
</tr>
</tbody></table>
<p><strong>Backdoorë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€í‘œì  ìƒí™©:</strong></p>
<ol>
<li><strong>í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™”</strong>: ìˆ˜ë°± ê°œ ë ˆì§€ìŠ¤í„°ë¥¼ íŠ¹ì • ê°’ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì„¤ì •</li>
<li><strong>ìƒíƒœ ì£¼ì…</strong>: DUT ë‚´ë¶€ ìƒíƒœë¥¼ ê°•ì œë¡œ ë³€ê²½í•˜ì—¬ íŠ¹ì • ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±</li>
<li><strong>ë””ë²„ê¹…</strong>: í”„ë¡œí† ì½œ ë¬¸ì œì™€ ë¬´ê´€í•˜ê²Œ ë ˆì§€ìŠ¤í„° ê°’ ì§ì ‘ í™•ì¸</li>
</ol>
<p>Backdoor ê²½ë¡œ ì„¤ì •:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ë ˆì§€ìŠ¤í„° ë¸”ë¡ì˜ build()ì—ì„œ HDL ê²½ë¡œ ì„¤ì •</span>
reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.add_hdl_path_slice</span>(
  <span class="hljs-string">&quot;tb_top.dut.mem[0]&quot;</span>,  <span class="hljs-comment">// RTLì˜ ì‹¤ì œ HDL ê²½ë¡œ</span>
  <span class="hljs-number">0</span>,                     <span class="hljs-comment">// ì‹œì‘ ë¹„íŠ¸</span>
  <span class="hljs-number">8</span>                      <span class="hljs-comment">// ë¹„íŠ¸ í­</span>
);
</code></pre><p><strong>Backdoor í™œìš© ì˜ˆì‹œ:</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// â”€â”€ í…ŒìŠ¤íŠ¸ ì´ˆê¸°í™”ì— Backdoor í™œìš© â”€â”€</span>
<span class="hljs-keyword">task</span> setup_registers();
  uvm_status_e status;
  uvm_reg_data_t rdata;

  <span class="hljs-comment">// Backdoorë¡œ ë¹ ë¥´ê²Œ ì´ˆê¸° ê°’ ì„¤ì • (0 ì‹œê°„)</span>
  reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.poke</span>(status, <span class="hljs-number">8&#x27;hA0</span>);   <span class="hljs-comment">// enable=1, mode=01</span>
  reg_model<span class="hljs-variable">.data_reg</span><span class="hljs-variable">.poke</span>(status, <span class="hljs-number">8&#x27;hFF</span>);

  <span class="hljs-comment">// Frontdoorë¡œ ì‹¤ì œ ê°’ í™•ì¸ (APB í”„ë¡œí† ì½œ í†µí•´)</span>
  reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.read</span>(status, rdata);
  <span class="hljs-keyword">if</span> (rdata !== <span class="hljs-number">8&#x27;hA0</span>)
    `uvm_error(<span class="hljs-string">&quot;BACKDOOR&quot;</span>, <span class="hljs-string">&quot;Backdoor ê°’ê³¼ Frontdoor ì½ê¸° ë¶ˆì¼ì¹˜!&quot;</span>)
<span class="hljs-keyword">endtask</span>
</code></pre><blockquote>
<p>ğŸ’¡ <strong>ì‹¤ë¬´ íŒ</strong>: Backdoor ê²½ë¡œëŠ” RTL êµ¬ì¡°ì— ì˜ì¡´í•˜ë¯€ë¡œ, RTLì´ ë³€ê²½ë˜ë©´ ê²½ë¡œë„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— Frontdoor ê²€ì¦ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³ , BackdoorëŠ” ë³´ì¡° ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-6-4-ch-11-ìˆ˜ë™-ê²€ì¦-vs-ral-ìë™-ê²€ì¦-ë¹„êµ">12.6.4 Ch.11 ìˆ˜ë™ ê²€ì¦ vs RAL ìë™ ê²€ì¦ ë¹„êµ</h3>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 420" style="max-width:680px;width:100%;height:auto">
  <defs>
    <filter id="sh12m" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
  </defs>

  <!-- Title -->
  <rect x="110" y="6" width="460" height="34" rx="17" fill="#1e293b"/>
  <text x="340" y="29" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">Ch.11 (ìˆ˜ë™ ê²€ì¦) vs Ch.12 (RAL ìë™ ê²€ì¦)</text>

  <!-- Header row -->
  <rect x="20" y="55" width="185" height="32" rx="4" fill="#f1f5f9"/>
  <text x="112" y="76" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#334155">ê²€ì¦ í•­ëª©</text>
  <rect x="210" y="55" width="215" height="32" rx="4" fill="#f0fdf4"/>
  <text x="317" y="76" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#166534">Ch.11 (ìˆ˜ë™)</text>
  <rect x="430" y="55" width="230" height="32" rx="4" fill="#f5f3ff"/>
  <text x="545" y="76" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#5b21b6">Ch.12 (RAL)</text>

  <!-- Row 1: Register access -->
  <rect x="20" y="91" width="185" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="112" y="120" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#475569">ë ˆì§€ìŠ¤í„° ì ‘ê·¼</text>
  <rect x="210" y="91" width="215" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="317" y="112" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#475569">addr=0x0</text>
  <text x="317" y="130" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#475569">data=0x80</text>
  <rect x="430" y="91" width="230" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="545" y="120" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#5b21b6">ctrl_reg.write()</text>

  <!-- Row 2: Field access -->
  <rect x="20" y="139" width="185" height="48" rx="0" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="112" y="168" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#475569">í•„ë“œ ì ‘ê·¼</text>
  <rect x="210" y="139" width="215" height="48" rx="0" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="317" y="160" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#475569">data &amp; 8'h80</text>
  <text x="317" y="178" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#94a3b8">ë¹„íŠ¸ ë§ˆìŠ¤í‚¹ ìˆ˜ë™</text>
  <rect x="430" y="139" width="230" height="48" rx="0" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="545" y="168" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#5b21b6">enable.set(1)</text>

  <!-- Row 3: Reset check -->
  <rect x="20" y="187" width="185" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="112" y="216" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#475569">ë¦¬ì…‹ ê°’ ê²€ì¦</text>
  <rect x="210" y="187" width="215" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="317" y="216" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" fill="#475569">16ê°œ ë£¨í”„ + ë¹„êµ</text>
  <rect x="430" y="187" width="230" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="545" y="208" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#5b21b6">hw_reset_seq</text>
  <text x="545" y="226" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#7c3aed">1ì¤„!</text>

  <!-- Row 4: Bit bash -->
  <rect x="20" y="235" width="185" height="48" rx="0" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="112" y="264" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#475569">ë¹„íŠ¸ ì ‘ê·¼ ê²€ì¦</text>
  <rect x="210" y="235" width="215" height="48" rx="0" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="317" y="264" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" fill="#475569">ìˆ˜ë°± ì¤„ ì½”ë”©</text>
  <rect x="430" y="235" width="230" height="48" rx="0" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="545" y="256" text-anchor="middle" font-family="'Fira Code',monospace" font-size="11" fill="#5b21b6">bit_bash_seq</text>
  <text x="545" y="274" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#7c3aed">1ì¤„!</text>

  <!-- Row 5: State tracking -->
  <rect x="20" y="283" width="185" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="112" y="312" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#475569">ìƒíƒœ ì¶”ì </text>
  <rect x="210" y="283" width="215" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="317" y="312" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" fill="#475569">ìŠ¤ì½”ì–´ë³´ë“œ ìˆ˜ë™</text>
  <rect x="430" y="283" width="230" height="48" rx="0" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="545" y="312" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" fill="#5b21b6">Predictor ìë™</text>

  <!-- Table border -->
  <rect x="20" y="55" width="640" height="276" rx="6" fill="none" stroke="#cbd5e1" stroke-width="1.5"/>

  <!-- Bottom banner -->
  <rect x="90" y="355" width="500" height="40" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="340" y="380" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#92400e">RAL = ë ˆì§€ìŠ¤í„° ê²€ì¦ì˜ ìë™í™” í”„ë ˆì„ì›Œí¬</text>

</svg>
</div><blockquote>
<p>ğŸ’¡ <strong>í•µì‹¬ êµí›ˆ</strong>: Ch.11ì—ì„œ ìˆ˜ë™ìœ¼ë¡œ ì‘ì„±í•œ ìŠ¤ì½”ì–´ë³´ë“œ, Write/Read ì‹œí€€ìŠ¤, ë¹„êµ ë¡œì§ì´ RALì—ì„œëŠ” <strong>í”„ë ˆì„ì›Œí¬ ìˆ˜ì¤€ì—ì„œ ìë™ ì œê³µ</strong>ë©ë‹ˆë‹¤. ê²€ì¦ ì—”ì§€ë‹ˆì–´ëŠ” ë ˆì§€ìŠ¤í„° ëª¨ë¸ë§Œ ì •ì˜í•˜ë©´ ë©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-6-5-ral-ìì£¼-í•˜ëŠ”-ì‹¤ìˆ˜-top-5">12.6.5 RAL ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ Top 5</h3>
<table>
<thead>
<tr>
<th>ìˆœìœ„</th>
<th>ì‹¤ìˆ˜</th>
<th>ì—ëŸ¬ ë©”ì‹œì§€</th>
<th>í•´ê²°</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>lock_model()</code> ëˆ„ë½</td>
<td><code>Register model has not been locked</code></td>
<td><code>build()</code> ë§ˆì§€ë§‰ì— <code>lock_model()</code> í˜¸ì¶œ</td>
</tr>
<tr>
<td>2</td>
<td><code>set_sequencer()</code> ëˆ„ë½</td>
<td><code>No sequencer registered for map</code></td>
<td><code>connect_phase</code>ì—ì„œ <code>reg_map.set_sequencer(sqr, adapter)</code></td>
</tr>
<tr>
<td>3</td>
<td><code>set_auto_predict(0)</code> ëˆ„ë½</td>
<td>ë¯¸ëŸ¬ ê°’ ì´ì¤‘ ì—…ë°ì´íŠ¸ (silent bug)</td>
<td>Predictor ì‚¬ìš© ì‹œ ë°˜ë“œì‹œ ì„¤ì •</td>
</tr>
<tr>
<td>4</td>
<td>í•„ë“œ ë¹„íŠ¸ ìœ„ì¹˜ ê²¹ì¹¨</td>
<td><code>Field ... overlaps with field ...</code></td>
<td><code>configure()</code>ì˜ <code>lsb_pos</code>, <code>size</code> í™•ì¸</td>
</tr>
<tr>
<td>5</td>
<td>Adapterì˜ <code>bus2reg()</code>ì—ì„œ <code>$cast</code> ì‹¤íŒ¨</td>
<td><code>bus2reg: íƒ€ì… ë³€í™˜ ì‹¤íŒ¨</code></td>
<td><code>apb_seq_item</code> íƒ€ì…ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>ì‹¤ë¬´ íŒ</strong>: 1ë²ˆê³¼ 2ë²ˆ ì‹¤ìˆ˜ê°€ ì „ì²´ RAL ì—ëŸ¬ì˜ 80%ë¥¼ ì°¨ì§€í•©ë‹ˆë‹¤. RAL í™˜ê²½ì„ ì„¤ì •í•œ í›„ ê°„ë‹¨í•œ <code>write()</code>/<code>read()</code>ê°€ ë™ì‘í•˜ëŠ”ì§€ ë°˜ë“œì‹œ ë¨¼ì € í™•ì¸í•˜ì„¸ìš”. ë³µì¡í•œ ì‹œí€€ìŠ¤ëŠ” ê¸°ë³¸ ë™ì‘ í™•ì¸ í›„ì— ì¶”ê°€í•©ë‹ˆë‹¤.</p>
</blockquote>
<hr>
<h2 id="12-7-ì²´í¬í¬ì¸íŠ¸">12.7 ì²´í¬í¬ì¸íŠ¸</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: ì´ ì±•í„°ì˜ í•µì‹¬ ê°œë…ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="12-7-1-ì…€í”„-ì²´í¬">12.7.1 ì…€í”„ ì²´í¬</h3>
<p>ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•  ìˆ˜ ìˆìœ¼ë©´ ì´ ì±•í„°ì˜ í•µì‹¬ì„ ì´í•´í•œ ê²ƒì…ë‹ˆë‹¤:</p>
<p><strong>1. RALì˜ 4ê³„ì¸µ êµ¬ì¡°ë¥¼ ì„¤ëª…í•˜ì„¸ìš”.</strong> (12.2)</p>
<details>
<summary>ì •ë‹µ í™•ì¸</summary>
â‘  `uvm_reg_field` â€” ë ˆì§€ìŠ¤í„° ë‚´ ê°œë³„ ë¹„íŠ¸ ê·¸ë£¹ (ë¹„íŠ¸ ìœ„ì¹˜, ì ‘ê·¼ íƒ€ì…, ë¦¬ì…‹ ê°’)
â‘¡ `uvm_reg` â€” í•˜ë‚˜ì˜ ë ˆì§€ìŠ¤í„° (ì—¬ëŸ¬ field í¬í•¨)
â‘¢ `uvm_reg_block` â€” ì—¬ëŸ¬ ë ˆì§€ìŠ¤í„°ë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ìŒ
â‘£ `uvm_reg_map` â€” ê° ë ˆì§€ìŠ¤í„°ì— ì£¼ì†Œë¥¼ ë§¤í•‘
ê´€ê³„: Blockì´ Mapê³¼ Regë¥¼ í¬í•¨í•˜ê³ , Mapì´ Regì— ì£¼ì†Œë¥¼ í• ë‹¹í•˜ê³ , Regê°€ Fieldë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
</details>

<p><strong>2. Adapterì˜ ë‘ ê°€ì§€ ë©”ì„œë“œì˜ ì—­í• ì€?</strong> (12.4)</p>
<details>
<summary>ì •ë‹µ í™•ì¸</summary>
â‘  `reg2bus()` â€” RALì˜ ì¶”ìƒì  ë ˆì§€ìŠ¤í„° ì½ê¸°/ì“°ê¸° ìš”ì²­ì„ ë²„ìŠ¤ íŠ¸ëœì­ì…˜(apb_seq_item)ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. RALì´ `write()`/`read()`ë¥¼ í˜¸ì¶œí•˜ë©´ ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
â‘¡ `bus2reg()` â€” ë²„ìŠ¤ íŠ¸ëœì­ì…˜ ì™„ë£Œ í›„ ê²°ê³¼ë¥¼ RALì— ì „ë‹¬í•©ë‹ˆë‹¤. Readì˜ ê²½ìš° rdataë¥¼ RALì— ë°˜í™˜í•©ë‹ˆë‹¤.
</details>

<p><strong>3. desired, mirrored, actual ê°’ì˜ ì°¨ì´ëŠ”?</strong> (12.4)</p>
<details>
<summary>ì •ë‹µ í™•ì¸</summary>
- `desired`: RAL ëª¨ë¸ì—ì„œ "ì“°ê³  ì‹¶ì€ ê°’". `set()` í˜¸ì¶œ ì‹œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
- `mirrored`: RAL ëª¨ë¸ì—ì„œ "DUTì— ìˆì„ ê²ƒìœ¼ë¡œ ì¶”ì •í•˜ëŠ” ê°’". `write()`/`read()` ì™„ë£Œ ì‹œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.
- `actual`: DUT í•˜ë“œì›¨ì–´ì˜ ì‹¤ì œ ë ˆì§€ìŠ¤í„° ê°’. ë²„ìŠ¤ íŠ¸ëœì­ì…˜ì´ë‚˜ í•˜ë“œì›¨ì–´ ë™ì‘ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.
Predictorê°€ ëª¨ë‹ˆí„° ê´€ì°° ê²°ê³¼ë¡œ mirroredë¥¼ ìë™ ì—…ë°ì´íŠ¸í•˜ì—¬ actualê³¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.
</details>

<p><strong>4. <code>lock_model()</code>ì„ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?</strong> (12.3)</p>
<details>
<summary>ì •ë‹µ í™•ì¸</summary>
ëŸ°íƒ€ì„ì— `UVM_FATAL: "Register model has not been locked!"` ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤. `lock_model()`ì€ ë ˆì§€ìŠ¤í„° ëª¨ë¸ì˜ ë¹Œë“œê°€ ì™„ë£Œë˜ì—ˆìŒì„ ì„ ì–¸í•˜ëŠ” ë©”ì„œë“œë¡œ, ì´í›„ì— ë ˆì§€ìŠ¤í„°ë‚˜ ë§µì„ ì¶”ê°€/ìˆ˜ì •í•  ìˆ˜ ì—†ê²Œ ì ê¸‰ë‹ˆë‹¤. ë³´í†µ `uvm_reg_block::build()` í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ì— í˜¸ì¶œí•©ë‹ˆë‹¤.
</details>

<p><strong>5. Frontdoorì™€ Backdoor ì ‘ê·¼ì˜ ì°¨ì´ì™€ ê°ê°ì˜ ìš©ë„ëŠ”?</strong> (12.6)</p>
<details>
<summary>ì •ë‹µ í™•ì¸</summary>
- Frontdoor: ì‹¤ì œ ë²„ìŠ¤(APB)ë¥¼ í†µí•´ ì ‘ê·¼í•©ë‹ˆë‹¤. ì—¬ëŸ¬ í´ë¡ì´ ì†Œìš”ë˜ì§€ë§Œ ì‹¤ì œ í•˜ë“œì›¨ì–´ ë™ì‘ê³¼ ë™ì¼í•©ë‹ˆë‹¤. ê¸°ëŠ¥ ê²€ì¦ì— ì‚¬ìš©í•©ë‹ˆë‹¤. (`write()`, `read()`)
- Backdoor: HDL ê³„ì¸µ ê²½ë¡œë¥¼ í†µí•´ ì§ì ‘ ì ‘ê·¼í•©ë‹ˆë‹¤. 0ì‹œê°„ì— ì™„ë£Œë˜ì§€ë§Œ ì‹¤ì œ í•˜ë“œì›¨ì–´ì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ˆê¸°í™”, ë””ë²„ê¹…, ë¹ ë¥¸ ì„¤ì •ì— ì‚¬ìš©í•©ë‹ˆë‹¤. (`poke()`, `peek()`)
</details>

<p><strong>6. <code>uvm_reg_hw_reset_seq</code>ëŠ” ë¬´ì—‡ì„ ê²€ì¦í•˜ë‚˜ìš”?</strong> (12.6)</p>
<details>
<summary>ì •ë‹µ í™•ì¸</summary>
ëª¨ë“  ë ˆì§€ìŠ¤í„°ì˜ ë¦¬ì…‹ í›„ ê°’ì´ RAL ëª¨ë¸ì— ì •ì˜ëœ ë¦¬ì…‹ ê°’ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ìë™ ê²€ì¦í•©ë‹ˆë‹¤. ê° ë ˆì§€ìŠ¤í„°ë¥¼ ì½ê³  (`read()`), ëª¨ë¸ì˜ `get_reset()` ê°’ê³¼ ë¹„êµí•©ë‹ˆë‹¤. ë ˆì§€ìŠ¤í„° ìˆ˜ì— ê´€ê³„ì—†ì´ 3ì¤„ë¡œ ì „ì²´ ê²€ì¦ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
</details>

<h3 id="12-7-2-ì—°ìŠµë¬¸ì œ">12.7.2 ì—°ìŠµë¬¸ì œ</h3>
<p><strong>ì—°ìŠµ 12-1 (ê¸°ë³¸)</strong>: RAL ì»¤ë²„ë¦¬ì§€ í™œì„±í™”</p>
<p><code>apb_ctrl_reg</code>ì˜ ìƒì„±ìì—ì„œ <code>UVM_NO_COVERAGE</code> ëŒ€ì‹  <code>UVM_CVR_REG_BITS</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ë ˆì§€ìŠ¤í„° ë¹„íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ í™œì„±í™”í•˜ì„¸ìš”. ì‹œë®¬ë ˆì´ì…˜ í›„ <code>get_coverage()</code> ë©”ì„œë“œë¡œ ì»¤ë²„ë¦¬ì§€ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
<details>
<summary>íŒíŠ¸</summary>

<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ìƒì„±ì ë³€ê²½</span>
<span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, <span class="hljs-number">8</span>, UVM_CVR_REG_BITS);

<span class="hljs-comment">// report_phaseì—ì„œ í™•ì¸</span>
`uvm_info(<span class="hljs-string">&quot;COV&quot;</span>, <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;ctrl_reg coverage: %0d%%&quot;</span>,
  reg_model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.get_coverage</span>(UVM_CVR_REG_BITS)), UVM_NONE)
</code></pre></details>

<p><strong>ì—°ìŠµ 12-2 (ì¤‘ê¸‰)</strong>: ì»¤ìŠ¤í…€ ë ˆì§€ìŠ¤í„° ì‹œí€€ìŠ¤</p>
<p><code>uvm_reg_sequence</code>ë¥¼ ìƒì†í•˜ì—¬ &quot;ëª¨ë“  R/W ë ˆì§€ìŠ¤í„°ì— 0xFFë¥¼ ì“°ê³  ì½ì–´ì„œ ë¹„êµí•˜ëŠ”&quot; ì‹œí€€ìŠ¤ë¥¼ ì‘ì„±í•˜ì„¸ìš”. <code>reg_model.reg_map.get_registers()</code>ë¡œ ë ˆì§€ìŠ¤í„° ëª©ë¡ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<details>
<summary>íŒíŠ¸</summary>

<pre><code class="hljs language-systemverilog"><span class="hljs-keyword">class</span> apb_all_ff_seq <span class="hljs-keyword">extends</span> uvm_reg_sequence;
  <span class="hljs-keyword">task</span> body();
    uvm_reg regs[$];
    reg_model<span class="hljs-variable">.reg_map</span><span class="hljs-variable">.get_registers</span>(regs);
    <span class="hljs-keyword">foreach</span> (regs[i]) <span class="hljs-keyword">begin</span>
      <span class="hljs-keyword">if</span> (regs[i]<span class="hljs-variable">.get_rights</span>() == <span class="hljs-string">&quot;RW&quot;</span>) <span class="hljs-keyword">begin</span>
        regs[i]<span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;hFF</span>);
        regs[i]<span class="hljs-variable">.mirror</span>(status, UVM_CHECK);
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre></details>

<p><strong>ì—°ìŠµ 12-3 (ë„ì „)</strong>: Backdoor ê²½ë¡œ ì„¤ì •</p>
<p>APB Slave Memoryì˜ <code>mem[0]</code>~`mem[15]<code>ì— ëŒ€í•œ Backdoor ê²½ë¡œë¥¼ ì„¤ì •í•˜ê³ , </code>poke()<code>ë¡œ ê°’ì„ ì“´ ë’¤ Frontdoor </code>read()`ë¡œ ì½ì–´ì„œ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì¦í•˜ì„¸ìš”.</p>
<details>
<summary>íŒíŠ¸</summary>
`add_hdl_path_slice("tb_top.dut.mem[0]", 0, 8)`ì„ ë ˆì§€ìŠ¤í„° ë¸”ë¡ì˜ `build()`ì— ì¶”ê°€í•©ë‹ˆë‹¤. `add_hdl_path()`ë¡œ ë ˆì§€ìŠ¤í„° ë¸”ë¡ì˜ ë£¨íŠ¸ ê²½ë¡œë„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.
</details>

<h3 id="12-7-3-ì´-ì±•í„°ì—ì„œ-ë°°ìš´-ê²ƒ">12.7.3 ì´ ì±•í„°ì—ì„œ ë°°ìš´ ê²ƒ</h3>
<p>ì´ ì±•í„°ì—ì„œ ì¶”ê°€í•œ RAL ê´€ë ¨ íŒŒì¼:</p>
<pre><code>apb_verification/
â”œâ”€â”€ rtl/
â”‚   â””â”€â”€ apb_slave_memory.sv    â† Ch.11ì—ì„œ ë§Œë“  DUT (ë³€ê²½ ì—†ìŒ)
â”œâ”€â”€ tb/
â”‚   â”œâ”€â”€ apb_if.sv              â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_seq_item.sv        â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_driver.sv          â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_monitor.sv         â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_agent.sv           â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_reg_classes.sv     â† NEW: ë ˆì§€ìŠ¤í„° í´ë˜ìŠ¤ (ctrl, status, data)
â”‚   â”œâ”€â”€ apb_reg_block.sv       â† NEW: ë ˆì§€ìŠ¤í„° ë¸”ë¡ + ë§µ
â”‚   â”œâ”€â”€ apb_reg_adapter.sv     â† NEW: Adapter (reg2bus/bus2reg)
â”‚   â”œâ”€â”€ apb_ral_env.sv         â† NEW: RAL í†µí•© í™˜ê²½
â”‚   â”œâ”€â”€ apb_ral_test_seq.sv    â† NEW: RAL í…ŒìŠ¤íŠ¸ ì‹œí€€ìŠ¤
â”‚   â””â”€â”€ apb_ral_test.sv        â† NEW: RAL í…ŒìŠ¤íŠ¸
â””â”€â”€ sim/
    â””â”€â”€ run.do
</code></pre><p>Ch.11ì˜ APB ì—ì´ì „íŠ¸ ì½”ë“œëŠ” <strong>í•œ ì¤„ë„ ë³€ê²½í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</strong> RALì€ ê¸°ì¡´ í™˜ê²½ ìœ„ì— <strong>ê³„ì¸µì„ ì¶”ê°€</strong>í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>
<h3 id="12-7-4-ë‹¤ìŒ-ì¥-ë¯¸ë¦¬ë³´ê¸°">12.7.4 ë‹¤ìŒ ì¥ ë¯¸ë¦¬ë³´ê¸°</h3>
<p>Chapter 13ì—ì„œëŠ” <strong>ê³ ê¸‰ ì‹œí€€ìŠ¤</strong>ë¥¼ ë°°ì›ë‹ˆë‹¤. ê°€ìƒ ì‹œí€€ìŠ¤(Virtual Sequence)ë¡œ ì—¬ëŸ¬ ì—ì´ì „íŠ¸ë¥¼ ë™ì‹œì— ì œì–´í•˜ê³ , ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. Ch.11ì˜ APB ì‹œí€€ìŠ¤ì™€ Ch.12ì˜ RAL ì‹œí€€ìŠ¤ê°€ ê°€ìƒ ì‹œí€€ìŠ¤ ì•ˆì—ì„œ ì¡°í•©ë˜ì–´ ë” ë³µì¡í•œ ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.</p>
<p><strong>Part 3 ì§„í–‰ í˜„í™©:</strong></p>
<table>
<thead>
<tr>
<th>ì±•í„°</th>
<th>ì£¼ì œ</th>
<th>í•µì‹¬</th>
<th>ìƒíƒœ</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Ch.11</strong></td>
<td>ì¸í„°í˜ì´ìŠ¤ì™€ BFM</td>
<td>APB ì—ì´ì „íŠ¸ êµ¬ì¶•</td>
<td>âœ… ì™„ë£Œ</td>
</tr>
<tr>
<td><strong>Ch.12</strong></td>
<td>ë ˆì§€ìŠ¤í„° ëª¨ë¸ (RAL)</td>
<td>APB ìœ„ì— RAL ê³„ì¸µ ì¶”ê°€</td>
<td>âœ… ì§€ê¸ˆ ì—¬ê¸°!</td>
</tr>
<tr>
<td><strong>Ch.13</strong></td>
<td>ê³ ê¸‰ ì‹œí€€ìŠ¤</td>
<td>ê°€ìƒ ì‹œí€€ìŠ¤, ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬</td>
<td>ë‹¤ìŒ</td>
</tr>
<tr>
<td><strong>Ch.14</strong></td>
<td>ê²€ì¦ ìë™í™”</td>
<td>ìë™í™” ì¸í”„ë¼ êµ¬ì¶•</td>
<td>ëŒ€ê¸°</td>
</tr>
<tr>
<td><strong>Ch.15</strong></td>
<td>í”„ë¡œì íŠ¸ ì¢…í•©</td>
<td>ì „ì²´ í†µí•© ë° ë¦¬ë·°</td>
<td>ëŒ€ê¸°</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>í•µì‹¬ ë©”ì‹œì§€</strong>: Ch.11ì—ì„œ APB ì—ì´ì „íŠ¸ë¥¼ ë§Œë“¤ê³ , Ch.12ì—ì„œ ê·¸ ìœ„ì— RALì„ ì˜¬ë ¸ìŠµë‹ˆë‹¤. <strong>ê¸°ì¡´ ì½”ë“œëŠ” í•œ ì¤„ë„ ë³€ê²½í•˜ì§€ ì•Šê³ </strong> ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ UVMì˜ ê³„ì¸µì  ì„¤ê³„ ì² í•™ì…ë‹ˆë‹¤. Ch.13ì—ì„œëŠ” ì´ í™˜ê²½ì„ ë” í™•ì¥í•©ë‹ˆë‹¤.</p>
</blockquote>

    <nav class="chapter-nav"><a href="chapter-11-final.html" class="nav-prev">
      <span class="nav-label">ì´ì „ ì±•í„°</span>
      <span class="nav-title">Ch.11 ë ˆì§€ìŠ¤í„° ëª¨ë¸ (RAL)</span>
    </a><a href="chapter-13-final.html" class="nav-next">
      <span class="nav-label">ë‹¤ìŒ ì±•í„°</span>
      <span class="nav-title">Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤ ê¸°ë²•</span>
    </a></nav>
  </div>

  <footer class="book-footer">
    <p>íŒ¹ë¦¬ìŠ¤ ê²€ì¦ ì—”ì§€ë‹ˆì–´ê°€ ë˜ê¸° ìœ„í•œ UVM ì™„ì „ì •ë³µ</p>
    <p>Published by UVM Book Publisher Agent</p>
  </footer>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">â†‘</button>

  <script>
    // Reading progress bar
    window.addEventListener('scroll', () => {
      const h = document.documentElement;
      const pct = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
      document.getElementById('progressBar').style.width = pct + '%';
      document.getElementById('backToTop').classList.toggle('visible', h.scrollTop > 400);
    });

    // Language labels for code blocks
    document.querySelectorAll('pre').forEach(pre => {
      const code = pre.querySelector('code');
      if (code) {
        const cls = code.className || '';
        const m = cls.match(/language-(\w+)/);
        if (m) {
          const map = {
            systemverilog:'SystemVerilog', sv:'SystemVerilog', verilog:'Verilog',
            bash:'Bash', shell:'Shell', tcl:'TCL', makefile:'Makefile',
            python:'Python', javascript:'JavaScript', text:'Output'
          };
          pre.setAttribute('data-lang', map[m[1]] || m[1]);
        }
      }
    });

    // Smart labels for plain code blocks
    document.querySelectorAll('pre code:not([class*="language-"])').forEach(code => {
      const pre = code.parentElement;
      if (!pre.getAttribute('data-lang')) {
        const t = code.textContent || '';
        if (t.includes('UVM_INFO') || t.includes('UVM_WARNING')) {
          pre.setAttribute('data-lang', 'Simulation Output');
        } else if (t.includes('[ì±„ìš©') || t.includes('í•„ìˆ˜ ìê²©')) {
          pre.setAttribute('data-lang', '');
        } else if (t.includes('Step') || t.includes('íŒ¨ë„') || t.includes('í¸ì§‘ê¸°')) {
          pre.setAttribute('data-lang', 'Setup Guide');
        } else {
          pre.setAttribute('data-lang', 'Info');
        }
      }
    });

    // Smooth scroll for TOC links
    document.querySelectorAll('.toc a').forEach(a => {
      a.addEventListener('click', e => {
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
  </script>
</body>
</html>