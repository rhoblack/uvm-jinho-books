<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 13: ê³ ê¸‰ ì‹œí€€ìŠ¤ | íŒ¹ë¦¬ìŠ¤ ê²€ì¦ ì—”ì§€ë‹ˆì–´ê°€ ë˜ê¸° ìœ„í•œ UVM ì™„ì „ì •ë³µ</title>
  <style>
    /* =============================================
       UVM Book Publisher - Stylesheet
       Generated by Publisher Agent
       ============================================= */

    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');

    :root {
      --bg: #ffffff;
      --text: #1a1a2e;
      --accent: #7c3aed;
      --accent-light: #7c3aed18;
      --code-bg: #1e1e2e;
      --code-text: #cdd6f4;
      --border: #e2e8f0;
      --blockquote-bg: #f0f9ff;
      --blockquote-border: #3b82f6;
      --table-header: #1e293b;
      --table-stripe: #f8fafc;
      --warning-bg: #fef3c7;
      --warning-border: #f59e0b;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.85;
      color: var(--text);
      background: var(--bg);
      font-size: 16px;
    }

    /* === Reading Progress Bar === */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), #7c3aedcc);
      z-index: 9999;
      transition: width 0.1s;
    }

    /* === Cover Header === */
    .cover-header {
      background: linear-gradient(135deg, #7c3aed08, #7c3aed15);
      border-bottom: 3px solid var(--accent);
      padding: 32px 24px 24px;
      text-align: center;
      margin-bottom: 0;
    }
    .cover-part {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 4px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    .cover-chapter-num {
      font-size: 2em;
      font-weight: 300;
      color: var(--accent);
      letter-spacing: 2px;
      opacity: 0.6;
    }

    /* === Main Content === */
    .content {
      max-width: 860px;
      margin: 0 auto;
      padding: 32px 24px 60px;
    }

    /* === TOC === */
    .toc {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px 28px;
      margin: 24px 0 32px;
    }
    .toc-title {
      font-size: 1.1em;
      color: var(--accent);
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
    }
    .toc ul { list-style: none; padding: 0; }
    .toc li { margin: 6px 0; }
    .toc li a {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95em;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      transition: background 0.15s;
    }
    .toc li a:hover {
      background: var(--accent-light);
      color: var(--accent);
    }
    .toc li.toc-sub { padding-left: 24px; }
    .toc li.toc-sub a {
      font-weight: 400;
      font-size: 0.9em;
      color: #475569;
    }

    /* === Headings === */
    h1 {
      font-size: 2em;
      border-bottom: 3px solid var(--accent);
      padding-bottom: 12px;
      margin: 40px 0 20px;
      color: var(--text);
    }
    h1:first-child { margin-top: 0; }
    h2 {
      font-size: 1.5em;
      color: var(--accent);
      margin: 40px 0 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
      scroll-margin-top: 16px;
    }
    h3 {
      font-size: 1.25em;
      margin: 28px 0 12px;
      color: #334155;
      scroll-margin-top: 16px;
    }
    h4 { font-size: 1.05em; margin: 20px 0 8px; color: #475569; }
    p { margin: 12px 0; }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    hr { border: none; border-top: 2px solid var(--border); margin: 32px 0; }
    strong { color: #1e293b; }
    img { max-width: 100%; border-radius: 8px; margin: 16px 0; }

    /* === Code Blocks === */
    pre {
      position: relative;
      background: var(--code-bg);
      border-radius: 12px;
      padding: 0;
      margin: 20px 0;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.12), 0 1px 4px rgba(0,0,0,0.08);
      border: 1px solid #313244;
    }
    pre::before {
      content: attr(data-lang);
      display: block;
      background: #313244;
      color: #a6adc8;
      padding: 8px 16px;
      font-size: 0.8em;
      font-family: 'Fira Code','JetBrains Mono',monospace;
      letter-spacing: 0.5px;
      border-bottom: 1px solid #45475a;
    }
    pre code {
      display: block;
      padding: 16px 20px;
      overflow-x: auto;
      font-family: 'Fira Code','JetBrains Mono','Cascadia Code','D2Coding',monospace;
      font-size: 0.88em;
      line-height: 1.75;
      tab-size: 4;
      color: var(--code-text);
    }
    pre code::-webkit-scrollbar { height: 6px; }
    pre code::-webkit-scrollbar-track { background: #1e1e2e; }
    pre code::-webkit-scrollbar-thumb { background: #45475a; border-radius: 3px; }

    code:not(pre code) {
      background: #f1f5f9;
      color: #be185d;
      padding: 2px 7px;
      border-radius: 5px;
      font-family: 'Fira Code','JetBrains Mono','D2Coding',monospace;
      font-size: 0.86em;
      border: 1px solid #e2e8f0;
    }

    /* Highlight.js Catppuccin */
    .hljs { background: transparent; color: #cdd6f4; }
    .hljs-keyword { color: #cba6f7; font-weight: bold; }
    .hljs-type { color: #f9e2af; }
    .hljs-string { color: #a6e3a1; }
    .hljs-number { color: #fab387; }
    .hljs-comment { color: #6c7086; font-style: italic; }
    .hljs-function, .hljs-title { color: #89b4fa; }
    .hljs-built_in { color: #f38ba8; }
    .hljs-variable { color: #cdd6f4; }
    .hljs-attr { color: #89dceb; }
    .hljs-meta { color: #f5c2e7; }
    .hljs-literal { color: #fab387; }

    /* === SVG Diagrams === */
    .svg-diagram {
      margin: 24px 0;
      padding: 20px;
      background: #fafbfc;
      border: 1px solid var(--border);
      border-radius: 12px;
      text-align: center;
      overflow-x: auto;
    }
    .svg-diagram svg { display: inline-block; }

    /* === Blockquotes === */
    blockquote {
      background: var(--blockquote-bg);
      border-left: 4px solid var(--blockquote-border);
      padding: 16px 20px;
      margin: 16px 0;
      border-radius: 0 8px 8px 0;
    }
    blockquote p:first-child { margin-top: 0; }
    blockquote p:last-child { margin-bottom: 0; }
    blockquote:has(strong:first-child) {
      background: var(--warning-bg);
      border-left-color: var(--warning-border);
    }

    /* === Tables === */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 4px rgba(0,0,0,0.06);
      border: 1px solid var(--border);
      font-size: 0.95em;
    }
    thead th {
      background: var(--table-header);
      color: white;
      padding: 12px 16px;
      text-align: left;
      font-weight: 600;
      font-size: 0.9em;
    }
    tbody td {
      padding: 10px 16px;
      border-bottom: 1px solid var(--border);
    }
    tbody tr:nth-child(even) { background: var(--table-stripe); }
    tbody tr:hover { background: var(--accent-light); }

    /* === Lists === */
    ul, ol { padding-left: 28px; margin: 12px 0; }
    li { margin: 6px 0; }
    li > ul, li > ol { margin: 4px 0; }

    /* === Details/Summary === */
    details {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      margin: 12px 0;
    }
    details summary {
      cursor: pointer;
      font-weight: 600;
      color: var(--accent);
    }
    details[open] summary { margin-bottom: 8px; }

    /* === Plain code blocks === */
    pre:has(code:not(.hljs)) {
      background: #fafbfc;
      border: 2px solid var(--border);
      box-shadow: none;
    }
    pre:has(code:not(.hljs))::before {
      background: #f1f5f9;
      color: #64748b;
      border-bottom-color: var(--border);
    }
    pre:has(code:not(.hljs)) code { color: #334155; }

    /* === Chapter Navigation === */
    .chapter-nav {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      margin: 40px 0 20px;
      padding-top: 24px;
      border-top: 2px solid var(--border);
    }
    .chapter-nav a {
      display: flex;
      flex-direction: column;
      padding: 14px 20px;
      border: 1px solid var(--border);
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.2s;
      min-width: 200px;
    }
    .chapter-nav a:hover {
      border-color: var(--accent);
      background: var(--accent-light);
      text-decoration: none;
    }
    .nav-prev { align-items: flex-start; }
    .nav-next { align-items: flex-end; }
    .nav-label {
      font-size: 0.8em;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .nav-title { font-weight: 600; color: var(--accent); margin-top: 2px; }

    /* === Footer === */
    .book-footer {
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      border-top: 1px solid var(--border);
      color: #94a3b8;
      font-size: 0.85em;
    }

    /* === Back to Top === */
    .back-to-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 44px;
      height: 44px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      transition: opacity 0.3s;
      z-index: 100;
    }
    .back-to-top.visible { display: flex; }

    /* === Print === */
    @media print {
      .progress-bar, .back-to-top, .chapter-nav, .toc { display: none !important; }
      body { font-size: 11pt; }
      .content { max-width: 100%; padding: 0; }
      .cover-header { break-after: page; }
      pre { box-shadow: none; border: 2px solid #ccc; break-inside: avoid; }
      .svg-diagram { break-inside: avoid; border: 1px solid #ccc; }
      table { break-inside: avoid; }
      h2, h3 { break-after: avoid; }
    }

    /* === Responsive === */
    @media (max-width: 640px) {
      .content { padding: 16px 12px 40px; font-size: 15px; }
      h1 { font-size: 1.5em; }
      h2 { font-size: 1.25em; }
      pre code { font-size: 0.8em; padding: 12px; }
      thead th, tbody td { padding: 8px 10px; font-size: 0.88em; }
      .svg-diagram { padding: 10px; }
      .toc { padding: 14px 18px; }
      .chapter-nav { flex-direction: column; }
      .chapter-nav a { min-width: unset; }
      .nav-next { align-items: flex-start; }
      .cover-chapter-num { font-size: 1.5em; }
    }
  </style>
</head>
<body>
  <!-- Reading Progress Bar -->
  <div class="progress-bar" id="progressBar"></div>

  
<header class="cover-header">
  <div class="cover-part" style="--part-color: #7c3aed">
    <span class="cover-part-label">Part 3: ì™„ì„±í•˜ê¸°</span>
  </div>
  <div class="cover-chapter-num">Chapter 13</div>
</header>

  <div class="content">
    <nav class="toc">
<h2 class="toc-title">ëª©ì°¨</h2>
<ul>
<li><a href="#13-1-ì™œ-ê³ ê¸‰-ì‹œí€€ìŠ¤ê°€-í•„ìš”í•œê°€">13.1 ì™œ ê³ ê¸‰ ì‹œí€€ìŠ¤ê°€ í•„ìš”í•œê°€</a></li>
  <li class="toc-sub"><a href="#13-1-1-ch-6-ë°©ì‹ì˜-í•œê³„-ë‹¨ì¼-ì—ì´ì „íŠ¸">13.1.1 Ch.6 ë°©ì‹ì˜ í•œê³„ â€” ë‹¨ì¼ ì—ì´ì „íŠ¸</a></li>
  <li class="toc-sub"><a href="#13-1-2-ì‹¤ë¬´-soc-ê²€ì¦-ë‹¤ì¤‘-ì—ì´ì „íŠ¸-ë¬¸ì œ">13.1.2 ì‹¤ë¬´ SoC ê²€ì¦ â€” ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ë¬¸ì œ</a></li>
  <li class="toc-sub"><a href="#13-1-3-ê³ ê¸‰-ì‹œí€€ìŠ¤-ë¡œë“œë§µ">13.1.3 ê³ ê¸‰ ì‹œí€€ìŠ¤ ë¡œë“œë§µ</a></li>
<li><a href="#13-2-ê°€ìƒ-ì‹œí€€ì„œ-virtual-sequencer">13.2 ê°€ìƒ ì‹œí€€ì„œ (Virtual Sequencer)</a></li>
  <li class="toc-sub"><a href="#13-2-1-ê°€ìƒ-ì‹œí€€ì„œë€-ì˜¤ì¼€ìŠ¤íŠ¸ë¼-ì§€íœ˜ì">13.2.1 ê°€ìƒ ì‹œí€€ì„œë€ â€” ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì§€íœ˜ì</a></li>
  <li class="toc-sub"><a href="#13-2-2-ê°€ìƒ-ì‹œí€€ì„œ-êµ¬í˜„">13.2.2 ê°€ìƒ ì‹œí€€ì„œ êµ¬í˜„</a></li>
  <li class="toc-sub"><a href="#13-2-3-í™˜ê²½ì—-ê°€ìƒ-ì‹œí€€ì„œ-í†µí•©">13.2.3 í™˜ê²½ì— ê°€ìƒ ì‹œí€€ì„œ í†µí•©</a></li>
<li><a href="#13-3-ê°€ìƒ-ì‹œí€€ìŠ¤-virtual-sequence">13.3 ê°€ìƒ ì‹œí€€ìŠ¤ (Virtual Sequence)</a></li>
  <li class="toc-sub"><a href="#13-3-1-ê°€ìƒ-ì‹œí€€ìŠ¤ë€-ì•…ë³´">13.3.1 ê°€ìƒ ì‹œí€€ìŠ¤ë€ â€” ì•…ë³´</a></li>
  <li class="toc-sub"><a href="#13-3-2-ê°€ìƒ-ì‹œí€€ìŠ¤-êµ¬í˜„">13.3.2 ê°€ìƒ ì‹œí€€ìŠ¤ êµ¬í˜„</a></li>
  <li class="toc-sub"><a href="#13-3-3-p-sequencerë¡œ-ì‹œí€€ì„œ-ì ‘ê·¼">13.3.3 p_sequencerë¡œ ì‹œí€€ì„œ ì ‘ê·¼</a></li>
  <li class="toc-sub"><a href="#13-3-4-ì²«-ê°€ìƒ-ì‹œí€€ìŠ¤-ì‹œë®¬ë ˆì´ì…˜">13.3.4 ì²« ê°€ìƒ ì‹œí€€ìŠ¤ ì‹œë®¬ë ˆì´ì…˜</a></li>
<li><a href="#13-4-ì‹œí€€ìŠ¤-ë¼ì´ë¸ŒëŸ¬ë¦¬-sequence-library">13.4 ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Sequence Library)</a></li>
  <li class="toc-sub"><a href="#13-4-1-ì™œ-ì‹œí€€ìŠ¤-ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€-í•„ìš”í•œê°€">13.4.1 ì™œ ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•œê°€</a></li>
  <li class="toc-sub"><a href="#13-4-2-uvm-sequence-library-êµ¬í˜„">13.4.2 uvm_sequence_library êµ¬í˜„</a></li>
  <li class="toc-sub"><a href="#13-4-3-ì‹œí€€ìŠ¤-ì„ íƒ-ëª¨ë“œ">13.4.3 ì‹œí€€ìŠ¤ ì„ íƒ ëª¨ë“œ</a></li>
<li><a href="#13-5-ê³ ê¸‰-ì‹œí€€ìŠ¤-íŒ¨í„´">13.5 ê³ ê¸‰ ì‹œí€€ìŠ¤ íŒ¨í„´</a></li>
  <li class="toc-sub"><a href="#13-5-1-ê³„ì¸µì -ì‹œí€€ìŠ¤-layered-sequences">13.5.1 ê³„ì¸µì  ì‹œí€€ìŠ¤ (Layered Sequences)</a></li>
  <li class="toc-sub"><a href="#13-5-2-ì‹œí€€ìŠ¤ì™€-config-db-ì—°ë™">13.5.2 ì‹œí€€ìŠ¤ì™€ config_db ì—°ë™</a></li>
  <li class="toc-sub"><a href="#13-5-3-ì‹œí€€ìŠ¤ì—ì„œ-ral-ì‚¬ìš©">13.5.3 ì‹œí€€ìŠ¤ì—ì„œ RAL ì‚¬ìš©</a></li>
<li><a href="#13-6-ì‹¤ì „-í†µí•©-apb-ral-ê°€ìƒ-ì‹œí€€ìŠ¤">13.6 ì‹¤ì „ í†µí•©: APB + RAL ê°€ìƒ ì‹œí€€ìŠ¤</a></li>
  <li class="toc-sub"><a href="#13-6-1-í†µí•©-í™˜ê²½-êµ¬ì„±">13.6.1 í†µí•© í™˜ê²½ êµ¬ì„±</a></li>
  <li class="toc-sub"><a href="#13-6-2-apb-ral-ì¡°í•©-ì‹œë‚˜ë¦¬ì˜¤">13.6.2 APB + RAL ì¡°í•© ì‹œë‚˜ë¦¬ì˜¤</a></li>
  <li class="toc-sub"><a href="#13-6-3-ch-6-ê¸°ë³¸-ì‹œí€€ìŠ¤-vs-ch-13-ê³ ê¸‰-ì‹œí€€ìŠ¤-ë¹„êµ">13.6.3 Ch.6 ê¸°ë³¸ ì‹œí€€ìŠ¤ vs Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤ ë¹„êµ</a></li>
  <li class="toc-sub"><a href="#13-6-4-ì‹¤ë¬´-ì‹œí€€ìŠ¤-ì „ëµ-ê°€ì´ë“œ">13.6.4 ì‹¤ë¬´ ì‹œí€€ìŠ¤ ì „ëµ ê°€ì´ë“œ</a></li>
<li><a href="#13-7-ì²´í¬í¬ì¸íŠ¸">13.7 ì²´í¬í¬ì¸íŠ¸</a></li>
  <li class="toc-sub"><a href="#13-7-1-ì…€í”„-ì²´í¬">13.7.1 ì…€í”„ ì²´í¬</a></li>
  <li class="toc-sub"><a href="#13-7-2-ì—°ìŠµë¬¸ì œ">13.7.2 ì—°ìŠµë¬¸ì œ</a></li>
  <li class="toc-sub"><a href="#13-7-3-ì´-ì±•í„°ì—ì„œ-ë°°ìš´-ê²ƒ">13.7.3 ì´ ì±•í„°ì—ì„œ ë°°ìš´ ê²ƒ</a></li>
  <li class="toc-sub"><a href="#13-7-4-ë‹¤ìŒ-ì¥-ë¯¸ë¦¬ë³´ê¸°">13.7.4 ë‹¤ìŒ ì¥ ë¯¸ë¦¬ë³´ê¸°</a></li>
</ul>
</nav>
    <h1>Chapter 13: ê³ ê¸‰ ì‹œí€€ìŠ¤</h1>
<blockquote>
<p><strong>í•™ìŠµ ëª©í‘œ</strong></p>
<ul>
<li>**ê°€ìƒ ì‹œí€€ìŠ¤(Virtual Sequence)**ë¡œ ì—¬ëŸ¬ ì—ì´ì „íŠ¸ë¥¼ ë™ì‹œì— ì œì–´í•  ìˆ˜ ìˆë‹¤</li>
<li>**ê°€ìƒ ì‹œí€€ì„œ(Virtual Sequencer)**ë¥¼ í†µí•œ ë‹¤ì¤‘ ì‹œí€€ì„œ ê´€ë¦¬ë¥¼ ì´í•´í•œë‹¤</li>
<li>**ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬(Sequence Library)**ë¡œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤</li>
<li><strong>p_sequencer</strong>ë¥¼ í™œìš©í•´ ì‹œí€€ìŠ¤ì—ì„œ í™˜ê²½ ìì›ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤</li>
<li>Ch.11 APB ì‹œí€€ìŠ¤ì™€ Ch.12 RAL ì‹œí€€ìŠ¤ë¥¼ ê°€ìƒ ì‹œí€€ìŠ¤ë¡œ <strong>ì¡°í•©</strong>í•  ìˆ˜ ìˆë‹¤</li>
</ul>
</blockquote>
<blockquote>
<p><strong>ì„ ìˆ˜ ì§€ì‹</strong>: Chapter 6ì˜ ê¸°ë³¸ ì‹œí€€ìŠ¤ íŒ¨í„´(start_item/finish_item, ì‹œí€€ìŠ¤ í•©ì„±)ì´ í•µì‹¬ ê¸°ë°˜ì…ë‹ˆë‹¤. Chapter 11ì˜ APB ì—ì´ì „íŠ¸ì™€ Chapter 12ì˜ RAL í™˜ê²½ì„ í™•ì¥í•©ë‹ˆë‹¤.</p>
</blockquote>
<hr>
<h2 id="13-1-ì™œ-ê³ ê¸‰-ì‹œí€€ìŠ¤ê°€-í•„ìš”í•œê°€">13.1 ì™œ ê³ ê¸‰ ì‹œí€€ìŠ¤ê°€ í•„ìš”í•œê°€</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: Ch.6 ê¸°ë³¸ ì‹œí€€ìŠ¤ì˜ í•œê³„ë¥¼ ì´í•´í•˜ê³ , ê³ ê¸‰ ì‹œí€€ìŠ¤ì˜ í•„ìš”ì„±ì„ íŒŒì•…í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-1-1-ch-6-ë°©ì‹ì˜-í•œê³„-ë‹¨ì¼-ì—ì´ì „íŠ¸">13.1.1 Ch.6 ë°©ì‹ì˜ í•œê³„ â€” ë‹¨ì¼ ì—ì´ì „íŠ¸</h3>
<p>Ch.6ì—ì„œ ë°°ìš´ ì‹œí€€ìŠ¤ íŒ¨í„´ì„ ë– ì˜¬ë ¤ë´…ì‹œë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// Ch.6 ë°©ì‹: í•˜ë‚˜ì˜ ì‹œí€€ì„œì— í•˜ë‚˜ì˜ ì‹œí€€ìŠ¤</span>
<span class="hljs-keyword">class</span> my_test <span class="hljs-keyword">extends</span> uvm_test;
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    my_sequence seq = my_sequence::type_id::create(<span class="hljs-string">&quot;seq&quot;</span>);
    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);
    seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.agent</span><span class="hljs-variable">.sqr</span>);  <span class="hljs-comment">// ì‹œí€€ì„œ í•˜ë‚˜ì— ì‹œí€€ìŠ¤ í•˜ë‚˜</span>
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p>ì´ íŒ¨í„´ì€ ì—ì´ì „íŠ¸ê°€ í•˜ë‚˜ì¼ ë•Œ ì™„ë²½í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ”?</p>
<table>
<thead>
<tr>
<th>ìƒí™©</th>
<th>Ch.6 ë°©ì‹ì˜ í•œê³„</th>
</tr>
</thead>
<tbody><tr>
<td>APB + SPI ë™ì‹œ ê²€ì¦</td>
<td>ì‹œí€€ìŠ¤ 2ê°œë¥¼ ìˆœì°¨ ì‹¤í–‰? ë™ì‹œì„± ì—†ìŒ</td>
</tr>
<tr>
<td>ë ˆì§€ìŠ¤í„° ì„¤ì • í›„ ë°ì´í„° ì „ì†¡</td>
<td>ë‘ ì—ì´ì „íŠ¸ì˜ ìˆœì„œ ì œì–´ ë¶ˆê°€</td>
</tr>
<tr>
<td>ì¸í„°ëŸ½íŠ¸ ë°œìƒ + ìƒíƒœ ì½ê¸°</td>
<td>ì´ë²¤íŠ¸ ê¸°ë°˜ ë™ê¸°í™” ë¶ˆê°€</td>
</tr>
<tr>
<td>ì—ëŸ¬ ì£¼ì… + ì •ìƒ íŠ¸ë˜í”½</td>
<td>ë…ë¦½ì  ì‹œë‚˜ë¦¬ì˜¤ ì¡°í•© ë¶ˆê°€</td>
</tr>
</tbody></table>
<p><strong>í•µì‹¬ ë¬¸ì œ</strong>: Ch.6ì˜ ì‹œí€€ìŠ¤ëŠ” <strong>í•˜ë‚˜ì˜ ì‹œí€€ì„œì— í•˜ë‚˜ì˜ ì‹œë‚˜ë¦¬ì˜¤</strong>ë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤. ì‹¤ë¬´ SoCì—ëŠ” APB, SPI, I2C, UART ë“± <strong>ì—¬ëŸ¬ ì—ì´ì „íŠ¸</strong>ê°€ ë™ì‹œì— ë™ì‘í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<h3 id="13-1-2-ì‹¤ë¬´-soc-ê²€ì¦-ë‹¤ì¤‘-ì—ì´ì „íŠ¸-ë¬¸ì œ">13.1.2 ì‹¤ë¬´ SoC ê²€ì¦ â€” ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ë¬¸ì œ</h3>
<p>íŒ¹ë¦¬ìŠ¤ íšŒì‚¬ì˜ SoC ê²€ì¦ í™˜ê²½ì„ ìƒìƒí•´ë´…ì‹œë‹¤:</p>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 380" style="max-width:600px;width:100%;height:auto">
  <defs>
    <filter id="sh13d" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <marker id="arr13d" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b"/>
    </marker>
  </defs>

  <!-- Title -->
  <rect x="140" y="6" width="320" height="32" rx="16" fill="#1e293b"/>
  <text x="300" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">ì‹¤ë¬´ SoC ê²€ì¦ í™˜ê²½</text>

  <!-- SoC DUT box -->
  <rect x="50" y="52" width="500" height="150" rx="12" fill="#f8fafc" stroke="#334155" stroke-width="2.5" filter="url(#sh13d)"/>
  <text x="300" y="74" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#1e293b">SoC DUT</text>

  <!-- IP blocks inside -->
  <rect x="80" y="88" width="120" height="46" rx="8" fill="#eff6ff" stroke="#2563eb" stroke-width="1.5"/>
  <text x="140" y="116" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#1e40af">CPU Core</text>

  <rect x="240" y="88" width="120" height="46" rx="8" fill="#ecfdf5" stroke="#10b981" stroke-width="1.5"/>
  <text x="300" y="116" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#065f46">Timer</text>

  <rect x="400" y="88" width="120" height="46" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="460" y="116" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#92400e">UART</text>

  <!-- APB labels -->
  <text x="140" y="152" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="10" fill="#64748b">APB</text>
  <text x="300" y="152" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="10" fill="#64748b">APB</text>
  <text x="460" y="152" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="10" fill="#64748b">APB</text>

  <!-- APB Bus bar -->
  <rect x="70" y="162" width="460" height="24" rx="4" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1.5"/>
  <text x="300" y="179" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" font-weight="bold" fill="#475569">APB Bus</text>

  <!-- Vertical lines from bus bar down -->
  <line x1="140" y1="186" x2="140" y2="138" stroke="#94a3b8" stroke-width="1.5"/>
  <line x1="300" y1="186" x2="300" y2="138" stroke="#94a3b8" stroke-width="1.5"/>
  <line x1="460" y1="186" x2="460" y2="138" stroke="#94a3b8" stroke-width="1.5"/>

  <!-- Arrows from DUT to Agents -->
  <line x1="140" y1="202" x2="140" y2="248" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13d)"/>
  <line x1="300" y1="202" x2="300" y2="248" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13d)"/>
  <line x1="460" y1="202" x2="460" y2="248" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13d)"/>

  <!-- Agents -->
  <rect x="80" y="252" width="120" height="50" rx="10" fill="#eff6ff" stroke="#2563eb" stroke-width="2" filter="url(#sh13d)"/>
  <text x="140" y="274" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#1e40af">APB Agent #1</text>
  <text x="140" y="292" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#3b82f6">(CPU)</text>

  <rect x="240" y="252" width="120" height="50" rx="10" fill="#ecfdf5" stroke="#10b981" stroke-width="2" filter="url(#sh13d)"/>
  <text x="300" y="274" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#065f46">APB Agent #2</text>
  <text x="300" y="292" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#10b981">(Timer)</text>

  <rect x="400" y="252" width="120" height="50" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2" filter="url(#sh13d)"/>
  <text x="460" y="274" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#92400e">APB Agent #3</text>
  <text x="460" y="292" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#b45309">(UART)</text>

  <!-- Bottom note -->
  <rect x="80" y="320" width="440" height="36" rx="10" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="300" y="343" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#991b1b">ë¬¸ì œ: 3ê°œ ì—ì´ì „íŠ¸ë¥¼ ë™ì‹œì— ì–´ë–»ê²Œ ì œì–´í• ê¹Œ?</text>

</svg>
</div><p><strong>í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì˜ˆì‹œ</strong>: &quot;Timer ë ˆì§€ìŠ¤í„°ë¥¼ ì„¤ì •í•˜ê³  â†’ CPU ì½”ì–´ì— ì¸í„°ëŸ½íŠ¸ë¥¼ ë°œìƒì‹œí‚¤ê³  â†’ UARTë¡œ ê²°ê³¼ë¥¼ ì „ì†¡&quot;</p>
<p>ì´ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ Ch.6 ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë©´:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// Ch.6 ë°©ì‹: ìˆœì°¨ ì‹¤í–‰ â€” ë™ì‹œì„± ì—†ìŒ, ì½”ë“œ ë³µì¡</span>
<span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
  phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

  <span class="hljs-comment">// 1ë‹¨ê³„: Timer ì„¤ì • (APB Agent #2)</span>
  timer_seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.apb_agent2</span><span class="hljs-variable">.sqr</span>);

  <span class="hljs-comment">// 2ë‹¨ê³„: CPU ì¸í„°ëŸ½íŠ¸ (APB Agent #1) â€” Timerì™€ ë™ì‹œì— ëª» í•¨!</span>
  cpu_seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.apb_agent1</span><span class="hljs-variable">.sqr</span>);

  <span class="hljs-comment">// 3ë‹¨ê³„: UART ì „ì†¡ (APB Agent #3)</span>
  uart_seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.apb_agent3</span><span class="hljs-variable">.sqr</span>);

  phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
<span class="hljs-keyword">endtask</span>
</code></pre><p><strong>ë¬¸ì œì :</strong></p>
<ol>
<li>ì„¸ ì—ì´ì „íŠ¸ê°€ <strong>ìˆœì°¨ ì‹¤í–‰</strong> â€” ì‹¤ì œ í•˜ë“œì›¨ì–´ëŠ” ë™ì‹œì— ë™ì‘</li>
<li>ë™ê¸°í™” ë¡œì§ì´ <strong>í…ŒìŠ¤íŠ¸ ì•ˆì— í©ì–´ì§</strong> â€” ì¬ì‚¬ìš© ë¶ˆê°€</li>
<li>ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ë§ˆë‹¤ <strong>í…ŒìŠ¤íŠ¸ë¥¼ ìƒˆë¡œ ì‘ì„±</strong> â€” ì‹œí€€ìŠ¤ ì¬ì‚¬ìš© ë¶ˆê°€</li>
</ol>
<h3 id="13-1-3-ê³ ê¸‰-ì‹œí€€ìŠ¤-ë¡œë“œë§µ">13.1.3 ê³ ê¸‰ ì‹œí€€ìŠ¤ ë¡œë“œë§µ</h3>
<p>ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì„¸ ê°€ì§€ ë„êµ¬ê°€ ìˆìŠµë‹ˆë‹¤:</p>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 420" style="max-width:640px;width:100%;height:auto">
  <defs>
    <filter id="sh13a" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <marker id="arr13a" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b"/>
    </marker>
    <marker id="arr13aB" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb"/>
    </marker>
  </defs>

  <!-- Title -->
  <rect x="120" y="6" width="400" height="32" rx="16" fill="#1e293b"/>
  <text x="320" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤ ì•„í‚¤í…ì²˜</text>

  <!-- Virtual Sequence (top) -->
  <rect x="120" y="56" width="400" height="60" rx="12" fill="#fef3c7" stroke="#f59e0b" stroke-width="2.5" filter="url(#sh13a)"/>
  <text x="320" y="80" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="15" font-weight="bold" fill="#92400e">Virtual Sequence (ì•…ë³´)</text>
  <text x="320" y="102" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#78350f">"Timer ì„¤ì • â†’ ì¸í„°ëŸ½íŠ¸ â†’ UART ì „ì†¡"</text>

  <!-- Arrow down -->
  <line x1="320" y1="116" x2="320" y2="146" stroke="#2563eb" stroke-width="1.5" marker-end="url(#arr13aB)"/>
  <text x="340" y="136" font-family="'Fira Code','JetBrains Mono',monospace" font-size="10" fill="#2563eb">start()</text>

  <!-- Virtual Sequencer (middle) -->
  <rect x="80" y="150" width="480" height="100" rx="12" fill="#eff6ff" stroke="#2563eb" stroke-width="2.5" filter="url(#sh13a)"/>
  <text x="320" y="172" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#1e40af">Virtual Sequencer (ì§€íœ˜ì)</text>

  <!-- Sub-sequencers inside -->
  <rect x="110" y="184" width="120" height="50" rx="8" fill="#fff" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="170" y="206" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#1e40af">apb_sqr1</text>
  <text x="170" y="224" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">(CPU)</text>

  <rect x="260" y="184" width="120" height="50" rx="8" fill="#fff" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="320" y="206" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#1e40af">apb_sqr2</text>
  <text x="320" y="224" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">(Timer)</text>

  <rect x="410" y="184" width="120" height="50" rx="8" fill="#fff" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="470" y="206" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#1e40af">apb_sqr3</text>
  <text x="470" y="224" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#64748b">(UART)</text>

  <!-- Arrows to agents -->
  <line x1="170" y1="250" x2="170" y2="290" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13a)"/>
  <line x1="320" y1="250" x2="320" y2="290" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13a)"/>
  <line x1="470" y1="250" x2="470" y2="290" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13a)"/>

  <!-- Agents (bottom) -->
  <rect x="110" y="294" width="120" height="50" rx="10" fill="#ecfdf5" stroke="#10b981" stroke-width="2" filter="url(#sh13a)"/>
  <text x="170" y="316" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#065f46">APB Agent 1</text>
  <text x="170" y="334" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#047857">(CPU)</text>

  <rect x="260" y="294" width="120" height="50" rx="10" fill="#ecfdf5" stroke="#10b981" stroke-width="2" filter="url(#sh13a)"/>
  <text x="320" y="316" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#065f46">APB Agent 2</text>
  <text x="320" y="334" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#047857">(Timer)</text>

  <rect x="410" y="294" width="120" height="50" rx="10" fill="#ecfdf5" stroke="#10b981" stroke-width="2" filter="url(#sh13a)"/>
  <text x="470" y="316" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#065f46">APB Agent 3</text>
  <text x="470" y="334" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="10" fill="#047857">(UART)</text>

  <!-- Bottom summary -->
  <rect x="100" y="364" width="440" height="36" rx="10" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2"/>
  <text x="320" y="387" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#5b21b6">í•˜ë‚˜ì˜ ì•…ë³´(Virtual Seq)ë¡œ ëª¨ë“  ì•…ê¸°(Agent)ë¥¼ ì§€íœ˜</text>

</svg>
</div><table>
<thead>
<tr>
<th>ë„êµ¬</th>
<th>ì—­í• </th>
<th>ë¹„ìœ </th>
</tr>
</thead>
<tbody><tr>
<td><strong>Virtual Sequencer</strong></td>
<td>ì—¬ëŸ¬ ì‹œí€€ì„œì˜ í•¸ë“¤ì„ ëª¨ì•„ë‘ëŠ” ì¤‘ì•™ í—ˆë¸Œ</td>
<td>ì˜¤ì¼€ìŠ¤íŠ¸ë¼ <strong>ì§€íœ˜ì</strong></td>
</tr>
<tr>
<td><strong>Virtual Sequence</strong></td>
<td>ì—¬ëŸ¬ ì—ì´ì „íŠ¸ì— ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë°°í¬í•˜ëŠ” ìµœìƒìœ„ ì‹œí€€ìŠ¤</td>
<td><strong>ì•…ë³´</strong></td>
</tr>
<tr>
<td><strong>Sequence Library</strong></td>
<td>ì‹œí€€ìŠ¤ë¥¼ ëª¨ì•„ë‘ê³  ìë™ ì„ íƒÂ·ì‹¤í–‰í•˜ëŠ” ì»¨í…Œì´ë„ˆ</td>
<td><strong>í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</strong></td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ê³µì—°ì„ ìƒê°í•´ë³´ì„¸ìš”. ê° ì•…ê¸° ì—°ì£¼ì(Agent)ëŠ” ìê¸° íŒŒíŠ¸ë¥¼ ì—°ì£¼í•©ë‹ˆë‹¤. ì§€íœ˜ì(Virtual Sequencer)ëŠ” ëª¨ë“  ì•…ê¸°ë¥¼ ì•Œê³  ìˆê³ , ì•…ë³´(Virtual Sequence)ì˜ ì§€ì‹œì— ë”°ë¼ &quot;ë°”ì´ì˜¬ë¦°ì€ ì§€ê¸ˆ, ì²¼ë¡œëŠ” 4ë§ˆë”” í›„ì—&quot; ê°™ì€ íƒ€ì´ë°ì„ ì¡°ìœ¨í•©ë‹ˆë‹¤.</p>
</blockquote>
<hr>
<h2 id="13-2-ê°€ìƒ-ì‹œí€€ì„œ-virtual-sequencer">13.2 ê°€ìƒ ì‹œí€€ì„œ (Virtual Sequencer)</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: ê°€ìƒ ì‹œí€€ì„œì˜ ê°œë…ê³¼ êµ¬í˜„ ë°©ë²•ì„ ì´í•´í•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-2-1-ê°€ìƒ-ì‹œí€€ì„œë€-ì˜¤ì¼€ìŠ¤íŠ¸ë¼-ì§€íœ˜ì">13.2.1 ê°€ìƒ ì‹œí€€ì„œë€ â€” ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì§€íœ˜ì</h3>
<p>ê°€ìƒ ì‹œí€€ì„œëŠ” <strong>íŠ¸ëœì­ì…˜ì„ ì§ì ‘ ìƒì„±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</strong> ëŒ€ì‹ , ì—¬ëŸ¬ ì‹¤ì œ ì‹œí€€ì„œì˜ í•¸ë“¤ì„ ëª¨ì•„ë‘ëŠ” <strong>ì¤‘ì•™ í—ˆë¸Œ</strong> ì—­í• ì„ í•©ë‹ˆë‹¤.</p>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 300" style="max-width:640px;width:100%;height:auto">
  <defs>
    <filter id="sh13e" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
  </defs>

  <!-- Title -->
  <rect x="140" y="6" width="360" height="32" rx="16" fill="#1e293b"/>
  <text x="320" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">ì¼ë°˜ ì‹œí€€ì„œ vs ê°€ìƒ ì‹œí€€ì„œ</text>

  <!-- Left: Normal Sequencer -->
  <text x="155" y="62" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#1e40af">ì¼ë°˜ ì‹œí€€ì„œ (Ch.6)</text>
  <text x="155" y="78" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">= "íƒë°° ê¸°ì‚¬"</text>

  <rect x="60" y="90" width="190" height="140" rx="12" fill="#eff6ff" stroke="#2563eb" stroke-width="2" filter="url(#sh13e)"/>
  <text x="155" y="116" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#1e40af">Sequencer</text>

  <text x="155" y="142" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#475569">seq_item_export</text>
  <text x="155" y="158" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#475569">â—„â”€â”€ Driver</text>

  <rect x="80" y="172" width="150" height="30" rx="6" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="155" y="192" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" font-weight="bold" fill="#1e40af">íŠ¸ëœì­ì…˜ ì§ì ‘ ì „ë‹¬</text>

  <text x="155" y="250" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ë¬¼ê±´ì„ ì§ì ‘ ë°°ë‹¬</text>

  <!-- Divider -->
  <line x1="310" y1="52" x2="310" y2="270" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="6,4"/>
  <text x="320" y="280" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#94a3b8">vs</text>

  <!-- Right: Virtual Sequencer -->
  <text x="475" y="62" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#7c3aed">ê°€ìƒ ì‹œí€€ì„œ (Ch.13)</text>
  <text x="475" y="78" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">= "ë°°ì°¨ ë‹´ë‹¹ì"</text>

  <rect x="370" y="90" width="210" height="140" rx="12" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2" filter="url(#sh13e)"/>
  <text x="475" y="116" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#5b21b6">Virtual Sequencer</text>

  <text x="475" y="142" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">apb_sqr  â”€â”€â–º í•¸ë“¤</text>
  <text x="475" y="158" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">gpio_sqr â”€â”€â–º í•¸ë“¤</text>
  <text x="475" y="174" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">spi_sqr  â”€â”€â–º í•¸ë“¤</text>

  <rect x="390" y="186" width="170" height="30" rx="6" fill="#ede9fe" stroke="#c4b5fd" stroke-width="1"/>
  <text x="475" y="206" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" font-weight="bold" fill="#5b21b6">íŠ¸ëœì­ì…˜ ì „ë‹¬ ì•ˆ í•¨</text>

  <text x="475" y="250" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">íƒë°° ê¸°ì‚¬ë“¤ì„ ê´€ë¦¬</text>

</svg>
</div><blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: ì¼ë°˜ ì‹œí€€ì„œëŠ” <strong>íƒë°° ê¸°ì‚¬</strong>ì…ë‹ˆë‹¤ â€” ë¬¼ê±´(íŠ¸ëœì­ì…˜)ì„ ì§ì ‘ ë°°ë‹¬í•©ë‹ˆë‹¤. ê°€ìƒ ì‹œí€€ì„œëŠ” <strong>ë°°ì°¨ ë‹´ë‹¹ì</strong>ì…ë‹ˆë‹¤ â€” ë¬¼ê±´ì„ ì§ì ‘ ë°°ë‹¬í•˜ì§€ ì•Šê³ , ì–´ëŠ íƒë°° ê¸°ì‚¬ì—ê²Œ ë³´ë‚¼ì§€ ê²°ì •í•˜ëŠ” ì—­í• ì…ë‹ˆë‹¤.</p>
</blockquote>
<p><strong>í•µì‹¬ ì°¨ì´</strong>: ì¼ë°˜ ì‹œí€€ì„œëŠ” ë“œë¼ì´ë²„ì™€ ì—°ê²°ë˜ì–´ íŠ¸ëœì­ì…˜ì„ ì „ë‹¬í•©ë‹ˆë‹¤. ê°€ìƒ ì‹œí€€ì„œëŠ” ë“œë¼ì´ë²„ì™€ ì—°ê²°ë˜ì§€ ì•Šê³ , <strong>ë‹¤ë¥¸ ì‹œí€€ì„œë“¤ì˜ í•¸ë“¤ë§Œ</strong> ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="13-2-2-ê°€ìƒ-ì‹œí€€ì„œ-êµ¬í˜„">13.2.2 ê°€ìƒ ì‹œí€€ì„œ êµ¬í˜„</h3>
<p>Ch.11~12ì˜ APB í™˜ê²½ì„ í™•ì¥í•˜ì—¬, APB ì—ì´ì „íŠ¸ì™€ GPIO ì—ì´ì „íŠ¸ë¥¼ ë™ì‹œì— ì œì–´í•˜ëŠ” ê°€ìƒ ì‹œí€€ì„œë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤. ë¨¼ì € ê°„ë‹¨í•œ GPIO ì—ì´ì „íŠ¸ë¥¼ ê°€ì •í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ê°„ë‹¨í•œ GPIO ì‹œí€€ìŠ¤ ì•„ì´í…œ (ê°€ìƒ ì‹œí€€ìŠ¤ ë°ëª¨ìš©)</span>
<span class="hljs-keyword">class</span> gpio_seq_item <span class="hljs-keyword">extends</span> uvm_sequence_item;
  `uvm_object_utils(gpio_seq_item)

  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">bit</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] gpio_data;
  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">bit</span>        gpio_dir;   <span class="hljs-comment">// 0: input, 1: output</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;gpio_seq_item&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">string</span> convert2string();
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;dir=%0b data=0x%02h&quot;</span>, gpio_dir, gpio_data);
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// GPIO ì‹œí€€ì„œ â€” ì¼ë°˜ ì‹œí€€ì„œ</span>
<span class="hljs-keyword">typedef</span> uvm_sequencer<span class="hljs-variable">#(gpio_seq_item)</span> gpio_sequencer;
</code></pre><p>ì´ì œ ê°€ìƒ ì‹œí€€ì„œë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ê°€ìƒ ì‹œí€€ì„œ: ì—¬ëŸ¬ ì‹œí€€ì„œì˜ í•¸ë“¤ì„ ëª¨ì•„ë‘ëŠ” ì¤‘ì•™ í—ˆë¸Œ</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_virtual_sequencer <span class="hljs-keyword">extends</span> uvm_sequencer;
  `uvm_component_utils(apb_virtual_sequencer)

  <span class="hljs-comment">// ---- ì‹¤ì œ ì‹œí€€ì„œ í•¸ë“¤ ----</span>
  uvm_sequencer<span class="hljs-variable">#(apb_seq_item)  apb_sqr;    // APB ì‹œí€€ì„œ (Ch.11)</span>
  gpio_sequencer               gpio_sqr;    <span class="hljs-comment">// GPIO ì‹œí€€ì„œ</span>

  <span class="hljs-comment">// ---- ì„ íƒì‚¬í•­: RAL ëª¨ë¸ í•¸ë“¤ (Ch.12 ì—°ë™) ----</span>
  apb_reg_block                reg_model;   <span class="hljs-comment">// RAL ëª¨ë¸</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// ê°€ìƒ ì‹œí€€ì„œëŠ” build_phase/connect_phaseê°€ í•„ìš” ì—†ìŠµë‹ˆë‹¤.</span>
  <span class="hljs-comment">// í•¸ë“¤ì€ ìƒìœ„ í™˜ê²½(env)ì—ì„œ í• ë‹¹í•©ë‹ˆë‹¤.</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ì£¼ì˜í•  ì :</strong></p>
<ul>
<li>ê°€ìƒ ì‹œí€€ì„œëŠ” <code>uvm_sequencer</code>ë¥¼ <strong>íŒŒë¼ë¯¸í„° ì—†ì´</strong> ìƒì†í•©ë‹ˆë‹¤ â€” ì™œ? ì¼ë°˜ ì‹œí€€ì„œëŠ” <code>uvm_sequencer#(apb_seq_item)</code>ì²˜ëŸ¼ íŠ¸ëœì­ì…˜ íƒ€ì…ì„ ì§€ì •í•˜ì—¬ ë“œë¼ì´ë²„ì— íŠ¸ëœì­ì…˜ì„ ì „ë‹¬í•©ë‹ˆë‹¤. ê°€ìƒ ì‹œí€€ì„œëŠ” <strong>íŠ¸ëœì­ì…˜ì„ ì§ì ‘ ì „ë‹¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ</strong> íƒ€ì… íŒŒë¼ë¯¸í„°ê°€ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤. í•¸ë“¤ë§Œ ë³´ê´€í•˜ëŠ” &quot;í—ˆë¸Œ&quot; ì—­í• ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</li>
<li>ì‹¤ì œ ì‹œí€€ì„œì˜ <strong>í•¸ë“¤ë§Œ ì„ ì–¸</strong> â€” ìƒì„±(create)ì€ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</li>
<li>í•¸ë“¤ í• ë‹¹ì€ <strong>ìƒìœ„ í™˜ê²½ì˜ connect_phase</strong>ì—ì„œ ìˆ˜í–‰í•©ë‹ˆë‹¤</li>
</ul>
<h3 id="13-2-3-í™˜ê²½ì—-ê°€ìƒ-ì‹œí€€ì„œ-í†µí•©">13.2.3 í™˜ê²½ì— ê°€ìƒ ì‹œí€€ì„œ í†µí•©</h3>
<p>Ch.12ì˜ <code>apb_ral_env</code>ë¥¼ í™•ì¥í•˜ì—¬ ê°€ìƒ ì‹œí€€ì„œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// í™•ì¥ëœ í™˜ê²½: ê°€ìƒ ì‹œí€€ì„œ í¬í•¨</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_virtual_env <span class="hljs-keyword">extends</span> uvm_env;
  `uvm_component_utils(apb_virtual_env)

  <span class="hljs-comment">// ---- ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ (Ch.11~12) ----</span>
  apb_agent           apb_agt;        <span class="hljs-comment">// APB ì—ì´ì „íŠ¸</span>
  apb_reg_block       reg_model;      <span class="hljs-comment">// RAL ëª¨ë¸</span>
  apb_reg_adapter     adapter;        <span class="hljs-comment">// Adapter</span>
  uvm_reg_predictor<span class="hljs-variable">#(apb_seq_item)</span> predictor;  <span class="hljs-comment">// Predictor</span>

  <span class="hljs-comment">// ---- ìƒˆë¡œ ì¶”ê°€ ----</span>
  gpio_sequencer      gpio_sqr;       <span class="hljs-comment">// GPIO ì‹œí€€ì„œ (ê°„ëµí™”)</span>
  apb_virtual_sequencer  v_sqr;       <span class="hljs-comment">// ê°€ìƒ ì‹œí€€ì„œ</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// build_phase: ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ìƒì„±</span>
  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);

    <span class="hljs-comment">// ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ìƒì„±</span>
    apb_agt   = apb_agent::type_id::create(<span class="hljs-string">&quot;apb_agt&quot;</span>, <span class="hljs-keyword">this</span>);
    reg_model = apb_reg_block::type_id::create(<span class="hljs-string">&quot;reg_model&quot;</span>);
    reg_model<span class="hljs-variable">.build</span>();
    reg_model<span class="hljs-variable">.lock_model</span>();
    adapter   = apb_reg_adapter::type_id::create(<span class="hljs-string">&quot;adapter&quot;</span>);
    predictor = uvm_reg_predictor<span class="hljs-variable">#(apb_seq_item)::type_id::create(&quot;predictor&quot;, this)</span>;

    <span class="hljs-comment">// ìƒˆ ì»´í¬ë„ŒíŠ¸ ìƒì„±</span>
    gpio_sqr = gpio_sequencer::type_id::create(<span class="hljs-string">&quot;gpio_sqr&quot;</span>, <span class="hljs-keyword">this</span>);
    v_sqr    = apb_virtual_sequencer::type_id::create(<span class="hljs-string">&quot;v_sqr&quot;</span>, <span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// connect_phase: í•¸ë“¤ ì—°ê²° â€” ê°€ìƒ ì‹œí€€ì„œì˜ í•µì‹¬!</span>
  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> connect_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.connect_phase</span>(phase);

    <span class="hljs-comment">// ê¸°ì¡´ RAL ì—°ê²° (Ch.12)</span>
    reg_model<span class="hljs-variable">.reg_map</span><span class="hljs-variable">.set_sequencer</span>(apb_agt<span class="hljs-variable">.sqr</span>, adapter);
    reg_model<span class="hljs-variable">.reg_map</span><span class="hljs-variable">.set_auto_predict</span>(<span class="hljs-number">0</span>);
    predictor<span class="hljs-variable">.map</span>     = reg_model<span class="hljs-variable">.reg_map</span>;
    predictor<span class="hljs-variable">.adapter</span> = adapter;
    apb_agt<span class="hljs-variable">.mon</span><span class="hljs-variable">.ap</span><span class="hljs-variable">.connect</span>(predictor<span class="hljs-variable">.bus_in</span>);

    <span class="hljs-comment">// â˜… ê°€ìƒ ì‹œí€€ì„œì— ì‹¤ì œ ì‹œí€€ì„œ í•¸ë“¤ í• ë‹¹ â˜…</span>
    v_sqr<span class="hljs-variable">.apb_sqr</span>   = apb_agt<span class="hljs-variable">.sqr</span>;      <span class="hljs-comment">// APB ì‹œí€€ì„œ ì—°ê²°</span>
    v_sqr<span class="hljs-variable">.gpio_sqr</span>  = gpio_sqr;         <span class="hljs-comment">// GPIO ì‹œí€€ì„œ ì—°ê²°</span>
    v_sqr<span class="hljs-variable">.reg_model</span> = reg_model;         <span class="hljs-comment">// RAL ëª¨ë¸ ì „ë‹¬</span>
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>í•µì‹¬ 3ì¤„</strong> â€” ê°€ìƒ ì‹œí€€ì„œ ì—°ê²°:</p>
<pre><code class="hljs language-systemverilog">v_sqr<span class="hljs-variable">.apb_sqr</span>   = apb_agt<span class="hljs-variable">.sqr</span>;    <span class="hljs-comment">// APB ì‹œí€€ì„œ í•¸ë“¤</span>
v_sqr<span class="hljs-variable">.gpio_sqr</span>  = gpio_sqr;       <span class="hljs-comment">// GPIO ì‹œí€€ì„œ í•¸ë“¤</span>
v_sqr<span class="hljs-variable">.reg_model</span> = reg_model;       <span class="hljs-comment">// RAL ëª¨ë¸ í•¸ë“¤</span>
</code></pre><p>ì´ ì—°ê²°ì´ ì™„ë£Œë˜ë©´, ê°€ìƒ ì‹œí€€ìŠ¤ì—ì„œ <code>p_sequencer.apb_sqr</code>ë¡œ APB ì‹œí€€ì„œì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: ì˜¤ì¼€ìŠ¤íŠ¸ë¼ ì§€íœ˜ì(Virtual Sequencer)ê°€ ê³µì—°ì¥ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤. ë§¤ë‹ˆì €(í™˜ê²½ì˜ connect_phase)ê°€ &quot;ë°”ì´ì˜¬ë¦°ì€ ì €ìª½, ì²¼ë¡œëŠ” ì´ìª½&quot;í•˜ê³  ê° ì•…ê¸° ì—°ì£¼ìì˜ ìœ„ì¹˜(í•¸ë“¤)ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤.</p>
</blockquote>
<blockquote>
<p>âš ï¸ <strong>í”í•œ ì‹¤ìˆ˜</strong>: ê°€ìƒ ì‹œí€€ì„œì˜ í•¸ë“¤ì„ build_phaseì—ì„œ í• ë‹¹í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤. ì‹¤ì œ ì‹œí€€ì„œê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <strong>ë°˜ë“œì‹œ connect_phaseì—ì„œ</strong> í• ë‹¹í•˜ì„¸ìš”.</p>
</blockquote>
<hr>
<h2 id="13-3-ê°€ìƒ-ì‹œí€€ìŠ¤-virtual-sequence">13.3 ê°€ìƒ ì‹œí€€ìŠ¤ (Virtual Sequence)</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: ê°€ìƒ ì‹œí€€ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  p_sequencerë¥¼ í™œìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-3-1-ê°€ìƒ-ì‹œí€€ìŠ¤ë€-ì•…ë³´">13.3.1 ê°€ìƒ ì‹œí€€ìŠ¤ë€ â€” ì•…ë³´</h3>
<p>ê°€ìƒ ì‹œí€€ìŠ¤ëŠ” <strong>ê°€ìƒ ì‹œí€€ì„œ ìœ„ì—ì„œ ì‹¤í–‰</strong>ë˜ëŠ” ì‹œí€€ìŠ¤ì…ë‹ˆë‹¤. ì¼ë°˜ ì‹œí€€ìŠ¤ì™€ ë‹¬ë¦¬, íŠ¸ëœì­ì…˜ì„ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  <strong>í•˜ìœ„ ì‹œí€€ìŠ¤ë¥¼ ì—¬ëŸ¬ ì‹œí€€ì„œì— ë°°í¬</strong>í•©ë‹ˆë‹¤.</p>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 340" style="max-width:640px;width:100%;height:auto">
  <defs>
    <filter id="sh13f" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <marker id="arr13f" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b"/>
    </marker>
  </defs>

  <!-- Title -->
  <rect x="130" y="6" width="380" height="32" rx="16" fill="#1e293b"/>
  <text x="320" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">ì¼ë°˜ ì‹œí€€ìŠ¤ vs ê°€ìƒ ì‹œí€€ìŠ¤</text>

  <!-- Left column header -->
  <text x="150" y="60" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#1e40af">ì¼ë°˜ ì‹œí€€ìŠ¤ (Ch.6)</text>

  <!-- Left: Normal Sequence box -->
  <rect x="45" y="72" width="210" height="160" rx="12" fill="#eff6ff" stroke="#2563eb" stroke-width="2" filter="url(#sh13f)"/>
  <text x="150" y="96" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="13" font-weight="bold" fill="#1e40af">my_sequence</text>

  <text x="150" y="122" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#475569">body() {</text>
  <text x="150" y="140" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#475569">  start_item</text>
  <text x="150" y="158" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#475569">  finish_item</text>
  <text x="150" y="176" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#475569">}</text>

  <rect x="65" y="192" width="170" height="26" rx="6" fill="#dbeafe" stroke="#93c5fd" stroke-width="1"/>
  <text x="150" y="210" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" font-weight="bold" fill="#1e40af">â†“ íŠ¸ëœì­ì…˜ ì§ì ‘ ìƒì„±</text>

  <!-- Left arrow to sequencer -->
  <line x1="150" y1="232" x2="150" y2="268" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13f)"/>

  <rect x="85" y="272" width="130" height="36" rx="8" fill="#f1f5f9" stroke="#94a3b8" stroke-width="1.5"/>
  <text x="150" y="295" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" fill="#475569">sequencer</text>

  <!-- Divider -->
  <line x1="310" y1="52" x2="310" y2="310" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="6,4"/>
  <text x="320" y="324" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#94a3b8">vs</text>

  <!-- Right column header -->
  <text x="480" y="60" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="12" font-weight="bold" fill="#7c3aed">ê°€ìƒ ì‹œí€€ìŠ¤ (Ch.13)</text>

  <!-- Right: Virtual Sequence box -->
  <rect x="370" y="72" width="220" height="160" rx="12" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2" filter="url(#sh13f)"/>
  <text x="480" y="96" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="13" font-weight="bold" fill="#5b21b6">virtual_sequence</text>

  <text x="480" y="122" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">body() {</text>
  <text x="480" y="140" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">  apb_seq.start(</text>
  <text x="480" y="156" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">    p_sqr.apb_sqr);</text>
  <text x="480" y="172" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">  gpio_seq.start(</text>
  <text x="480" y="188" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">    p_sqr.gpio_sqr);</text>

  <rect x="385" y="200" width="190" height="26" rx="6" fill="#ede9fe" stroke="#c4b5fd" stroke-width="1"/>
  <text x="480" y="218" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" font-weight="bold" fill="#5b21b6">â†“ í•˜ìœ„ ì‹œí€€ìŠ¤ ë°°í¬</text>

  <!-- Right arrow to virtual sequencer -->
  <line x1="480" y1="232" x2="480" y2="268" stroke="#64748b" stroke-width="1.5" marker-end="url(#arr13f)"/>

  <rect x="395" y="272" width="170" height="36" rx="8" fill="#f5f3ff" stroke="#7c3aed" stroke-width="1.5"/>
  <text x="480" y="295" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" fill="#5b21b6">virtual_sequencer</text>

</svg>
</div><h3 id="13-3-2-ê°€ìƒ-ì‹œí€€ìŠ¤-êµ¬í˜„">13.3.2 ê°€ìƒ ì‹œí€€ìŠ¤ êµ¬í˜„</h3>
<p>ë¨¼ì € ê¸°ë³¸ APB ì‹œí€€ìŠ¤ë“¤ì„ ì¤€ë¹„í•©ë‹ˆë‹¤ (Ch.11ì—ì„œ ë§Œë“  ê²ƒ í™œìš©):</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// APB Write ì‹œí€€ìŠ¤ (Ch.11 ë³µìŠµ)</span>
<span class="hljs-keyword">class</span> apb_write_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_write_seq)

  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">bit</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] addr;
  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">bit</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] data;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_write_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_seq_item req;
    req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;req&quot;</span>);
    start_item(req);
    <span class="hljs-keyword">if</span> (!req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { paddr == addr; pwdata == data; pwrite == <span class="hljs-number">1</span>; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(req);
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;APB Write: addr=0x%0h data=0x%02h&quot;</span>, addr, data), UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// APB Read ì‹œí€€ìŠ¤ (Ch.11 ë³µìŠµ)</span>
<span class="hljs-keyword">class</span> apb_read_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_read_seq)

  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">bit</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] addr;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_read_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_seq_item req;
    req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;req&quot;</span>);
    start_item(req);
    <span class="hljs-keyword">if</span> (!req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { paddr == addr; pwrite == <span class="hljs-number">0</span>; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(req);
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;APB Read: addr=0x%0h&quot;</span>, addr), UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// GPIO ì¶œë ¥ ì‹œí€€ìŠ¤</span>
<span class="hljs-keyword">class</span> gpio_output_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(gpio_seq_item)</span>;
  `uvm_object_utils(gpio_output_seq)

  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">bit</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] out_data;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;gpio_output_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    gpio_seq_item req;
    req = gpio_seq_item::type_id::create(<span class="hljs-string">&quot;req&quot;</span>);
    start_item(req);
    <span class="hljs-keyword">if</span> (!req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { gpio_dir == <span class="hljs-number">1</span>; gpio_data == out_data; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(req);
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;GPIO Output: data=0x%02h&quot;</span>, out_data), UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p>ì´ì œ ê°€ìƒ ì‹œí€€ìŠ¤ë¥¼ ë§Œë“­ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ê°€ìƒ ì‹œí€€ìŠ¤: APB + GPIOë¥¼ ë™ì‹œì— ì œì–´</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_gpio_virtual_seq <span class="hljs-keyword">extends</span> uvm_sequence;
  `uvm_object_utils(apb_gpio_virtual_seq)
  `uvm_declare_p_sequencer(apb_virtual_sequencer)  <span class="hljs-comment">// â˜… í•µì‹¬!</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_gpio_virtual_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_write_seq   apb_wr;
    apb_read_seq    apb_rd;
    gpio_output_seq gpio_out;

    <span class="hljs-comment">// ì‹œí€€ìŠ¤ ìƒì„±</span>
    apb_wr   = apb_write_seq::type_id::create(<span class="hljs-string">&quot;apb_wr&quot;</span>);
    apb_rd   = apb_read_seq::type_id::create(<span class="hljs-string">&quot;apb_rd&quot;</span>);
    gpio_out = gpio_output_seq::type_id::create(<span class="hljs-string">&quot;gpio_out&quot;</span>);

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;=== ê°€ìƒ ì‹œí€€ìŠ¤ ì‹œì‘ ===&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// ---- ì‹œë‚˜ë¦¬ì˜¤ 1: ìˆœì°¨ ì‹¤í–‰ ----</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- 1ë‹¨ê³„: APB ë ˆì§€ìŠ¤í„° ì„¤ì • ---&quot;</span>, UVM_MEDIUM)
    apb_wr<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h0</span>;
    apb_wr<span class="hljs-variable">.data</span> = <span class="hljs-number">8&#x27;h85</span>;  <span class="hljs-comment">// ctrl_reg: enable=1, mode=00</span>
    apb_wr<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.apb_sqr</span>);  <span class="hljs-comment">// â˜… APB ì‹œí€€ì„œì— ë°°í¬</span>

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- 2ë‹¨ê³„: GPIO ì¶œë ¥ ---&quot;</span>, UVM_MEDIUM)
    gpio_out<span class="hljs-variable">.out_data</span> = <span class="hljs-number">8&#x27;hAA</span>;
    gpio_out<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.gpio_sqr</span>);  <span class="hljs-comment">// â˜… GPIO ì‹œí€€ì„œì— ë°°í¬</span>

    <span class="hljs-comment">// ---- ì‹œë‚˜ë¦¬ì˜¤ 2: ë³‘ë ¬ ì‹¤í–‰ ----</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- 3ë‹¨ê³„: APB + GPIO ë™ì‹œ ì‹¤í–‰ ---&quot;</span>, UVM_MEDIUM)
    <span class="hljs-keyword">fork</span>
      <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// APB: ë ˆì§€ìŠ¤í„° ì½ê¸°</span>
        apb_rd<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h0</span>;
        apb_rd<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.apb_sqr</span>);
      <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// GPIO: ë‹¤ë¥¸ ë°ì´í„° ì¶œë ¥</span>
        gpio_output_seq gpio_out2;
        gpio_out2 = gpio_output_seq::type_id::create(<span class="hljs-string">&quot;gpio_out2&quot;</span>);
        gpio_out2<span class="hljs-variable">.out_data</span> = <span class="hljs-number">8&#x27;h55</span>;
        gpio_out2<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.gpio_sqr</span>);
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">join</span>

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;=== ê°€ìƒ ì‹œí€€ìŠ¤ ì™„ë£Œ ===&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ì½”ë“œ í•´ë¶€:</strong></p>
<table>
<thead>
<tr>
<th>ìš”ì†Œ</th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody><tr>
<td><code>uvm_declare_p_sequencer</code></td>
<td>ê°€ìƒ ì‹œí€€ì„œ íƒ€ì…ì„ <code>p_sequencer</code>ë¡œ ìºìŠ¤íŒ…</td>
</tr>
<tr>
<td><code>p_sequencer.apb_sqr</code></td>
<td>ê°€ìƒ ì‹œí€€ì„œë¥¼ í†µí•´ APB ì‹œí€€ì„œì— ì ‘ê·¼</td>
</tr>
<tr>
<td><code>sub_seq.start(target_sqr)</code></td>
<td>í•˜ìœ„ ì‹œí€€ìŠ¤ë¥¼ íŠ¹ì • ì‹œí€€ì„œì—ì„œ ì‹¤í–‰</td>
</tr>
<tr>
<td><code>fork...join</code></td>
<td>ì—¬ëŸ¬ ì‹œí€€ìŠ¤ë¥¼ <strong>ë³‘ë ¬ ì‹¤í–‰</strong></td>
</tr>
</tbody></table>
<p><strong>fork ë³€í˜• â€” ì‹¤ë¬´ì—ì„œ ìì£¼ ì“°ëŠ” 3ê°€ì§€:</strong></p>
<table>
<thead>
<tr>
<th>êµ¬ë¬¸</th>
<th>ë™ì‘</th>
<th>ì‹¤ë¬´ ìš©ë„</th>
</tr>
</thead>
<tbody><tr>
<td><code>fork...join</code></td>
<td>ëª¨ë“  ë¸”ë¡ì´ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°</td>
<td>ë™ì‹œ íŠ¸ë˜í”½ ìƒì„± (ê°€ì¥ ì¼ë°˜ì )</td>
</tr>
<tr>
<td><code>fork...join_any</code></td>
<td>í•˜ë‚˜ë¼ë„ ëë‚˜ë©´ ê³„ì† ì§„í–‰</td>
<td>íƒ€ì„ì•„ì›ƒ íŒ¨í„´ (ì‹œí€€ìŠ¤ + ì›Œì¹˜ë…)</td>
</tr>
<tr>
<td><code>fork...join_none</code></td>
<td>ëŒ€ê¸° ì—†ì´ ì¦‰ì‹œ ë‹¤ìŒ ì§„í–‰</td>
<td>ë°±ê·¸ë¼ìš´ë“œ ëª¨ë‹ˆí„°ë§, ë¹„ë™ê¸° ì´ë²¤íŠ¸</td>
</tr>
</tbody></table>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// fork...join_any ì˜ˆ: íƒ€ì„ì•„ì›ƒ íŒ¨í„´</span>
<span class="hljs-keyword">fork</span>
  <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// ì •ìƒ ì‹œí€€ìŠ¤</span>
    apb_wr<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.apb_sqr</span>);
  <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// ì›Œì¹˜ë… íƒ€ì´ë¨¸</span>
    #<span class="hljs-number">10000</span>;
    `uvm_error(<span class="hljs-string">&quot;TIMEOUT&quot;</span>, <span class="hljs-string">&quot;APB ì‹œí€€ìŠ¤ íƒ€ì„ì•„ì›ƒ!&quot;</span>)
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">join_any</span>
<span class="hljs-keyword">disable</span> <span class="hljs-keyword">fork</span>;  <span class="hljs-comment">// ë‚¨ì€ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬</span>

<span class="hljs-comment">// fork...join_none ì˜ˆ: ë°±ê·¸ë¼ìš´ë“œ GPIO í† ê¸€</span>
<span class="hljs-keyword">fork</span>
  <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// ë°±ê·¸ë¼ìš´ë“œì—ì„œ GPIO ê³„ì† í† ê¸€</span>
    <span class="hljs-keyword">forever</span> <span class="hljs-keyword">begin</span>
      gpio_out<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.gpio_sqr</span>);
      #<span class="hljs-number">100</span>;
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">join_none</span>
<span class="hljs-comment">// APB ì‹œí€€ìŠ¤ëŠ” ë…ë¦½ì ìœ¼ë¡œ ê³„ì† ì§„í–‰</span>
apb_wr<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.apb_sqr</span>);
</code></pre><blockquote>
<p>âš ï¸ <strong>ì£¼ì˜</strong>: <code>fork...join_any</code> ì‚¬ìš© í›„ì—ëŠ” <code>disable fork</code>ë¡œ ë‚¨ì€ í”„ë¡œì„¸ìŠ¤ë¥¼ ì •ë¦¬í•˜ì„¸ìš”. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ê°€ ì‹œë®¬ë ˆì´ì…˜ ëê¹Œì§€ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-3-3-p-sequencerë¡œ-ì‹œí€€ì„œ-ì ‘ê·¼">13.3.3 p_sequencerë¡œ ì‹œí€€ì„œ ì ‘ê·¼</h3>
<p><code>p_sequencer</code>ëŠ” UVM ì‹œí€€ìŠ¤ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê³ ê¸‰ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ê¸°ë³¸ ê°œë…ì„ ì •ë¦¬í•©ë‹ˆë‹¤.</p>
<p><strong>m_sequencer vs p_sequencer:</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// m_sequencer â€” ëª¨ë“  ì‹œí€€ìŠ¤ì— ê¸°ë³¸ ì œê³µ (uvm_sequencer_base íƒ€ì…)</span>
<span class="hljs-keyword">class</span> uvm_sequence <span class="hljs-keyword">extends</span> uvm_sequence_base;
  <span class="hljs-keyword">protected</span> uvm_sequencer_base m_sequencer;  <span class="hljs-comment">// ê¸°ë³¸ í•¸ë“¤</span>
  <span class="hljs-comment">// m_sequencerë¡œëŠ” ì»¤ìŠ¤í…€ í•„ë“œì— ì ‘ê·¼ ë¶ˆê°€!</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// p_sequencer â€” uvm_declare_p_sequencerë¡œ ì„ ì–¸ (ìºìŠ¤íŒ…ëœ íƒ€ì…)</span>
`uvm_declare_p_sequencer(apb_virtual_sequencer)
<span class="hljs-comment">// ë‚´ë¶€ì ìœ¼ë¡œ:</span>
<span class="hljs-comment">// apb_virtual_sequencer p_sequencer;</span>
<span class="hljs-comment">// p_sequencer = $cast(m_sequencer);  (ìë™ ìºìŠ¤íŒ…)</span>
</code></pre><table>
<thead>
<tr>
<th>ë¹„êµ</th>
<th>m_sequencer</th>
<th>p_sequencer</th>
</tr>
</thead>
<tbody><tr>
<td>íƒ€ì…</td>
<td><code>uvm_sequencer_base</code></td>
<td>ì‚¬ìš©ì ì§€ì • (ì˜ˆ: <code>apb_virtual_sequencer</code>)</td>
</tr>
<tr>
<td>ê¸°ë³¸ ì œê³µ</td>
<td>âœ… í•­ìƒ ìˆìŒ</td>
<td>âŒ ì„ ì–¸ í•„ìš”</td>
</tr>
<tr>
<td>ì»¤ìŠ¤í…€ í•„ë“œ ì ‘ê·¼</td>
<td>âŒ ë¶ˆê°€</td>
<td>âœ… ê°€ëŠ¥ (<code>.apb_sqr</code>, <code>.reg_model</code> ë“±)</td>
</tr>
<tr>
<td>ì‚¬ìš© ì‹œì </td>
<td>ì¼ë°˜ ì‹œí€€ìŠ¤</td>
<td>ê°€ìƒ ì‹œí€€ìŠ¤, í™˜ê²½ ìì› ì ‘ê·¼ ì‹œ</td>
</tr>
</tbody></table>
<blockquote>
<p>âš ï¸ <strong>p_sequencerì˜ ì¥ë‹¨ì </strong>:</p>
<ul>
<li><strong>ì¥ì </strong>: ì‹œí€€ìŠ¤ì—ì„œ í™˜ê²½ì˜ ì‹œí€€ì„œ, RAL ëª¨ë¸ ë“±ì— ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥</li>
<li><strong>ë‹¨ì </strong>: ì‹œí€€ìŠ¤ê°€ íŠ¹ì • ì‹œí€€ì„œ íƒ€ì…ì— <strong>ì˜ì¡´</strong> â€” ì¬ì‚¬ìš©ì„± ê°ì†Œ</li>
<li><strong>ëŒ€ì•ˆ</strong>: <code>uvm_config_db</code>ë¡œ í•¸ë“¤ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•ë„ ìˆìŒ (13.5.2ì—ì„œ ì„¤ëª…)</li>
</ul>
</blockquote>
<h3 id="13-3-4-ì²«-ê°€ìƒ-ì‹œí€€ìŠ¤-ì‹œë®¬ë ˆì´ì…˜">13.3.4 ì²« ê°€ìƒ ì‹œí€€ìŠ¤ ì‹œë®¬ë ˆì´ì…˜</h3>
<p>í…ŒìŠ¤íŠ¸ì—ì„œ ê°€ìƒ ì‹œí€€ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ê°€ìƒ ì‹œí€€ìŠ¤ í…ŒìŠ¤íŠ¸</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_gpio_virtual_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(apb_gpio_virtual_test)

  apb_virtual_env env;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);
    env = apb_virtual_env::type_id::create(<span class="hljs-string">&quot;env&quot;</span>, <span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    apb_gpio_virtual_seq vseq;
    vseq = apb_gpio_virtual_seq::type_id::create(<span class="hljs-string">&quot;vseq&quot;</span>);

    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);
    vseq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.v_sqr</span>);  <span class="hljs-comment">// â˜… ê°€ìƒ ì‹œí€€ì„œì—ì„œ ì‹œì‘!</span>
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ (ì˜ˆìƒ):</strong></p>
<pre><code>UVM_INFO @ 0: uvm_test_top [apb_gpio_virtual_seq] === ê°€ìƒ ì‹œí€€ìŠ¤ ì‹œì‘ ===
UVM_INFO @ 10: uvm_test_top [apb_gpio_virtual_seq] --- 1ë‹¨ê³„: APB ë ˆì§€ìŠ¤í„° ì„¤ì • ---
UVM_INFO @ 30: uvm_test_top.env.apb_agt [apb_write_seq] APB Write: addr=0x0 data=0x85
UVM_INFO @ 30: uvm_test_top [apb_gpio_virtual_seq] --- 2ë‹¨ê³„: GPIO ì¶œë ¥ ---
UVM_INFO @ 40: uvm_test_top [gpio_output_seq] GPIO Output: data=0xaa
UVM_INFO @ 40: uvm_test_top [apb_gpio_virtual_seq] --- 3ë‹¨ê³„: APB + GPIO ë™ì‹œ ì‹¤í–‰ ---
UVM_INFO @ 60: uvm_test_top.env.apb_agt [apb_read_seq] APB Read: addr=0x0
UVM_INFO @ 50: uvm_test_top [gpio_output_seq] GPIO Output: data=0x55
UVM_INFO @ 60: uvm_test_top [apb_gpio_virtual_seq] === ê°€ìƒ ì‹œí€€ìŠ¤ ì™„ë£Œ ===
</code></pre><p><strong>ì£¼ëª©</strong>: 3ë‹¨ê³„ì—ì„œ APB Read(@60)ì™€ GPIO Output(@50)ì´ <strong>ë™ì‹œì— ì‹¤í–‰</strong>ë©ë‹ˆë‹¤. <code>fork...join</code>ìœ¼ë¡œ ë³‘ë ¬ ì‹¤í–‰ì´ ê°€ëŠ¥í•´ì¡ŒìŠµë‹ˆë‹¤.</p>
<blockquote>
<p>ğŸ”§ <strong>íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</strong>: ê°€ìƒ ì‹œí€€ìŠ¤ ì‹¤í–‰ ì‹œ ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜:</p>
</blockquote>
<table>
<thead>
<tr>
<th>ì˜¤ë¥˜</th>
<th>ì›ì¸</th>
<th>í•´ê²°</th>
</tr>
</thead>
<tbody><tr>
<td><code>p_sequencer is null</code></td>
<td><code>uvm_declare_p_sequencer</code> ëˆ„ë½</td>
<td>ë§¤í¬ë¡œ ì¶”ê°€ í™•ì¸</td>
</tr>
<tr>
<td><code>Null object access on sqr</code></td>
<td>connect_phaseì—ì„œ í•¸ë“¤ ë¯¸í• ë‹¹</td>
<td><code>v_sqr.apb_sqr = ...</code> í™•ì¸</td>
</tr>
<tr>
<td><code>Sequence not compatible</code></td>
<td>ì‹œí€€ìŠ¤-ì‹œí€€ì„œ íƒ€ì… ë¶ˆì¼ì¹˜</td>
<td><code>start()</code> ì¸ìì˜ ì‹œí€€ì„œ íƒ€ì… í™•ì¸</td>
</tr>
</tbody></table>
<hr>
<h2 id="13-4-ì‹œí€€ìŠ¤-ë¼ì´ë¸ŒëŸ¬ë¦¬-sequence-library">13.4 ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Sequence Library)</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë‹¤ì–‘í•œ ì‹œí€€ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-4-1-ì™œ-ì‹œí€€ìŠ¤-ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€-í•„ìš”í•œê°€">13.4.1 ì™œ ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•œê°€</h3>
<p>í”„ë¡œì íŠ¸ê°€ ì»¤ì§€ë©´ ì‹œí€€ìŠ¤ë„ ë§ì•„ì§‘ë‹ˆë‹¤:</p>
<pre><code>í”„ë¡œì íŠ¸ ì‹œí€€ìŠ¤ ëª©ë¡ (ì˜ˆì‹œ)

apb_write_seq         â€” APB ì“°ê¸°
apb_read_seq          â€” APB ì½ê¸°
apb_write_read_seq    â€” ì“°ê¸° í›„ ì½ê¸° ê²€ì¦
apb_burst_seq         â€” ì—°ì† ì“°ê¸°
apb_random_seq        â€” ëœë¤ íŠ¸ë˜í”½
apb_error_seq         â€” ì—ëŸ¬ ì‹œë‚˜ë¦¬ì˜¤
apb_reset_seq         â€” ë¦¬ì…‹ ì‹œí€€ìŠ¤
...
</code></pre><p>í…ŒìŠ¤íŠ¸ë§ˆë‹¤ &quot;ì´ë²ˆì—ëŠ” ì–´ë–¤ ì‹œí€€ìŠ¤ë¥¼ ì“¸ê¹Œ?&quot;ë¥¼ ê²°ì •í•˜ê³  ì½”ë“œì— í•˜ë“œì½”ë”©í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤. <strong>ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬</strong>ëŠ” ì‹œí€€ìŠ¤ë¥¼ ë“±ë¡í•´ë‘ê³ , ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ì„ íƒÂ·ì‹¤í–‰í•˜ëŠ” ì»¨í…Œì´ë„ˆì…ë‹ˆë‹¤.</p>
<blockquote>
<p>ğŸ’¡ <strong>ë¹„ìœ </strong>: ìŒì•… ì•±ì˜ <strong>í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</strong>ë¥¼ ìƒê°í•´ë³´ì„¸ìš”. ë…¸ë˜(ì‹œí€€ìŠ¤)ë¥¼ ë“±ë¡í•˜ê³ , &quot;ìˆœì„œëŒ€ë¡œ ì¬ìƒ&quot;, &quot;ëœë¤ ì¬ìƒ&quot;, &quot;í•œ ê³¡ ë°˜ë³µ&quot; ê°™ì€ ëª¨ë“œë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-4-2-uvm-sequence-library-êµ¬í˜„">13.4.2 uvm_sequence_library êµ¬í˜„</h3>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// APB ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_seq_library <span class="hljs-keyword">extends</span> uvm_sequence_library<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_seq_library)
  `uvm_sequence_library_utils(apb_seq_library)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_seq_library&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);

    <span class="hljs-comment">// ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ˆê¸°í™” â€” ë°˜ë“œì‹œ í˜¸ì¶œ!</span>
    init_sequence_library();
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p>ì‹œí€€ìŠ¤ë¥¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë“±ë¡í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ë“±ë¡í•  ì‹œí€€ìŠ¤ 1: APB ì“°ê¸°</span>
<span class="hljs-keyword">class</span> apb_write_lib_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_write_lib_seq)
  `uvm_add_to_seq_lib(apb_write_lib_seq, apb_seq_library)  <span class="hljs-comment">// â˜… ë“±ë¡!</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_write_lib_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_seq_item req;
    req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;req&quot;</span>);
    start_item(req);
    <span class="hljs-keyword">if</span> (!req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { pwrite == <span class="hljs-number">1</span>; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(req);
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;LIB Write: addr=0x%0h data=0x%02h&quot;</span>,
              req<span class="hljs-variable">.paddr</span>, req<span class="hljs-variable">.pwdata</span>), UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// ë“±ë¡í•  ì‹œí€€ìŠ¤ 2: APB ì½ê¸°</span>
<span class="hljs-keyword">class</span> apb_read_lib_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_read_lib_seq)
  `uvm_add_to_seq_lib(apb_read_lib_seq, apb_seq_library)  <span class="hljs-comment">// â˜… ë“±ë¡!</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_read_lib_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_seq_item req;
    req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;req&quot;</span>);
    start_item(req);
    <span class="hljs-keyword">if</span> (!req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { pwrite == <span class="hljs-number">0</span>; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(req);
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;LIB Read: addr=0x%0h&quot;</span>, req<span class="hljs-variable">.paddr</span>), UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// ë“±ë¡í•  ì‹œí€€ìŠ¤ 3: ì“°ê¸° í›„ ì½ê¸° ê²€ì¦</span>
<span class="hljs-keyword">class</span> apb_write_read_lib_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_write_read_lib_seq)
  `uvm_add_to_seq_lib(apb_write_read_lib_seq, apb_seq_library)  <span class="hljs-comment">// â˜… ë“±ë¡!</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_write_read_lib_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_seq_item wr_req, rd_req;
    <span class="hljs-keyword">bit</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] target_addr;
    <span class="hljs-keyword">bit</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] target_data;

    <span class="hljs-comment">// ì£¼ì†Œì™€ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê²°ì •</span>
    target_addr = $urandom_range(<span class="hljs-number">0</span>, <span class="hljs-number">15</span>);
    target_data = $urandom_range(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>);

    <span class="hljs-comment">// ì“°ê¸°</span>
    wr_req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;wr_req&quot;</span>);
    start_item(wr_req);
    <span class="hljs-keyword">if</span> (!wr_req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { paddr == target_addr; pwdata == target_data; pwrite == <span class="hljs-number">1</span>; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(wr_req);

    <span class="hljs-comment">// ì½ê¸°</span>
    rd_req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;rd_req&quot;</span>);
    start_item(rd_req);
    <span class="hljs-keyword">if</span> (!rd_req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { paddr == target_addr; pwrite == <span class="hljs-number">0</span>; })
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
    finish_item(rd_req);

    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;LIB WriteRead: addr=0x%0h write=0x%02h&quot;</span>,
              target_addr, target_data), UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><h3 id="13-4-3-ì‹œí€€ìŠ¤-ì„ íƒ-ëª¨ë“œ">13.4.3 ì‹œí€€ìŠ¤ ì„ íƒ ëª¨ë“œ</h3>
<p>ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ í•µì‹¬ì€ <strong>ì„ íƒ ëª¨ë“œ</strong>ì…ë‹ˆë‹¤. 4ê°€ì§€ ëª¨ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤:</p>
<table>
<thead>
<tr>
<th>ëª¨ë“œ</th>
<th>ìƒìˆ˜</th>
<th>ë™ì‘</th>
<th>ë¹„ìœ </th>
</tr>
</thead>
<tbody><tr>
<td>ëª¨ë“œ</td>
<td>ìƒìˆ˜</td>
<td>ë™ì‘</td>
<td>ë¹„ìœ </td>
</tr>
<tr>
<td>------</td>
<td>------</td>
<td>------</td>
<td>------</td>
</tr>
<tr>
<td><strong>Random</strong></td>
<td><code>UVM_SEQ_LIB_RAND</code></td>
<td>ë“±ë¡ëœ ì‹œí€€ìŠ¤ ì¤‘ ëœë¤ ì„ íƒ (ì¤‘ë³µ í—ˆìš©)</td>
<td>ì…”í”Œ ì¬ìƒ (ê°™ì€ ê³¡ ë°˜ë³µ ê°€ëŠ¥)</td>
</tr>
<tr>
<td><strong>Random Cycle</strong></td>
<td><code>UVM_SEQ_LIB_RANDC</code></td>
<td>ëª¨ë“  ì‹œí€€ìŠ¤ë¥¼ í•œ ë²ˆì”© ëœë¤ ìˆœì„œë¡œ ì‹¤í–‰</td>
<td>ì…”í”Œ ì¬ìƒ (ì¤‘ë³µ ì—†ìŒ)</td>
</tr>
<tr>
<td><strong>Item</strong></td>
<td><code>UVM_SEQ_LIB_ITEM</code></td>
<td>ì‹œí€€ìŠ¤ ì—†ì´ íŠ¸ëœì­ì…˜ì„ ì§ì ‘ ëœë¤ ìƒì„±</td>
<td>ì¦‰ì„ ì—°ì£¼</td>
</tr>
<tr>
<td><strong>User</strong></td>
<td><code>UVM_SEQ_LIB_USER</code></td>
<td>ì‚¬ìš©ì ì •ì˜ ì„ íƒ ë¡œì§</td>
<td>ìˆ˜ë™ ì¬ìƒ</td>
</tr>
</tbody></table>
<p><strong>ì‹¤ë¬´ ì¶”ì²œ â€” ì–¸ì œ ì–´ë–¤ ëª¨ë“œë¥¼ ì“¸ê¹Œ?</strong></p>
<table>
<thead>
<tr>
<th>ëª¨ë“œ</th>
<th>ì¶”ì²œ ìƒí™©</th>
<th>ì´ìœ </th>
</tr>
</thead>
<tbody><tr>
<td><code>RANDC</code></td>
<td><strong>ì»¤ë²„ë¦¬ì§€ ìˆ˜ì§‘</strong> (ê°€ì¥ ë§ì´ ì‚¬ìš©)</td>
<td>ëª¨ë“  ì‹œí€€ìŠ¤ê°€ í•œ ë²ˆì”© ì‹¤í–‰ë˜ì–´ ë¹ ì§ì—†ì´ ì»¤ë²„ë¦¬ì§€ ë‹¬ì„±</td>
</tr>
<tr>
<td><code>RAND</code></td>
<td><strong>ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸</strong></td>
<td>íŠ¹ì • ì‹œí€€ìŠ¤ê°€ ì§‘ì¤‘ì ìœ¼ë¡œ ë°˜ë³µë  ìˆ˜ ìˆì–´ ì½”ë„ˆ ì¼€ì´ìŠ¤ ë°œê²¬ì— ìœ ë¦¬</td>
</tr>
<tr>
<td><code>ITEM</code></td>
<td><strong>ì´ˆê¸° ê²€ì¦, ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸</strong></td>
<td>ì‹œí€€ìŠ¤ ë¡œì§ ì—†ì´ íŠ¸ëœì­ì…˜ë§Œ ë¹ ë¥´ê²Œ ìƒì„±í•˜ì—¬ ê¸°ë³¸ ë™ì‘ í™•ì¸</td>
</tr>
<tr>
<td><code>USER</code></td>
<td><strong>íŠ¹ìˆ˜ ì‹œë‚˜ë¦¬ì˜¤</strong> (ì—ëŸ¬ ì£¼ì… ìˆœì„œ ë“±)</td>
<td>ì •í™•í•œ ì‹¤í–‰ ìˆœì„œê°€ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©ì ë¡œì§ìœ¼ë¡œ ì œì–´</td>
</tr>
</tbody></table>
<p>í…ŒìŠ¤íŠ¸ì—ì„œ ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ í…ŒìŠ¤íŠ¸</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_seq_lib_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(apb_seq_lib_test)

  apb_virtual_env env;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);
    env = apb_virtual_env::type_id::create(<span class="hljs-string">&quot;env&quot;</span>, <span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    apb_seq_library seq_lib;
    seq_lib = apb_seq_library::type_id::create(<span class="hljs-string">&quot;seq_lib&quot;</span>);

    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    <span class="hljs-comment">// ---- ëª¨ë“œ ì„¤ì • ----</span>
    seq_lib<span class="hljs-variable">.selection_mode</span> = UVM_SEQ_LIB_RANDC;  <span class="hljs-comment">// ëª¨ë“  ì‹œí€€ìŠ¤ í•œ ë²ˆì”©</span>
    seq_lib<span class="hljs-variable">.min_random_count</span> = <span class="hljs-number">5</span>;   <span class="hljs-comment">// ìµœì†Œ 5íšŒ ì‹¤í–‰</span>
    seq_lib<span class="hljs-variable">.max_random_count</span> = <span class="hljs-number">10</span>;  <span class="hljs-comment">// ìµœëŒ€ 10íšŒ ì‹¤í–‰</span>

    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬: %0dê°œ ì‹œí€€ìŠ¤ ë“±ë¡ë¨&quot;</span>,
              seq_lib<span class="hljs-variable">.sequences</span><span class="hljs-variable">.size</span>()), UVM_LOW)

    <span class="hljs-comment">// ---- ì‹¤í–‰ ----</span>
    seq_lib<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.apb_agt</span><span class="hljs-variable">.sqr</span>);  <span class="hljs-comment">// APB ì‹œí€€ì„œì—ì„œ ì‹¤í–‰</span>

    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ (ì˜ˆìƒ, RANDC ëª¨ë“œ):</strong></p>
<pre><code>UVM_INFO @ 0: [apb_seq_lib_test] ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬: 3ê°œ ì‹œí€€ìŠ¤ ë“±ë¡ë¨
UVM_INFO @ 20: [apb_write_lib_seq] LIB Write: addr=0x3 data=0xa7
UVM_INFO @ 40: [apb_write_read_lib_seq] LIB WriteRead: addr=0xb write=0x42
UVM_INFO @ 80: [apb_read_lib_seq] LIB Read: addr=0x7
UVM_INFO @ 100: [apb_read_lib_seq] LIB Read: addr=0x2
UVM_INFO @ 120: [apb_write_lib_seq] LIB Write: addr=0xf data=0x19
... (5~10íšŒ ë°˜ë³µ)
</code></pre><p><strong>RANDC ëª¨ë“œ</strong>ì—ì„œëŠ” 3ê°œ ì‹œí€€ìŠ¤ê°€ ëª¨ë‘ í•œ ë²ˆì”© ì‹¤í–‰ëœ í›„, ë‹¤ì‹œ ëœë¤ ìˆœì„œë¡œ ë°˜ë³µë©ë‹ˆë‹¤. íŠ¹ì • ì‹œí€€ìŠ¤ê°€ ë¹ ì§€ëŠ” ì¼ì´ ì—†ìœ¼ë¯€ë¡œ <strong>ì»¤ë²„ë¦¬ì§€ ë‹¬ì„±ì— ìœ ë¦¬</strong>í•©ë‹ˆë‹¤.</p>
<blockquote>
<p>ğŸ”§ <strong>íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</strong>: ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê´€ë ¨ ì˜¤ë¥˜:</p>
</blockquote>
<table>
<thead>
<tr>
<th>ì˜¤ë¥˜</th>
<th>ì›ì¸</th>
<th>í•´ê²°</th>
</tr>
</thead>
<tbody><tr>
<td><code>No sequences registered</code></td>
<td><code>uvm_add_to_seq_lib</code> ëˆ„ë½</td>
<td>ê° ì‹œí€€ìŠ¤ì— ë§¤í¬ë¡œ ì¶”ê°€</td>
</tr>
<tr>
<td><code>init_sequence_library not called</code></td>
<td>ìƒì„±ìì—ì„œ ì´ˆê¸°í™” ëˆ„ë½</td>
<td><code>init_sequence_library()</code> í˜¸ì¶œ ì¶”ê°€</td>
</tr>
<tr>
<td><code>Type mismatch</code></td>
<td>ì‹œí€€ìŠ¤ì™€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ seq_item íƒ€ì… ë¶ˆì¼ì¹˜</td>
<td>ì œë„¤ë¦­ íŒŒë¼ë¯¸í„° í™•ì¸</td>
</tr>
</tbody></table>
<hr>
<h2 id="13-5-ê³ ê¸‰-ì‹œí€€ìŠ¤-íŒ¨í„´">13.5 ê³ ê¸‰ ì‹œí€€ìŠ¤ íŒ¨í„´</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: ì‹¤ë¬´ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ê³ ê¸‰ ì‹œí€€ìŠ¤ íŒ¨í„´ì„ í•™ìŠµí•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-5-1-ê³„ì¸µì -ì‹œí€€ìŠ¤-layered-sequences">13.5.1 ê³„ì¸µì  ì‹œí€€ìŠ¤ (Layered Sequences)</h3>
<p>Ch.6ì—ì„œ ë§ˆìŠ¤í„° ì‹œí€€ìŠ¤(ì—¬ëŸ¬ ì„œë¸Œ ì‹œí€€ìŠ¤ë¥¼ ìˆœì°¨ ì‹¤í–‰)ë¥¼ ë°°ì› ìŠµë‹ˆë‹¤. ê³„ì¸µì  ì‹œí€€ìŠ¤ëŠ” ì´ë¥¼ <strong>ê¸°ëŠ¥ ë‹¨ìœ„</strong>ë¡œ í™•ì¥í•©ë‹ˆë‹¤.</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ê³„ì¸µì  ì‹œí€€ìŠ¤: ê¸°ëŠ¥ë³„ ë¶„ë¦¬</span>
<span class="hljs-comment">// ============================================================</span>

<span class="hljs-comment">// 1ë‹¨ê³„: ë ˆì§€ìŠ¤í„° ì´ˆê¸°í™” ì‹œí€€ìŠ¤</span>
<span class="hljs-keyword">class</span> apb_init_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_init_seq)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_init_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_write_seq wr;

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- ë ˆì§€ìŠ¤í„° ì´ˆê¸°í™” ì‹œì‘ ---&quot;</span>, UVM_MEDIUM)

    <span class="hljs-comment">// ctrl_reg ì´ˆê¸°í™”: enable=1, mode=00</span>
    wr = apb_write_seq::type_id::create(<span class="hljs-string">&quot;wr&quot;</span>);
    wr<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h0</span>;
    wr<span class="hljs-variable">.data</span> = <span class="hljs-number">8&#x27;h80</span>;  <span class="hljs-comment">// enable=1</span>
    wr<span class="hljs-variable">.start</span>(m_sequencer);

    <span class="hljs-comment">// data_reg ì´ˆê¸°í™”: 0x00</span>
    wr = apb_write_seq::type_id::create(<span class="hljs-string">&quot;wr&quot;</span>);
    wr<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h2</span>;
    wr<span class="hljs-variable">.data</span> = <span class="hljs-number">8&#x27;h00</span>;
    wr<span class="hljs-variable">.start</span>(m_sequencer);

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- ë ˆì§€ìŠ¤í„° ì´ˆê¸°í™” ì™„ë£Œ ---&quot;</span>, UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// 2ë‹¨ê³„: ë°ì´í„° ì „ì†¡ ì‹œí€€ìŠ¤</span>
<span class="hljs-keyword">class</span> apb_data_xfer_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_data_xfer_seq)

  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">int</span> <span class="hljs-keyword">unsigned</span> num_transfers;

  <span class="hljs-keyword">constraint</span> c_transfers { num_transfers <span class="hljs-keyword">inside</span> {[<span class="hljs-number">3</span>:<span class="hljs-number">8</span>]}; }

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_data_xfer_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_write_seq wr;

    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;--- ë°ì´í„° ì „ì†¡: %0díšŒ ---&quot;</span>, num_transfers), UVM_MEDIUM)

    <span class="hljs-keyword">repeat</span>(num_transfers) <span class="hljs-keyword">begin</span>
      wr = apb_write_seq::type_id::create(<span class="hljs-string">&quot;wr&quot;</span>);
      wr<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h2</span>;  <span class="hljs-comment">// data_reg</span>
      <span class="hljs-comment">// dataëŠ” ëœë¤</span>
      wr<span class="hljs-variable">.start</span>(m_sequencer);
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// 3ë‹¨ê³„: ê²€ì¦ ì‹œí€€ìŠ¤</span>
<span class="hljs-keyword">class</span> apb_verify_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_verify_seq)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_verify_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_read_seq rd;

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- ë ˆì§€ìŠ¤í„° ê²€ì¦ ì‹œì‘ ---&quot;</span>, UVM_MEDIUM)

    <span class="hljs-comment">// status_reg ì½ê¸°</span>
    rd = apb_read_seq::type_id::create(<span class="hljs-string">&quot;rd&quot;</span>);
    rd<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h1</span>;
    rd<span class="hljs-variable">.start</span>(m_sequencer);

    <span class="hljs-comment">// ctrl_reg ì½ê¸° (ì„¤ì • í™•ì¸)</span>
    rd = apb_read_seq::type_id::create(<span class="hljs-string">&quot;rd&quot;</span>);
    rd<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h0</span>;
    rd<span class="hljs-variable">.start</span>(m_sequencer);

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;--- ë ˆì§€ìŠ¤í„° ê²€ì¦ ì™„ë£Œ ---&quot;</span>, UVM_MEDIUM)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ë§ˆìŠ¤í„° ì‹œí€€ìŠ¤: ê³„ì¸µì  ì¡°í•©</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_master_scenario_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_master_scenario_seq)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_master_scenario_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_init_seq       init;
    apb_data_xfer_seq  xfer;
    apb_verify_seq     verify;

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;=== ë§ˆìŠ¤í„° ì‹œë‚˜ë¦¬ì˜¤ ì‹œì‘ ===&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// 1ë‹¨ê³„: ì´ˆê¸°í™”</span>
    init = apb_init_seq::type_id::create(<span class="hljs-string">&quot;init&quot;</span>);
    init<span class="hljs-variable">.start</span>(m_sequencer);

    <span class="hljs-comment">// 2ë‹¨ê³„: ë°ì´í„° ì „ì†¡</span>
    xfer = apb_data_xfer_seq::type_id::create(<span class="hljs-string">&quot;xfer&quot;</span>);
    xfer<span class="hljs-variable">.start</span>(m_sequencer);

    <span class="hljs-comment">// 3ë‹¨ê³„: ê²€ì¦</span>
    verify = apb_verify_seq::type_id::create(<span class="hljs-string">&quot;verify&quot;</span>);
    verify<span class="hljs-variable">.start</span>(m_sequencer);

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;=== ë§ˆìŠ¤í„° ì‹œë‚˜ë¦¬ì˜¤ ì™„ë£Œ ===&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ê³„ì¸µì  ì‹œí€€ìŠ¤ì˜ ì¥ì :</strong></p>
<table>
<thead>
<tr>
<th>ì¥ì </th>
<th>ì„¤ëª…</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ì¬ì‚¬ìš©ì„±</strong></td>
<td><code>apb_init_seq</code>ì„ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥</td>
</tr>
<tr>
<td><strong>ìœ ì§€ë³´ìˆ˜</strong></td>
<td>ì´ˆê¸°í™” ë¡œì§ ë³€ê²½ ì‹œ <code>apb_init_seq</code>ë§Œ ìˆ˜ì •</td>
</tr>
<tr>
<td><strong>ê°€ë…ì„±</strong></td>
<td>ë§ˆìŠ¤í„° ì‹œí€€ìŠ¤ê°€ &quot;ì´ˆê¸°í™” â†’ ì „ì†¡ â†’ ê²€ì¦&quot; íë¦„ì„ ëª…í™•íˆ ë³´ì—¬ì¤Œ</td>
</tr>
<tr>
<td><strong>ì¡°í•©</strong></td>
<td>ì„œë¸Œ ì‹œí€€ìŠ¤ë¥¼ ììœ ë¡­ê²Œ ì¡°í•©í•˜ì—¬ ìƒˆ ì‹œë‚˜ë¦¬ì˜¤ ìƒì„±</td>
</tr>
</tbody></table>
<h3 id="13-5-2-ì‹œí€€ìŠ¤ì™€-config-db-ì—°ë™">13.5.2 ì‹œí€€ìŠ¤ì™€ config_db ì—°ë™</h3>
<p><code>p_sequencer</code> ëŒ€ì‹  <code>uvm_config_db</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œí€€ìŠ¤ì— ìì›ì„ ì „ë‹¬í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ì´ ë°©ë²•ì€ ì‹œí€€ìŠ¤ì˜ <strong>ì¬ì‚¬ìš©ì„±ì„ ë†’ì…ë‹ˆë‹¤.</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// config_dbë¥¼ ì‚¬ìš©í•œ ì‹œí€€ìŠ¤ ìì› ì ‘ê·¼</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_configurable_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_configurable_seq)

  <span class="hljs-comment">// ì™¸ë¶€ì—ì„œ ì„¤ì •í•  íŒŒë¼ë¯¸í„°</span>
  <span class="hljs-keyword">int</span> <span class="hljs-keyword">unsigned</span> repeat_count = <span class="hljs-number">5</span>;
  <span class="hljs-keyword">bit</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>]   target_addr   = <span class="hljs-number">4&#x27;h0</span>;

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_configurable_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_seq_item req;

    <span class="hljs-comment">// config_dbì—ì„œ ì„¤ì • ê°€ì ¸ì˜¤ê¸° (ì„ íƒì )</span>
    <span class="hljs-keyword">void</span>&#x27;(uvm_config_db<span class="hljs-variable">#(int)::get(null, get_full_name()</span>,
          <span class="hljs-string">&quot;repeat_count&quot;</span>, repeat_count));
    <span class="hljs-keyword">void</span>&#x27;(uvm_config_db<span class="hljs-variable">#(bit[3:0])::get(null, get_full_name()</span>,
          <span class="hljs-string">&quot;target_addr&quot;</span>, target_addr));

    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;Config: repeat=%0d, addr=0x%0h&quot;</span>,
              repeat_count, target_addr), UVM_MEDIUM)

    <span class="hljs-keyword">repeat</span>(repeat_count) <span class="hljs-keyword">begin</span>
      req = apb_seq_item::type_id::create(<span class="hljs-string">&quot;req&quot;</span>);
      start_item(req);
      <span class="hljs-keyword">if</span> (!req<span class="hljs-variable">.randomize</span>() <span class="hljs-keyword">with</span> { paddr == target_addr; pwrite == <span class="hljs-number">1</span>; })
        `uvm_error(get_type_name(), <span class="hljs-string">&quot;Randomization failed&quot;</span>)
      finish_item(req);
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p>í…ŒìŠ¤íŠ¸ì—ì„œ config_dbë¡œ ì„¤ì •:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// í…ŒìŠ¤íŠ¸ì—ì„œ ì‹œí€€ìŠ¤ íŒŒë¼ë¯¸í„° ì„¤ì •</span>
<span class="hljs-keyword">class</span> apb_config_test <span class="hljs-keyword">extends</span> uvm_test;
  <span class="hljs-comment">// ...</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    apb_configurable_seq seq;
    seq = apb_configurable_seq::type_id::create(<span class="hljs-string">&quot;seq&quot;</span>);

    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    <span class="hljs-comment">// config_dbë¡œ ì‹œí€€ìŠ¤ íŒŒë¼ë¯¸í„° ì„¤ì •</span>
    uvm_config_db<span class="hljs-variable">#(int)</span>::set(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;env.apb_agt.sqr.seq&quot;</span>,
                              <span class="hljs-string">&quot;repeat_count&quot;</span>, <span class="hljs-number">10</span>);
    uvm_config_db<span class="hljs-variable">#(bit[3:0])</span>::set(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;env.apb_agt.sqr.seq&quot;</span>,
                                   <span class="hljs-string">&quot;target_addr&quot;</span>, <span class="hljs-number">4&#x27;h5</span>);

    seq<span class="hljs-variable">.start</span>(env<span class="hljs-variable">.apb_agt</span><span class="hljs-variable">.sqr</span>);

    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>p_sequencer vs config_db ë¹„êµ:</strong></p>
<table>
<thead>
<tr>
<th>ë¹„êµ</th>
<th>p_sequencer</th>
<th>config_db</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ê²°í•©ë„</strong></td>
<td>ê°•í•¨ (íŠ¹ì • ì‹œí€€ì„œ íƒ€ì… ì˜ì¡´)</td>
<td>ì•½í•¨ (ë¬¸ìì—´ í‚¤ ê¸°ë°˜)</td>
</tr>
<tr>
<td><strong>ì„±ëŠ¥</strong></td>
<td>ë¹ ë¦„ (ì§ì ‘ ì ‘ê·¼)</td>
<td>ëŠë¦¼ (í•´ì‹œ í…Œì´ë¸” ê²€ìƒ‰)</td>
</tr>
<tr>
<td><strong>ë””ë²„ê¹…</strong></td>
<td>ì‰¬ì›€ (íƒ€ì… ì²´í¬)</td>
<td>ì–´ë ¤ì›€ (ëŸ°íƒ€ì„ ì˜¤ë¥˜)</td>
</tr>
<tr>
<td><strong>ì¬ì‚¬ìš©ì„±</strong></td>
<td>ë‚®ìŒ</td>
<td>ë†’ìŒ</td>
</tr>
<tr>
<td><strong>ì¶”ì²œ ìš©ë„</strong></td>
<td>ê°€ìƒ ì‹œí€€ìŠ¤</td>
<td>ì„¤ì • íŒŒë¼ë¯¸í„° ì „ë‹¬</td>
</tr>
</tbody></table>
<h3 id="13-5-3-ì‹œí€€ìŠ¤ì—ì„œ-ral-ì‚¬ìš©">13.5.3 ì‹œí€€ìŠ¤ì—ì„œ RAL ì‚¬ìš©</h3>
<p>Ch.12ì—ì„œ ë°°ìš´ RALì„ ê°€ìƒ ì‹œí€€ìŠ¤ì—ì„œ í™œìš©í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤. ë‘ ê°€ì§€ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.</p>
<p><strong>ë°©ë²• 1: p_sequencerë¥¼ í†µí•œ RAL ì ‘ê·¼ (ê°€ìƒ ì‹œí€€ìŠ¤)</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ê°€ìƒ ì‹œí€€ìŠ¤ì—ì„œ RAL ì‚¬ìš©</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_ral_virtual_seq <span class="hljs-keyword">extends</span> uvm_sequence;
  `uvm_object_utils(apb_ral_virtual_seq)
  `uvm_declare_p_sequencer(apb_virtual_sequencer)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_ral_virtual_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    uvm_status_e   status;
    uvm_reg_data_t value;
    apb_reg_block  model;

    <span class="hljs-comment">// p_sequencerë¥¼ í†µí•´ RAL ëª¨ë¸ ì ‘ê·¼</span>
    model = p_sequencer<span class="hljs-variable">.reg_model</span>;

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;=== RAL ê°€ìƒ ì‹œí€€ìŠ¤ ì‹œì‘ ===&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// RALë¡œ ë ˆì§€ìŠ¤í„° ì“°ê¸° (Frontdoor)</span>
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;h85</span>, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));
    <span class="hljs-keyword">if</span> (status != UVM_IS_OK)
      `uvm_error(get_type_name(), <span class="hljs-string">&quot;ctrl_reg write failed&quot;</span>)

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;ctrl_reg ì„¤ì • ì™„ë£Œ: enable=1, mode=00&quot;</span>, UVM_MEDIUM)

    <span class="hljs-comment">// RALë¡œ ë ˆì§€ìŠ¤í„° ì½ê¸°</span>
    model<span class="hljs-variable">.status_reg</span><span class="hljs-variable">.read</span>(status, value, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;status_reg = 0x%02h&quot;</span>, value), UVM_MEDIUM)

    <span class="hljs-comment">// í•„ë“œ ë ˆë²¨ ì ‘ê·¼</span>
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.enable</span><span class="hljs-variable">.set</span>(<span class="hljs-number">1&#x27;b0</span>);   <span class="hljs-comment">// desired ê°’ ë³€ê²½</span>
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.update</span>(status, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));  <span class="hljs-comment">// DUTì— ë°˜ì˜</span>

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;=== RAL ê°€ìƒ ì‹œí€€ìŠ¤ ì™„ë£Œ ===&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><p><strong>ë°©ë²• 2: uvm_reg_sequence ìƒì† (ì¼ë°˜ ì‹œí€€ìŠ¤)</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// uvm_reg_sequence ìƒì†ìœ¼ë¡œ RAL ì‚¬ìš©</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> apb_ral_check_seq <span class="hljs-keyword">extends</span> uvm_reg_sequence;
  `uvm_object_utils(apb_ral_check_seq)

  <span class="hljs-comment">// uvm_reg_sequenceëŠ” &#x27;model&#x27; í”„ë¡œí¼í‹°ë¥¼ ì œê³µ</span>
  <span class="hljs-comment">// â†’ í…ŒìŠ¤íŠ¸ì—ì„œ seq.model = reg_model; ë¡œ í• ë‹¹</span>

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;apb_ral_check_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    uvm_status_e   status;
    uvm_reg_data_t value;

    <span class="hljs-comment">// model í”„ë¡œí¼í‹°ë¡œ RAL ì ‘ê·¼ (p_sequencer ë¶ˆí•„ìš”!)</span>
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;hA0</span>, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.read</span>(status, value, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));

    <span class="hljs-keyword">if</span> (value != <span class="hljs-number">8&#x27;hA0</span>)
      `uvm_error(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;Mismatch: expected=0xA0, got=0x%02h&quot;</span>, value))
    <span class="hljs-keyword">else</span>
      `uvm_info(get_type_name(), <span class="hljs-string">&quot;ctrl_reg read-back ê²€ì¦ ì„±ê³µ!&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©:</span>
<span class="hljs-comment">// apb_ral_check_seq seq = apb_ral_check_seq::type_id::create(&quot;seq&quot;);</span>
<span class="hljs-comment">// seq.model = env.reg_model;  â† model í”„ë¡œí¼í‹°ì— í• ë‹¹</span>
<span class="hljs-comment">// seq.start(env.apb_agt.sqr);</span>
</code></pre><p><strong>ë‘ ë°©ë²• ë¹„êµ:</strong></p>
<table>
<thead>
<tr>
<th>ë¹„êµ</th>
<th>p_sequencer ë°©ì‹</th>
<th>uvm_reg_sequence ë°©ì‹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>RAL ì ‘ê·¼</strong></td>
<td><code>p_sequencer.reg_model</code></td>
<td><code>model</code> (ë‚´ì¥ í”„ë¡œí¼í‹°)</td>
</tr>
<tr>
<td><strong>ì‹œí€€ì„œ ì˜ì¡´</strong></td>
<td>ê°€ìƒ ì‹œí€€ì„œ íƒ€ì…ì— ì˜ì¡´</td>
<td>ì•„ë¬´ ì‹œí€€ì„œì—ì„œ ì‹¤í–‰ ê°€ëŠ¥</td>
</tr>
<tr>
<td><strong>ì‚¬ìš© ì‹œì </strong></td>
<td>ê°€ìƒ ì‹œí€€ìŠ¤ (ë‹¤ì¤‘ ì—ì´ì „íŠ¸)</td>
<td>ë‹¨ì¼ ì—ì´ì „íŠ¸ RAL ì‹œí€€ìŠ¤</td>
</tr>
<tr>
<td><strong>ì„¤ì • ë°©ë²•</strong></td>
<td>connect_phaseì—ì„œ ìë™</td>
<td>í…ŒìŠ¤íŠ¸ì—ì„œ <code>seq.model = ...</code> ìˆ˜ë™ í• ë‹¹</td>
</tr>
</tbody></table>
<hr>
<h2 id="13-6-ì‹¤ì „-í†µí•©-apb-ral-ê°€ìƒ-ì‹œí€€ìŠ¤">13.6 ì‹¤ì „ í†µí•©: APB + RAL ê°€ìƒ ì‹œí€€ìŠ¤</h2>
<blockquote>
<p><strong>ì´ ì ˆì˜ ëª©í‘œ</strong>: Ch.11~12ì—ì„œ ë§Œë“  í™˜ê²½ì„ ê°€ìƒ ì‹œí€€ìŠ¤ë¡œ í†µí•©í•˜ê³ , ì‹¤ë¬´ ì‹œí€€ìŠ¤ ì „ëµì„ í•™ìŠµí•©ë‹ˆë‹¤.</p>
</blockquote>
<h3 id="13-6-1-í†µí•©-í™˜ê²½-êµ¬ì„±">13.6.1 í†µí•© í™˜ê²½ êµ¬ì„±</h3>
<p>ì§€ê¸ˆê¹Œì§€ ë§Œë“  ê²ƒì„ í•˜ë‚˜ë¡œ ì¡°í•©í•©ë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ì‹¤ì „ í†µí•© ê°€ìƒ ì‹œí€€ìŠ¤: APB ì„¤ì • + RAL ê²€ì¦ + GPIO ì œì–´</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> full_system_virtual_seq <span class="hljs-keyword">extends</span> uvm_sequence;
  `uvm_object_utils(full_system_virtual_seq)
  `uvm_declare_p_sequencer(apb_virtual_sequencer)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;full_system_virtual_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_reg_block  model;
    uvm_status_e   status;
    uvm_reg_data_t value;

    <span class="hljs-comment">// ì„œë¸Œ ì‹œí€€ìŠ¤</span>
    apb_write_seq     apb_wr;
    gpio_output_seq   gpio_out;

    model = p_sequencer<span class="hljs-variable">.reg_model</span>;

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;========================================&quot;</span>, UVM_LOW)
    `uvm_info(get_type_name(), <span class="hljs-string">&quot; ì‹¤ì „ í†µí•© ì‹œë‚˜ë¦¬ì˜¤ ì‹œì‘&quot;</span>, UVM_LOW)
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;========================================&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// ---- Phase 1: RALë¡œ ë ˆì§€ìŠ¤í„° ì´ˆê¸°í™” ----</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;[Phase 1] RALë¡œ ë ˆì§€ìŠ¤í„° ì´ˆê¸°í™”&quot;</span>, UVM_MEDIUM)
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;h85</span>, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));   <span class="hljs-comment">// enable=1, mode=00</span>
    model<span class="hljs-variable">.data_reg</span><span class="hljs-variable">.write</span>(status, <span class="hljs-number">8&#x27;hFF</span>, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));   <span class="hljs-comment">// data=0xFF</span>

    <span class="hljs-comment">// ---- Phase 2: GPIO ë™ì‹œ ì œì–´ ----</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;[Phase 2] APB + GPIO ë™ì‹œ ë™ì‘&quot;</span>, UVM_MEDIUM)
    <span class="hljs-keyword">fork</span>
      <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// APB: ì¶”ê°€ ë ˆì§€ìŠ¤í„° ì“°ê¸°</span>
        apb_wr = apb_write_seq::type_id::create(<span class="hljs-string">&quot;apb_wr&quot;</span>);
        apb_wr<span class="hljs-variable">.addr</span> = <span class="hljs-number">4&#x27;h3</span>;
        apb_wr<span class="hljs-variable">.data</span> = <span class="hljs-number">8&#x27;hBE</span>;
        apb_wr<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.apb_sqr</span>);
      <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// GPIO: ì¶œë ¥ ì œì–´</span>
        gpio_out = gpio_output_seq::type_id::create(<span class="hljs-string">&quot;gpio_out&quot;</span>);
        gpio_out<span class="hljs-variable">.out_data</span> = <span class="hljs-number">8&#x27;hAA</span>;
        gpio_out<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.gpio_sqr</span>);
      <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">join</span>

    <span class="hljs-comment">// ---- Phase 3: RALë¡œ ê²€ì¦ ----</span>
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;[Phase 3] RALë¡œ ë ˆì§€ìŠ¤í„° ê²€ì¦&quot;</span>, UVM_MEDIUM)
    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.read</span>(status, value, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));
    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;ctrl_reg = 0x%02h (expected: 0x85)&quot;</span>, value), UVM_LOW)

    model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.mirror</span>(status, UVM_CHECK, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;ctrl_reg mirror ê²€ì¦ ì™„ë£Œ&quot;</span>, UVM_MEDIUM)

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;========================================&quot;</span>, UVM_LOW)
    `uvm_info(get_type_name(), <span class="hljs-string">&quot; ì‹¤ì „ í†µí•© ì‹œë‚˜ë¦¬ì˜¤ ì™„ë£Œ&quot;</span>, UVM_LOW)
    `uvm_info(get_type_name(), <span class="hljs-string">&quot;========================================&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><h3 id="13-6-2-apb-ral-ì¡°í•©-ì‹œë‚˜ë¦¬ì˜¤">13.6.2 APB + RAL ì¡°í•© ì‹œë‚˜ë¦¬ì˜¤</h3>
<p>ê°€ìƒ ì‹œí€€ìŠ¤ì˜ ì§„ì •í•œ ê°€ì¹˜ëŠ” <strong>ì‹œë‚˜ë¦¬ì˜¤ ì¡°í•©</strong>ì— ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// ============================================================</span>
<span class="hljs-comment">// ì‹œë‚˜ë¦¬ì˜¤ ì¡°í•© ì˜ˆ: ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸</span>
<span class="hljs-comment">// ============================================================</span>
<span class="hljs-keyword">class</span> stress_virtual_seq <span class="hljs-keyword">extends</span> uvm_sequence;
  `uvm_object_utils(stress_virtual_seq)
  `uvm_declare_p_sequencer(apb_virtual_sequencer)

  <span class="hljs-keyword">rand</span> <span class="hljs-keyword">int</span> <span class="hljs-keyword">unsigned</span> num_iterations;
  <span class="hljs-keyword">constraint</span> c_iter { num_iterations <span class="hljs-keyword">inside</span> {[<span class="hljs-number">5</span>:<span class="hljs-number">20</span>]}; }

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;stress_virtual_seq&quot;</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_reg_block  model;
    uvm_status_e   status;
    uvm_reg_data_t value;

    model = p_sequencer<span class="hljs-variable">.reg_model</span>;

    `uvm_info(get_type_name(), <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸: %0d ë°˜ë³µ&quot;</span>, num_iterations), UVM_LOW)

    <span class="hljs-keyword">repeat</span>(num_iterations) <span class="hljs-keyword">begin</span>
      <span class="hljs-comment">// ëœë¤ ë ˆì§€ìŠ¤í„°ì— ëœë¤ ë°ì´í„° ì“°ê¸°</span>
      <span class="hljs-keyword">bit</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] random_data = $urandom;
      <span class="hljs-keyword">bit</span> [<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] random_addr = $urandom_range(<span class="hljs-number">0</span>, <span class="hljs-number">15</span>);

      <span class="hljs-keyword">fork</span>
        <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// APB ì§ì ‘ ì“°ê¸°</span>
          apb_write_seq wr;
          wr = apb_write_seq::type_id::create(<span class="hljs-string">&quot;wr&quot;</span>);
          wr<span class="hljs-variable">.addr</span> = random_addr;
          wr<span class="hljs-variable">.data</span> = random_data;
          wr<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.apb_sqr</span>);
        <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">begin</span>  <span class="hljs-comment">// GPIO ë™ì‹œ ë™ì‘</span>
          gpio_output_seq gpio_out;
          gpio_out = gpio_output_seq::type_id::create(<span class="hljs-string">&quot;gpio_out&quot;</span>);
          gpio_out<span class="hljs-variable">.start</span>(p_sequencer<span class="hljs-variable">.gpio_sqr</span>);
        <span class="hljs-keyword">end</span>
      <span class="hljs-keyword">join</span>

      <span class="hljs-comment">// RALë¡œ ê²€ì¦ (mirror)</span>
      <span class="hljs-keyword">if</span> (random_addr == <span class="hljs-number">0</span>)
        model<span class="hljs-variable">.ctrl_reg</span><span class="hljs-variable">.mirror</span>(status, UVM_CHECK, <span class="hljs-variable">.parent</span>(<span class="hljs-keyword">this</span>));
    <span class="hljs-keyword">end</span>

    `uvm_info(get_type_name(), <span class="hljs-string">&quot;ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ ì™„ë£Œ&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre><h3 id="13-6-3-ch-6-ê¸°ë³¸-ì‹œí€€ìŠ¤-vs-ch-13-ê³ ê¸‰-ì‹œí€€ìŠ¤-ë¹„êµ">13.6.3 Ch.6 ê¸°ë³¸ ì‹œí€€ìŠ¤ vs Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤ ë¹„êµ</h3>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 380" style="max-width:640px;width:100%;height:auto">
  <defs>
    <filter id="sh13b" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
  </defs>

  <!-- Title -->
  <rect x="100" y="6" width="440" height="32" rx="16" fill="#1e293b"/>
  <text x="320" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">Ch.6 ê¸°ë³¸ ì‹œí€€ìŠ¤ vs Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤</text>

  <!-- Column headers -->
  <rect x="30" y="52" width="275" height="30" rx="6" fill="#dbeafe" stroke="#3b82f6" stroke-width="1.5"/>
  <text x="167" y="72" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#1e40af">Ch.6 ê¸°ë³¸ ì‹œí€€ìŠ¤</text>

  <rect x="335" y="52" width="275" height="30" rx="6" fill="#f5f3ff" stroke="#7c3aed" stroke-width="1.5"/>
  <text x="472" y="72" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#5b21b6">Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤</text>

  <!-- Row 1: ì œì–´ ëŒ€ìƒ -->
  <rect x="30" y="92" width="275" height="40" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="167" y="108" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ì œì–´ ëŒ€ìƒ</text>
  <text x="167" y="124" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#1e293b">ë‹¨ì¼ ì—ì´ì „íŠ¸</text>

  <rect x="335" y="92" width="275" height="40" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="472" y="108" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ì œì–´ ëŒ€ìƒ</text>
  <text x="472" y="124" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#5b21b6">ë‹¤ì¤‘ ì—ì´ì „íŠ¸</text>

  <!-- Row 2: ì‹œí€€ìŠ¤ ì‹¤í–‰ -->
  <rect x="30" y="140" width="275" height="40" rx="6" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="167" y="156" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ì‹œí€€ìŠ¤ ì‹¤í–‰</text>
  <text x="167" y="172" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" fill="#1e293b">seq.start(sqr)</text>

  <rect x="335" y="140" width="275" height="40" rx="6" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="472" y="156" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ì‹œí€€ìŠ¤ ì‹¤í–‰</text>
  <text x="472" y="172" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" fill="#5b21b6">vseq.start(v_sqr)</text>

  <!-- Row 3: ë™ì‹œì„± -->
  <rect x="30" y="188" width="275" height="40" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="167" y="204" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ë™ì‹œì„±</text>
  <text x="167" y="220" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#ef4444">ìˆœì°¨ ì‹¤í–‰ë§Œ ê°€ëŠ¥</text>

  <rect x="335" y="188" width="275" height="40" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="472" y="204" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ë™ì‹œì„±</text>
  <text x="472" y="220" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#059669">fork/join ë³‘ë ¬ ì‹¤í–‰</text>

  <!-- Row 4: í™˜ê²½ ì ‘ê·¼ -->
  <rect x="30" y="236" width="275" height="40" rx="6" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="167" y="252" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">í™˜ê²½ ì ‘ê·¼</text>
  <text x="167" y="268" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" fill="#ef4444">m_sequencer (ì œí•œì )</text>

  <rect x="335" y="236" width="275" height="40" rx="6" fill="#fff" stroke="#e2e8f0" stroke-width="1"/>
  <text x="472" y="252" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">í™˜ê²½ ì ‘ê·¼</text>
  <text x="472" y="268" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="12" fill="#059669">p_sequencer (ììœ ë¡œì›€)</text>

  <!-- Row 5: ì‹œë‚˜ë¦¬ì˜¤ ê´€ë¦¬ -->
  <rect x="30" y="284" width="275" height="40" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="167" y="300" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ì‹œë‚˜ë¦¬ì˜¤ ê´€ë¦¬</text>
  <text x="167" y="316" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#1e293b">ìˆ˜ë™ (ì½”ë“œ í•˜ë“œì½”ë”©)</text>

  <rect x="335" y="284" width="275" height="40" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
  <text x="472" y="300" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#64748b">ì‹œë‚˜ë¦¬ì˜¤ ê´€ë¦¬</text>
  <text x="472" y="316" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" fill="#5b21b6">ìë™ (ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬)</text>

  <!-- Bottom summary -->
  <rect x="100" y="338" width="440" height="32" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="320" y="359" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="13" font-weight="bold" fill="#92400e">IP ë¸”ë¡ ê²€ì¦ (Ch.6) â†’ SoC í†µí•© ê²€ì¦ (Ch.13)</text>

</svg>
</div><table>
<thead>
<tr>
<th>í•­ëª©</th>
<th>Ch.6 ê¸°ë³¸ ì‹œí€€ìŠ¤</th>
<th>Ch.13 ê³ ê¸‰ ì‹œí€€ìŠ¤</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ì œì–´ ëŒ€ìƒ</strong></td>
<td>ë‹¨ì¼ ì—ì´ì „íŠ¸</td>
<td>ë‹¤ì¤‘ ì—ì´ì „íŠ¸</td>
</tr>
<tr>
<td><strong>ì‹œí€€ìŠ¤ ì‹¤í–‰</strong></td>
<td><code>seq.start(sqr)</code></td>
<td><code>vseq.start(v_sqr)</code></td>
</tr>
<tr>
<td><strong>ë™ì‹œì„±</strong></td>
<td>ìˆœì°¨ ì‹¤í–‰ë§Œ</td>
<td><code>fork...join</code> ë³‘ë ¬ ì‹¤í–‰</td>
</tr>
<tr>
<td><strong>í™˜ê²½ ì ‘ê·¼</strong></td>
<td><code>m_sequencer</code> (ì œí•œì )</td>
<td><code>p_sequencer</code> (ììœ ë¡œì›€)</td>
</tr>
<tr>
<td><strong>ì‹œë‚˜ë¦¬ì˜¤ ê´€ë¦¬</strong></td>
<td>ìˆ˜ë™ (ì½”ë“œ í•˜ë“œì½”ë”©)</td>
<td>ìë™ (ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬)</td>
</tr>
<tr>
<td><strong>RAL ì—°ë™</strong></td>
<td>ì—†ìŒ</td>
<td>ê°€ìƒ ì‹œí€€ìŠ¤ì—ì„œ í†µí•©</td>
</tr>
<tr>
<td><strong>ì‚¬ìš© ì‹œì </strong></td>
<td>IP ë¸”ë¡ ê²€ì¦</td>
<td>SoC í†µí•© ê²€ì¦</td>
</tr>
</tbody></table>
<h3 id="13-6-4-ì‹¤ë¬´-ì‹œí€€ìŠ¤-ì „ëµ-ê°€ì´ë“œ">13.6.4 ì‹¤ë¬´ ì‹œí€€ìŠ¤ ì „ëµ ê°€ì´ë“œ</h3>
<p>íŒ¹ë¦¬ìŠ¤ íšŒì‚¬ì—ì„œ ì‹œí€€ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤:</p>
<p><strong>ì‹œí€€ìŠ¤ ê³„ì¸µ êµ¬ì¡° (ì‹¤ë¬´):</strong></p>

<div style="text-align:center;margin:2rem 0">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 580 370" style="max-width:580px;width:100%;height:auto">
  <defs>
    <filter id="sh13c" x="-2%" y="-4%" width="104%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <marker id="arr13c" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#7c3aed"/>
    </marker>
  </defs>

  <!-- Title -->
  <rect x="100" y="6" width="380" height="32" rx="16" fill="#1e293b"/>
  <text x="290" y="28" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#fff">í…ŒìŠ¤íŠ¸ ë ˆë²¨ë³„ ì‹œí€€ìŠ¤ ì „ëµ</text>

  <!-- Level 3 (top) -->
  <rect x="40" y="56" width="500" height="72" rx="12" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2.5" filter="url(#sh13c)"/>
  <text x="290" y="78" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#5b21b6">Level 3: ì‹œìŠ¤í…œ ì‹œí€€ìŠ¤</text>
  <text x="290" y="96" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#6d28d9">full_system_seq, stress_seq, corner_case_seq</text>
  <text x="290" y="116" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#7c3aed">â†’ ê°€ìƒ ì‹œí€€ìŠ¤ (ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì¡°í•©)</text>

  <!-- Arrow -->
  <line x1="290" y1="128" x2="290" y2="158" stroke="#7c3aed" stroke-width="1.5" marker-end="url(#arr13c)"/>

  <!-- Level 2 (middle) -->
  <rect x="40" y="164" width="500" height="72" rx="12" fill="#eff6ff" stroke="#2563eb" stroke-width="2" filter="url(#sh13c)"/>
  <text x="290" y="186" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#1e40af">Level 2: í”„ë¡œí† ì½œ ì‹œí€€ìŠ¤</text>
  <text x="290" y="204" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#2563eb">apb_burst_seq, apb_error_seq, ral_check_seq</text>
  <text x="290" y="224" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#3b82f6">â†’ ë§ˆìŠ¤í„°/ê³„ì¸µ ì‹œí€€ìŠ¤ (ë‹¨ì¼ ì—ì´ì „íŠ¸ ë‚´)</text>

  <!-- Arrow -->
  <line x1="290" y1="236" x2="290" y2="266" stroke="#7c3aed" stroke-width="1.5" marker-end="url(#arr13c)"/>

  <!-- Level 1 (bottom) -->
  <rect x="40" y="272" width="500" height="72" rx="12" fill="#ecfdf5" stroke="#10b981" stroke-width="2" filter="url(#sh13c)"/>
  <text x="290" y="294" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="14" font-weight="bold" fill="#065f46">Level 1: ê¸°ë³¸ ì‹œí€€ìŠ¤</text>
  <text x="290" y="312" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" font-size="11" fill="#10b981">apb_write_seq, apb_read_seq, gpio_out_seq</text>
  <text x="290" y="332" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" font-size="11" fill="#059669">â†’ ë‹¨ì¼ íŠ¸ëœì­ì…˜ ì‹œí€€ìŠ¤ (ë¹Œë”© ë¸”ë¡)</text>

</svg>
</div><p><strong>ì‹œí€€ìŠ¤ ë„¤ì´ë° ì»¨ë²¤ì…˜:</strong></p>
<table>
<thead>
<tr>
<th>ë ˆë²¨</th>
<th>ì ‘ë¯¸ì‚¬</th>
<th>ì˜ˆì‹œ</th>
</tr>
</thead>
<tbody><tr>
<td>Level 1 ê¸°ë³¸</td>
<td><code>_seq</code></td>
<td><code>apb_write_seq</code>, <code>apb_read_seq</code></td>
</tr>
<tr>
<td>Level 2 í”„ë¡œí† ì½œ</td>
<td><code>_scenario_seq</code></td>
<td><code>apb_init_scenario_seq</code></td>
</tr>
<tr>
<td>Level 3 ì‹œìŠ¤í…œ</td>
<td><code>_virtual_seq</code></td>
<td><code>full_system_virtual_seq</code></td>
</tr>
<tr>
<td>ë¼ì´ë¸ŒëŸ¬ë¦¬</td>
<td><code>_lib_seq</code></td>
<td><code>apb_write_lib_seq</code></td>
</tr>
</tbody></table>
<p><strong>Top 5 ì‹œí€€ìŠ¤ ì‹¤ìˆ˜ì™€ í•´ê²°ë²•:</strong></p>
<table>
<thead>
<tr>
<th>ìˆœìœ„</th>
<th>ì‹¤ìˆ˜</th>
<th>í•´ê²°ë²•</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ê°€ìƒ ì‹œí€€ì„œ í•¸ë“¤ ë¯¸í• ë‹¹ (<code>null</code>)</td>
<td><code>connect_phase</code>ì—ì„œ ë°˜ë“œì‹œ í• ë‹¹</td>
</tr>
<tr>
<td>2</td>
<td><code>p_sequencer</code> ì„ ì–¸ ëˆ„ë½</td>
<td><code>uvm_declare_p_sequencer</code> ë§¤í¬ë¡œ ì¶”ê°€</td>
</tr>
<tr>
<td>3</td>
<td><code>fork</code> ì•ˆì—ì„œ ì‹œí€€ìŠ¤ ì¬ì‚¬ìš©</td>
<td><code>fork</code> ë¸”ë¡ë§ˆë‹¤ ìƒˆ ì‹œí€€ìŠ¤ <code>create()</code></td>
</tr>
<tr>
<td>4</td>
<td>ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ <code>init</code> ëˆ„ë½</td>
<td>ìƒì„±ìì—ì„œ <code>init_sequence_library()</code> í˜¸ì¶œ</td>
</tr>
<tr>
<td>5</td>
<td>RAL <code>parent</code> ì¸ì ëˆ„ë½</td>
<td><code>write(status, val, .parent(this))</code> ëª…ì‹œ</td>
</tr>
</tbody></table>
<hr>
<h2 id="13-7-ì²´í¬í¬ì¸íŠ¸">13.7 ì²´í¬í¬ì¸íŠ¸</h2>
<h3 id="13-7-1-ì…€í”„-ì²´í¬">13.7.1 ì…€í”„ ì²´í¬</h3>
<p>ë‹¤ìŒ ì§ˆë¬¸ì— ë‹µí•  ìˆ˜ ìˆìœ¼ë©´ ì´ ì±•í„°ë¥¼ ì´í•´í•œ ê²ƒì…ë‹ˆë‹¤:</p>
<blockquote>
<p><strong>Q1</strong>: ê°€ìƒ ì‹œí€€ì„œì™€ ì¼ë°˜ ì‹œí€€ì„œì˜ ì°¨ì´ëŠ”?</p>
</blockquote>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
ì¼ë°˜ ì‹œí€€ì„œëŠ” ë“œë¼ì´ë²„ì™€ ì—°ê²°ë˜ì–´ íŠ¸ëœì­ì…˜ì„ ì „ë‹¬í•©ë‹ˆë‹¤. ê°€ìƒ ì‹œí€€ì„œëŠ” ë“œë¼ì´ë²„ì™€ ì—°ê²°ë˜ì§€ ì•Šê³ , ì—¬ëŸ¬ ì‹¤ì œ ì‹œí€€ì„œì˜ **í•¸ë“¤ë§Œ** ê°€ì§€ê³  ìˆëŠ” ì¤‘ì•™ í—ˆë¸Œì…ë‹ˆë‹¤.
</details>

<blockquote>
<p><strong>Q2</strong>: ê°€ìƒ ì‹œí€€ìŠ¤ì—ì„œ í•˜ìœ„ ì‹œí€€ìŠ¤ë¥¼ íŠ¹ì • ì‹œí€€ì„œì— ë°°í¬í•˜ëŠ” ì½”ë“œëŠ”?</p>
</blockquote>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
`sub_seq.start(p_sequencer.apb_sqr);` â€” `p_sequencer`ë¥¼ í†µí•´ ê°€ìƒ ì‹œí€€ì„œì˜ ì‹¤ì œ ì‹œí€€ì„œ í•¸ë“¤ì— ì ‘ê·¼í•˜ê³ , `start()` ì¸ìë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
</details>

<blockquote>
<p><strong>Q3</strong>: <code>m_sequencer</code>ì™€ <code>p_sequencer</code>ì˜ ì°¨ì´ëŠ”?</p>
</blockquote>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
`m_sequencer`ëŠ” `uvm_sequencer_base` íƒ€ì…ìœ¼ë¡œ ëª¨ë“  ì‹œí€€ìŠ¤ì— ê¸°ë³¸ ì œê³µë©ë‹ˆë‹¤. `p_sequencer`ëŠ” `uvm_declare_p_sequencer` ë§¤í¬ë¡œë¡œ ì„ ì–¸í•˜ë©°, ì‚¬ìš©ì ì§€ì • ì‹œí€€ì„œ íƒ€ì…ìœ¼ë¡œ ìºìŠ¤íŒ…ë˜ì–´ ì»¤ìŠ¤í…€ í•„ë“œ(ì‹œí€€ì„œ í•¸ë“¤, RAL ëª¨ë¸ ë“±)ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</details>

<blockquote>
<p><strong>Q4</strong>: ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ <code>UVM_SEQ_LIB_RANDC</code> ëª¨ë“œëŠ” ì–´ë–»ê²Œ ë™ì‘í•˜ë‚˜?</p>
</blockquote>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
ë“±ë¡ëœ ëª¨ë“  ì‹œí€€ìŠ¤ë¥¼ **í•œ ë²ˆì”©** ëœë¤ ìˆœì„œë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤. ëª¨ë“  ì‹œí€€ìŠ¤ê°€ ì‹¤í–‰ëœ í›„ ë‹¤ì‹œ ìƒˆë¡œìš´ ëœë¤ ìˆœì„œë¡œ ë°˜ë³µí•©ë‹ˆë‹¤. íŠ¹ì • ì‹œí€€ìŠ¤ê°€ ë¹ ì§€ëŠ” ì¼ì´ ì—†ì–´ ì»¤ë²„ë¦¬ì§€ ë‹¬ì„±ì— ìœ ë¦¬í•©ë‹ˆë‹¤.
</details>

<blockquote>
<p><strong>Q5</strong>: ê°€ìƒ ì‹œí€€ì„œì˜ í•¸ë“¤ì„ ì™œ <code>build_phase</code>ê°€ ì•„ë‹Œ <code>connect_phase</code>ì—ì„œ í• ë‹¹í•˜ë‚˜?</p>
</blockquote>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
`build_phase`ì—ì„œëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì˜ ì‹œí€€ì„œê°€ ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `connect_phase`ëŠ” ëª¨ë“  `build_phase`ê°€ ì™„ë£Œëœ í›„ ì‹¤í–‰ë˜ë¯€ë¡œ, ì‹¤ì œ ì‹œí€€ì„œê°€ ì´ë¯¸ ì¡´ì¬í•¨ì´ ë³´ì¥ë©ë‹ˆë‹¤.
</details>

<blockquote>
<p><strong>Q6</strong>: ê°€ìƒ ì‹œí€€ìŠ¤ì—ì„œ ë‘ ì—ì´ì „íŠ¸ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ë ¤ë©´?</p>
</blockquote>
<details>
<summary>ì •ë‹µ ë³´ê¸°</summary>
`fork...join` ë¸”ë¡ ì•ˆì—ì„œ ê° ì—ì´ì „íŠ¸ì˜ ì‹œí€€ì„œì— ì‹œí€€ìŠ¤ë¥¼ `start()`í•©ë‹ˆë‹¤:
```systemverilog
fork
  seq_a.start(p_sequencer.apb_sqr);
  seq_b.start(p_sequencer.gpio_sqr);
join
```
</details>

<h3 id="13-7-2-ì—°ìŠµë¬¸ì œ">13.7.2 ì—°ìŠµë¬¸ì œ</h3>
<p><strong>[ê¸°ë³¸] ì—°ìŠµ 1: ê°€ìƒ ì‹œí€€ì„œ í™•ì¥</strong></p>
<p>í˜„ì¬ <code>apb_virtual_sequencer</code>ì— SPI ì‹œí€€ì„œ í•¸ë“¤ì„ ì¶”ê°€í•˜ì„¸ìš”. SPI ì‹œí€€ìŠ¤ ì•„ì´í…œì€ <code>{mosi_data[7:0], sclk_div[3:0]}</code> í•„ë“œë¥¼ ê°€ì§‘ë‹ˆë‹¤.</p>
<details>
<summary>íŒíŠ¸</summary>

<ol>
<li><code>spi_seq_item</code> í´ë˜ìŠ¤ ì •ì˜</li>
<li><code>typedef uvm_sequencer#(spi_seq_item) spi_sequencer;</code></li>
<li><code>apb_virtual_sequencer</code>ì— <code>spi_sequencer spi_sqr;</code> ì¶”ê°€</li>
<li>í™˜ê²½ì˜ <code>connect_phase</code>ì—ì„œ í•¸ë“¤ í• ë‹¹</details></li>
</ol>
<p><strong>[ì¤‘ê¸‰] ì—°ìŠµ 2: ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì—ëŸ¬ ì‹œí€€ìŠ¤ ì¶”ê°€</strong></p>
<p><code>apb_seq_library</code>ì— ì˜ëª»ëœ ì£¼ì†Œ(0xF ì´ìƒ)ë¡œ ì ‘ê·¼í•˜ëŠ” ì—ëŸ¬ ì‹œí€€ìŠ¤ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. <code>uvm_add_to_seq_lib</code> ë§¤í¬ë¡œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<details>
<summary>íŒíŠ¸</summary>

<pre><code class="hljs language-systemverilog"><span class="hljs-keyword">class</span> apb_error_lib_seq <span class="hljs-keyword">extends</span> uvm_sequence<span class="hljs-variable">#(apb_seq_item)</span>;
  `uvm_object_utils(apb_error_lib_seq)
  `uvm_add_to_seq_lib(apb_error_lib_seq, apb_seq_library)
  <span class="hljs-comment">// paddrì— ë²”ìœ„ ë°– ì£¼ì†Œë¥¼ ì„¤ì •</span>
<span class="hljs-keyword">endclass</span>
</code></pre></details>

<p><strong>[ê³ ê¸‰] ì—°ìŠµ 3: RAL + ê°€ìƒ ì‹œí€€ìŠ¤ ì¡°í•©</strong></p>
<p>ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê°€ìƒ ì‹œí€€ìŠ¤ë¡œ êµ¬í˜„í•˜ì„¸ìš”:</p>
<ol>
<li>RALë¡œ <code>ctrl_reg</code>ì— <code>enable=1, mode=01</code> ì„¤ì •</li>
<li>GPIOë¡œ ë°ì´í„° ì¶œë ¥ (ë™ì‹œ ì‹¤í–‰)</li>
<li>RALë¡œ <code>status_reg</code> ì½ê³  <code>mirror()</code> ê²€ì¦</li>
<li>ëª¨ë“  ë ˆì§€ìŠ¤í„°ì— ëŒ€í•´ <code>uvm_reg_hw_reset_seq</code> ì‹¤í–‰</li>
</ol>
<details>
<summary>íŒíŠ¸</summary>

<pre><code class="hljs language-systemverilog"><span class="hljs-keyword">class</span> advanced_virtual_seq <span class="hljs-keyword">extends</span> uvm_sequence;
  `uvm_declare_p_sequencer(apb_virtual_sequencer)

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> body();
    apb_reg_block model = p_sequencer<span class="hljs-variable">.reg_model</span>;
    <span class="hljs-comment">// Phase 1: model.ctrl_reg.write(...)</span>
    <span class="hljs-comment">// Phase 2: fork...join (GPIO + APB)</span>
    <span class="hljs-comment">// Phase 3: model.status_reg.mirror(...)</span>
    <span class="hljs-comment">// Phase 4: uvm_reg_hw_reset_seq reset_seq;</span>
    <span class="hljs-comment">//          reset_seq.model = model;</span>
    <span class="hljs-comment">//          reset_seq.start(p_sequencer.apb_sqr);</span>
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>
</code></pre></details>

<h3 id="13-7-3-ì´-ì±•í„°ì—ì„œ-ë°°ìš´-ê²ƒ">13.7.3 ì´ ì±•í„°ì—ì„œ ë°°ìš´ ê²ƒ</h3>
<p>ì´ ì±•í„°ì—ì„œ ì¶”ê°€í•œ ê³ ê¸‰ ì‹œí€€ìŠ¤ ê´€ë ¨ íŒŒì¼:</p>
<pre><code>apb_verification/
â”œâ”€â”€ rtl/
â”‚   â””â”€â”€ apb_slave_memory.sv    â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”œâ”€â”€ tb/
â”‚   â”œâ”€â”€ apb_if.sv              â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_seq_item.sv        â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_driver.sv          â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_monitor.sv         â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_agent.sv           â† Ch.11 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_reg_classes.sv     â† Ch.12 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_reg_block.sv       â† Ch.12 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_reg_adapter.sv     â† Ch.12 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ apb_ral_env.sv         â† Ch.12 (ë³€ê²½ ì—†ìŒ)
â”‚   â”œâ”€â”€ gpio_seq_item.sv       â† NEW: GPIO ì‹œí€€ìŠ¤ ì•„ì´í…œ
â”‚   â”œâ”€â”€ apb_virtual_sequencer.sv  â† NEW: ê°€ìƒ ì‹œí€€ì„œ
â”‚   â”œâ”€â”€ apb_virtual_env.sv     â† NEW: ê°€ìƒ ì‹œí€€ì„œ í¬í•¨ í™˜ê²½
â”‚   â”œâ”€â”€ apb_gpio_virtual_seq.sv   â† NEW: ê°€ìƒ ì‹œí€€ìŠ¤
â”‚   â”œâ”€â”€ apb_seq_library.sv     â† NEW: ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â””â”€â”€ apb_virtual_test.sv    â† NEW: ê°€ìƒ ì‹œí€€ìŠ¤ í…ŒìŠ¤íŠ¸
â””â”€â”€ sim/
    â””â”€â”€ run.do
</code></pre><p>Ch.11~12ì˜ ì½”ë“œëŠ” <strong>í•œ ì¤„ë„ ë³€ê²½í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</strong> ê°€ìƒ ì‹œí€€ì„œì™€ ê°€ìƒ ì‹œí€€ìŠ¤ëŠ” ê¸°ì¡´ ì—ì´ì „íŠ¸ ìœ„ì— <strong>ì œì–´ ê³„ì¸µì„ ì¶”ê°€</strong>í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ê²ƒì´ UVMì˜ ê³„ì¸µì  ì„¤ê³„ ì² í•™ì…ë‹ˆë‹¤.</p>
<h3 id="13-7-4-ë‹¤ìŒ-ì¥-ë¯¸ë¦¬ë³´ê¸°">13.7.4 ë‹¤ìŒ ì¥ ë¯¸ë¦¬ë³´ê¸°</h3>
<p>Chapter 14ì—ì„œëŠ” <strong>ê²€ì¦ ìë™í™”</strong>ë¥¼ ë°°ì›ë‹ˆë‹¤. ì»¤ë²„ë¦¬ì§€(Coverage) ìˆ˜ì§‘ìœ¼ë¡œ &quot;ê²€ì¦ì„ ì–¼ë§ˆë‚˜ í–ˆëŠ”ì§€&quot; ì¸¡ì •í•˜ê³ , ì–´ì„œì…˜(Assertion)ìœ¼ë¡œ í”„ë¡œí† ì½œ ê·œì¹™ì„ ìë™ ê²€ì‚¬í•©ë‹ˆë‹¤. Ch.11~13ì—ì„œ ë§Œë“  APB ê²€ì¦ í™˜ê²½ì— ì»¤ë²„ë¦¬ì§€ì™€ ì–´ì„œì…˜ì„ ì¶”ê°€í•˜ì—¬ <strong>ì™„ì „í•œ ê²€ì¦ ì¸í”„ë¼</strong>ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤.</p>
<p><strong>Part 3 ì§„í–‰ í˜„í™©:</strong></p>
<table>
<thead>
<tr>
<th>ì±•í„°</th>
<th>ì£¼ì œ</th>
<th>í•µì‹¬</th>
<th>ìƒíƒœ</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Ch.11</strong></td>
<td>ì¸í„°í˜ì´ìŠ¤ì™€ BFM</td>
<td>APB ì—ì´ì „íŠ¸ êµ¬ì¶•</td>
<td>âœ… ì™„ë£Œ</td>
</tr>
<tr>
<td><strong>Ch.12</strong></td>
<td>ë ˆì§€ìŠ¤í„° ëª¨ë¸ (RAL)</td>
<td>APB ìœ„ì— RAL ê³„ì¸µ ì¶”ê°€</td>
<td>âœ… ì™„ë£Œ</td>
</tr>
<tr>
<td><strong>Ch.13</strong></td>
<td>ê³ ê¸‰ ì‹œí€€ìŠ¤</td>
<td>ê°€ìƒ ì‹œí€€ìŠ¤, ì‹œí€€ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬</td>
<td>âœ… ì§€ê¸ˆ ì—¬ê¸°!</td>
</tr>
<tr>
<td><strong>Ch.14</strong></td>
<td>ê²€ì¦ ìë™í™”</td>
<td>ì»¤ë²„ë¦¬ì§€, ì–´ì„œì…˜</td>
<td>ë‹¤ìŒ</td>
</tr>
<tr>
<td><strong>Ch.15</strong></td>
<td>í”„ë¡œì íŠ¸ ì¢…í•©</td>
<td>ì „ì²´ í†µí•© ë° ë¦¬ë·°</td>
<td>ëŒ€ê¸°</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>í•µì‹¬ ë©”ì‹œì§€</strong>: Ch.6ì—ì„œ &quot;í•˜ë‚˜ì˜ ì‹œí€€ì„œì— í•˜ë‚˜ì˜ ì‹œí€€ìŠ¤&quot;ë¥¼ ë°°ì› ë‹¤ë©´, Ch.13ì—ì„œëŠ” &quot;ì—¬ëŸ¬ ì‹œí€€ì„œë¥¼ í•˜ë‚˜ì˜ ì•…ë³´ë¡œ ì§€íœ˜&quot;í•˜ëŠ” ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ê°€ìƒ ì‹œí€€ìŠ¤ëŠ” SoC ë ˆë²¨ ê²€ì¦ì˜ <strong>í•„ìˆ˜ ë„êµ¬</strong>ì…ë‹ˆë‹¤. Ch.14ì—ì„œëŠ” ì´ í™˜ê²½ì— ì»¤ë²„ë¦¬ì§€ì™€ ì–´ì„œì…˜ì„ ì¶”ê°€í•˜ì—¬ &quot;ê²€ì¦ì´ ì¶©ë¶„í•œì§€&quot;ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.</p>
</blockquote>

    <nav class="chapter-nav"><a href="chapter-12-final.html" class="nav-prev">
      <span class="nav-label">ì´ì „ ì±•í„°</span>
      <span class="nav-title">Ch.12 VIP í™œìš©</span>
    </a><a href="chapter-14-final.html" class="nav-next">
      <span class="nav-label">ë‹¤ìŒ ì±•í„°</span>
      <span class="nav-title">Ch.14 ì‹¤ì „ í”„ë¡œì íŠ¸</span>
    </a></nav>
  </div>

  <footer class="book-footer">
    <p>íŒ¹ë¦¬ìŠ¤ ê²€ì¦ ì—”ì§€ë‹ˆì–´ê°€ ë˜ê¸° ìœ„í•œ UVM ì™„ì „ì •ë³µ</p>
    <p>Published by UVM Book Publisher Agent</p>
  </footer>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">â†‘</button>

  <script>
    // Reading progress bar
    window.addEventListener('scroll', () => {
      const h = document.documentElement;
      const pct = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
      document.getElementById('progressBar').style.width = pct + '%';
      document.getElementById('backToTop').classList.toggle('visible', h.scrollTop > 400);
    });

    // Language labels for code blocks
    document.querySelectorAll('pre').forEach(pre => {
      const code = pre.querySelector('code');
      if (code) {
        const cls = code.className || '';
        const m = cls.match(/language-(\w+)/);
        if (m) {
          const map = {
            systemverilog:'SystemVerilog', sv:'SystemVerilog', verilog:'Verilog',
            bash:'Bash', shell:'Shell', tcl:'TCL', makefile:'Makefile',
            python:'Python', javascript:'JavaScript', text:'Output'
          };
          pre.setAttribute('data-lang', map[m[1]] || m[1]);
        }
      }
    });

    // Smart labels for plain code blocks
    document.querySelectorAll('pre code:not([class*="language-"])').forEach(code => {
      const pre = code.parentElement;
      if (!pre.getAttribute('data-lang')) {
        const t = code.textContent || '';
        if (t.includes('UVM_INFO') || t.includes('UVM_WARNING')) {
          pre.setAttribute('data-lang', 'Simulation Output');
        } else if (t.includes('[ì±„ìš©') || t.includes('í•„ìˆ˜ ìê²©')) {
          pre.setAttribute('data-lang', '');
        } else if (t.includes('Step') || t.includes('íŒ¨ë„') || t.includes('í¸ì§‘ê¸°')) {
          pre.setAttribute('data-lang', 'Setup Guide');
        } else {
          pre.setAttribute('data-lang', 'Info');
        }
      }
    });

    // Smooth scroll for TOC links
    document.querySelectorAll('.toc a').forEach(a => {
      a.addEventListener('click', e => {
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
  </script>
</body>
</html>