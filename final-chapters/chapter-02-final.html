<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 2: 환경 설정 | 팹리스 검증 엔지니어가 되기 위한 UVM 완전정복</title>
  <style>
    /* =============================================
       UVM Book Publisher - Stylesheet
       Generated by Publisher Agent
       ============================================= */

    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');

    :root {
      --bg: #ffffff;
      --text: #1a1a2e;
      --accent: #2563eb;
      --accent-light: #2563eb18;
      --code-bg: #1e1e2e;
      --code-text: #cdd6f4;
      --border: #e2e8f0;
      --blockquote-bg: #f0f9ff;
      --blockquote-border: #3b82f6;
      --table-header: #1e293b;
      --table-stripe: #f8fafc;
      --warning-bg: #fef3c7;
      --warning-border: #f59e0b;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      line-height: 1.85;
      color: var(--text);
      background: var(--bg);
      font-size: 16px;
    }

    /* === Reading Progress Bar === */
    .progress-bar {
      position: fixed;
      top: 0;
      left: 0;
      width: 0%;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), #2563ebcc);
      z-index: 9999;
      transition: width 0.1s;
    }

    /* === Cover Header === */
    .cover-header {
      background: linear-gradient(135deg, #2563eb08, #2563eb15);
      border-bottom: 3px solid var(--accent);
      padding: 32px 24px 24px;
      text-align: center;
      margin-bottom: 0;
    }
    .cover-part {
      display: inline-block;
      background: var(--accent);
      color: white;
      padding: 4px 16px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 12px;
    }
    .cover-chapter-num {
      font-size: 2em;
      font-weight: 300;
      color: var(--accent);
      letter-spacing: 2px;
      opacity: 0.6;
    }

    /* === Main Content === */
    .content {
      max-width: 860px;
      margin: 0 auto;
      padding: 32px 24px 60px;
    }

    /* === TOC === */
    .toc {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px 28px;
      margin: 24px 0 32px;
    }
    .toc-title {
      font-size: 1.1em;
      color: var(--accent);
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
    }
    .toc ul { list-style: none; padding: 0; }
    .toc li { margin: 6px 0; }
    .toc li a {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.95em;
      padding: 4px 8px;
      border-radius: 4px;
      display: inline-block;
      transition: background 0.15s;
    }
    .toc li a:hover {
      background: var(--accent-light);
      color: var(--accent);
    }
    .toc li.toc-sub { padding-left: 24px; }
    .toc li.toc-sub a {
      font-weight: 400;
      font-size: 0.9em;
      color: #475569;
    }

    /* === Headings === */
    h1 {
      font-size: 2em;
      border-bottom: 3px solid var(--accent);
      padding-bottom: 12px;
      margin: 40px 0 20px;
      color: var(--text);
    }
    h1:first-child { margin-top: 0; }
    h2 {
      font-size: 1.5em;
      color: var(--accent);
      margin: 40px 0 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid var(--border);
      scroll-margin-top: 16px;
    }
    h3 {
      font-size: 1.25em;
      margin: 28px 0 12px;
      color: #334155;
      scroll-margin-top: 16px;
    }
    h4 { font-size: 1.05em; margin: 20px 0 8px; color: #475569; }
    p { margin: 12px 0; }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    hr { border: none; border-top: 2px solid var(--border); margin: 32px 0; }
    strong { color: #1e293b; }
    img { max-width: 100%; border-radius: 8px; margin: 16px 0; }

    /* === Code Blocks === */
    pre {
      position: relative;
      background: var(--code-bg);
      border-radius: 12px;
      padding: 0;
      margin: 20px 0;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.12), 0 1px 4px rgba(0,0,0,0.08);
      border: 1px solid #313244;
    }
    pre::before {
      content: attr(data-lang);
      display: block;
      background: #313244;
      color: #a6adc8;
      padding: 8px 16px;
      font-size: 0.8em;
      font-family: 'Fira Code','JetBrains Mono',monospace;
      letter-spacing: 0.5px;
      border-bottom: 1px solid #45475a;
    }
    pre code {
      display: block;
      padding: 16px 20px;
      overflow-x: auto;
      font-family: 'Fira Code','JetBrains Mono','Cascadia Code','D2Coding',monospace;
      font-size: 0.88em;
      line-height: 1.75;
      tab-size: 4;
      color: var(--code-text);
    }
    pre code::-webkit-scrollbar { height: 6px; }
    pre code::-webkit-scrollbar-track { background: #1e1e2e; }
    pre code::-webkit-scrollbar-thumb { background: #45475a; border-radius: 3px; }

    code:not(pre code) {
      background: #f1f5f9;
      color: #be185d;
      padding: 2px 7px;
      border-radius: 5px;
      font-family: 'Fira Code','JetBrains Mono','D2Coding',monospace;
      font-size: 0.86em;
      border: 1px solid #e2e8f0;
    }

    /* Highlight.js Catppuccin */
    .hljs { background: transparent; color: #cdd6f4; }
    .hljs-keyword { color: #cba6f7; font-weight: bold; }
    .hljs-type { color: #f9e2af; }
    .hljs-string { color: #a6e3a1; }
    .hljs-number { color: #fab387; }
    .hljs-comment { color: #6c7086; font-style: italic; }
    .hljs-function, .hljs-title { color: #89b4fa; }
    .hljs-built_in { color: #f38ba8; }
    .hljs-variable { color: #cdd6f4; }
    .hljs-attr { color: #89dceb; }
    .hljs-meta { color: #f5c2e7; }
    .hljs-literal { color: #fab387; }

    /* === SVG Diagrams === */
    .svg-diagram {
      margin: 24px 0;
      padding: 20px;
      background: #fafbfc;
      border: 1px solid var(--border);
      border-radius: 12px;
      text-align: center;
      overflow-x: auto;
    }
    .svg-diagram svg { display: inline-block; }

    /* === Blockquotes === */
    blockquote {
      background: var(--blockquote-bg);
      border-left: 4px solid var(--blockquote-border);
      padding: 16px 20px;
      margin: 16px 0;
      border-radius: 0 8px 8px 0;
    }
    blockquote p:first-child { margin-top: 0; }
    blockquote p:last-child { margin-bottom: 0; }
    blockquote:has(strong:first-child) {
      background: var(--warning-bg);
      border-left-color: var(--warning-border);
    }

    /* === Tables === */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 1px 4px rgba(0,0,0,0.06);
      border: 1px solid var(--border);
      font-size: 0.95em;
    }
    thead th {
      background: var(--table-header);
      color: white;
      padding: 12px 16px;
      text-align: left;
      font-weight: 600;
      font-size: 0.9em;
    }
    tbody td {
      padding: 10px 16px;
      border-bottom: 1px solid var(--border);
    }
    tbody tr:nth-child(even) { background: var(--table-stripe); }
    tbody tr:hover { background: var(--accent-light); }

    /* === Lists === */
    ul, ol { padding-left: 28px; margin: 12px 0; }
    li { margin: 6px 0; }
    li > ul, li > ol { margin: 4px 0; }

    /* === Details/Summary === */
    details {
      background: #f8fafc;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px 16px;
      margin: 12px 0;
    }
    details summary {
      cursor: pointer;
      font-weight: 600;
      color: var(--accent);
    }
    details[open] summary { margin-bottom: 8px; }

    /* === Plain code blocks === */
    pre:has(code:not(.hljs)) {
      background: #fafbfc;
      border: 2px solid var(--border);
      box-shadow: none;
    }
    pre:has(code:not(.hljs))::before {
      background: #f1f5f9;
      color: #64748b;
      border-bottom-color: var(--border);
    }
    pre:has(code:not(.hljs)) code { color: #334155; }

    /* === Chapter Navigation === */
    .chapter-nav {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      margin: 40px 0 20px;
      padding-top: 24px;
      border-top: 2px solid var(--border);
    }
    .chapter-nav a {
      display: flex;
      flex-direction: column;
      padding: 14px 20px;
      border: 1px solid var(--border);
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.2s;
      min-width: 200px;
    }
    .chapter-nav a:hover {
      border-color: var(--accent);
      background: var(--accent-light);
      text-decoration: none;
    }
    .nav-prev { align-items: flex-start; }
    .nav-next { align-items: flex-end; }
    .nav-label {
      font-size: 0.8em;
      color: #94a3b8;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .nav-title { font-weight: 600; color: var(--accent); margin-top: 2px; }

    /* === Footer === */
    .book-footer {
      text-align: center;
      padding: 20px;
      margin-top: 40px;
      border-top: 1px solid var(--border);
      color: #94a3b8;
      font-size: 0.85em;
    }

    /* === Back to Top === */
    .back-to-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 44px;
      height: 44px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      display: none;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      transition: opacity 0.3s;
      z-index: 100;
    }
    .back-to-top.visible { display: flex; }

    /* === Print === */
    @media print {
      .progress-bar, .back-to-top, .chapter-nav, .toc { display: none !important; }
      body { font-size: 11pt; }
      .content { max-width: 100%; padding: 0; }
      .cover-header { break-after: page; }
      pre { box-shadow: none; border: 2px solid #ccc; break-inside: avoid; }
      .svg-diagram { break-inside: avoid; border: 1px solid #ccc; }
      table { break-inside: avoid; }
      h2, h3 { break-after: avoid; }
    }

    /* === Responsive === */
    @media (max-width: 640px) {
      .content { padding: 16px 12px 40px; font-size: 15px; }
      h1 { font-size: 1.5em; }
      h2 { font-size: 1.25em; }
      pre code { font-size: 0.8em; padding: 12px; }
      thead th, tbody td { padding: 8px 10px; font-size: 0.88em; }
      .svg-diagram { padding: 10px; }
      .toc { padding: 14px 18px; }
      .chapter-nav { flex-direction: column; }
      .chapter-nav a { min-width: unset; }
      .nav-next { align-items: flex-start; }
      .cover-chapter-num { font-size: 1.5em; }
    }
  </style>
</head>
<body>
  <!-- Reading Progress Bar -->
  <div class="progress-bar" id="progressBar"></div>

  
<header class="cover-header">
  <div class="cover-part" style="--part-color: #2563eb">
    <span class="cover-part-label">Part 1: 시작하기</span>
  </div>
  <div class="cover-chapter-num">Chapter 02</div>
</header>

  <div class="content">
    <nav class="toc">
<h2 class="toc-title">목차</h2>
<ul>
<li><a href="#2-1-시뮬레이터란-무엇인가">2.1 시뮬레이터란 무엇인가?</a></li>
  <li class="toc-sub"><a href="#2-1-1-시뮬레이터의-역할">2.1.1 시뮬레이터의 역할</a></li>
  <li class="toc-sub"><a href="#2-1-2-주요-상용-시뮬레이터">2.1.2 주요 상용 시뮬레이터</a></li>
  <li class="toc-sub"><a href="#2-1-3-무료-실습-환경-선택지">2.1.3 무료 실습 환경 선택지</a></li>
<li><a href="#2-2-eda-playground로-바로-시작하기">2.2 EDA Playground로 바로 시작하기</a></li>
  <li class="toc-sub"><a href="#2-2-1-eda-playground란">2.2.1 EDA Playground란?</a></li>
  <li class="toc-sub"><a href="#2-2-2-eda-playground-설정-확인">2.2.2 EDA Playground 설정 확인</a></li>
  <li class="toc-sub"><a href="#2-2-3-첫-uvm-코드-실행하기-10분">2.2.3 첫 UVM 코드 실행하기 (10분)</a></li>
  <li class="toc-sub"><a href="#2-2-4-출력-결과-해석하기">2.2.4 출력 결과 해석하기</a></li>
  <li class="toc-sub"><a href="#2-2-5-자주-발생하는-에러와-해결법">2.2.5 자주 발생하는 에러와 해결법</a></li>
<li><a href="#2-3-uvm-코드-구조-이해하기">2.3 UVM 코드 구조 이해하기</a></li>
  <li class="toc-sub"><a href="#2-3-1-uvm-프로그램의-기본-뼈대">2.3.1 UVM 프로그램의 기본 뼈대</a></li>
<li><a href="#2-4-실습-uvm-코드-수정해보기">2.4 실습: UVM 코드 수정해보기</a></li>
  <li class="toc-sub"><a href="#2-4-1-실습-1-메시지-바꿔보기-쉬움">2.4.1 실습 1: 메시지 바꿔보기 (쉬움)</a></li>
  <li class="toc-sub"><a href="#2-4-2-실습-2-여러-페이즈-phase-체험하기-보통">2.4.2 실습 2: 여러 페이즈(Phase) 체험하기 (보통)</a></li>
  <li class="toc-sub"><a href="#2-4-3-실습-3-반복-테스트-만들기-보통">2.4.3 실습 3: 반복 테스트 만들기 (보통)</a></li>
<li><a href="#2-5-로컬-환경-설정-선택-사항">2.5 로컬 환경 설정 (선택 사항)</a></li>
  <li class="toc-sub"><a href="#2-5-1-왜-로컬-환경이-필요할까">2.5.1 왜 로컬 환경이 필요할까?</a></li>
  <li class="toc-sub"><a href="#2-5-2-운영체제-준비">2.5.2 운영체제 준비</a></li>
  <li class="toc-sub"><a href="#2-5-3-questa-intel-fpga-edition-설치">2.5.3 Questa (Intel FPGA Edition) 설치</a></li>
  <li class="toc-sub"><a href="#2-5-4-uvm-라이브러리-설정">2.5.4 UVM 라이브러리 설정</a></li>
  <li class="toc-sub"><a href="#2-5-5-첫-로컬-컴파일-테스트">2.5.5 첫 로컬 컴파일 테스트</a></li>
<li><a href="#2-6-uvm-프로젝트-디렉토리-구조">2.6 UVM 프로젝트 디렉토리 구조</a></li>
  <li class="toc-sub"><a href="#2-6-1-실무-표준-디렉토리-구조">2.6.1 실무 표준 디렉토리 구조</a></li>
  <li class="toc-sub"><a href="#2-6-2-각-디렉토리의-역할">2.6.2 각 디렉토리의 역할</a></li>
  <li class="toc-sub"><a href="#2-6-3-간단한-makefile-맛보기">2.6.3 간단한 Makefile 맛보기</a></li>
<li><a href="#2-7-체크포인트">2.7 체크포인트</a></li>
  <li class="toc-sub"><a href="#셀프-체크">셀프 체크</a></li>
  <li class="toc-sub"><a href="#연습문제">연습문제</a></li>
  <li class="toc-sub"><a href="#다음-챕터-미리보기">다음 챕터 미리보기</a></li>
</ul>
</nav>
    <h1>Chapter 2: 환경 설정</h1>
<blockquote>
<p><strong>학습 목표</strong></p>
<ul>
<li>EDA 시뮬레이터의 종류와 역할을 이해한다</li>
<li>EDA Playground에서 UVM 코드를 작성하고 실행한다</li>
<li>로컬 환경에서 시뮬레이터와 UVM 라이브러리를 설정한다 (선택)</li>
<li>UVM 프로젝트의 표준 디렉토리 구조를 익힌다</li>
<li>첫 UVM &quot;Hello World&quot; 프로그램을 컴파일하고 실행한다</li>
</ul>
</blockquote>
<hr>
<h2 id="2-1-시뮬레이터란-무엇인가">2.1 시뮬레이터란 무엇인가?</h2>
<h3 id="2-1-1-시뮬레이터의-역할">2.1.1 시뮬레이터의 역할</h3>
<p>Chapter 1에서 UVM이 검증 방법론이라는 것을 배웠습니다. 그런데 UVM 코드를 작성한다고 해서 바로 실행할 수 있는 것은 아닙니다. **시뮬레이터(Simulator)**가 필요합니다.</p>

<div class="svg-diagram">
<svg viewBox="0 0 720 130" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;width:100%">
  
  <style>
    .diagram-box { fill: #ffffff; stroke: #334155; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-accent { fill: #eff6ff; stroke: #2563eb; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-highlight { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2.5; rx: 10; ry: 10; }
    .diagram-box-dark { fill: #1e293b; stroke: #1e293b; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-run { fill: #fef3c7; stroke: #f59e0b; stroke-width: 3; rx: 10; ry: 10; }
    .diagram-box-green { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-purple { fill: #f5f3ff; stroke: #7c3aed; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-red { fill: #fef2f2; stroke: #ef4444; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-gray { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; rx: 8; ry: 8; }
    .diagram-text { font-family: 'Noto Sans KR', sans-serif; fill: #1e293b; }
    .diagram-text-white { font-family: 'Noto Sans KR', sans-serif; fill: #ffffff; }
    .diagram-text-accent { font-family: 'Noto Sans KR', sans-serif; fill: #2563eb; }
    .diagram-text-small { font-family: 'Noto Sans KR', sans-serif; fill: #64748b; font-size: 12px; }
    .diagram-text-code { font-family: 'Fira Code', 'JetBrains Mono', monospace; fill: #1e293b; }
    .diagram-arrow { fill: none; stroke: #64748b; stroke-width: 1.5; }
    .diagram-arrow-accent { fill: none; stroke: #2563eb; stroke-width: 1.5; }
    .diagram-line { stroke: #cbd5e1; stroke-width: 1.5; stroke-dasharray: 6,3; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b" />
    </marker>
    <marker id="arrowhead-accent" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb" />
    </marker>
    <marker id="arrowhead-dark" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#1e293b" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#f59e0b" />
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Row 1: General Programming -->
  <text x="15" y="30" class="diagram-text" font-size="12" font-weight="bold" fill="#64748b">일반 프로그래밍</text>
  <rect x="150" y="12" width="90" height="34" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="195" y="34" text-anchor="middle" class="diagram-text-code" font-size="11">C코드</text>
  <line x1="240" y1="29" x2="270" y2="29" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <rect x="274" y="12" width="130" height="34" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="339" y="34" text-anchor="middle" class="diagram-text-code" font-size="11">gcc (컴파일러)</text>
  <line x1="404" y1="29" x2="434" y2="29" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <rect x="438" y="12" width="100" height="34" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="488" y="34" text-anchor="middle" class="diagram-text-code" font-size="11">실행파일</text>
  <line x1="538" y1="29" x2="568" y2="29" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <rect x="572" y="12" width="70" height="34" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="607" y="34" text-anchor="middle" class="diagram-text-code" font-size="11">실행</text>

  <!-- Row 2: UVM Verification -->
  <text x="15" y="96" class="diagram-text" font-size="12" font-weight="bold" fill="#2563eb">UVM 검증</text>
  <rect x="150" y="76" width="90" height="38" class="diagram-box-accent" filter="url(#shadow)"/>
  <text x="195" y="100" text-anchor="middle" class="diagram-text-code" font-size="11" font-weight="bold">SV코드</text>
  <line x1="240" y1="95" x2="270" y2="95" stroke="#2563eb" stroke-width="1.5" marker-end="url(#arrowhead-accent)"/>
  <rect x="274" y="76" width="230" height="38" class="diagram-box-highlight" filter="url(#shadow)"/>
  <text x="389" y="100" text-anchor="middle" class="diagram-text-code" font-size="11" font-weight="bold">시뮬레이터 (컴파일+실행)</text>
  <line x1="504" y1="95" x2="534" y2="95" stroke="#2563eb" stroke-width="1.5" marker-end="url(#arrowhead-accent)"/>
  <rect x="538" y="76" width="110" height="38" class="diagram-box-green" filter="url(#shadow)"/>
  <text x="593" y="100" text-anchor="middle" class="diagram-text-code" font-size="11" font-weight="bold">검증 결과</text>
</svg>
</div><p>시뮬레이터는 SystemVerilog 코드를 <strong>컴파일</strong>하고 <strong>시뮬레이션</strong>하는 도구입니다. C 프로그래밍에서 gcc가 하는 역할과 비슷하다고 생각하면 됩니다.</p>
<blockquote>
<p><strong>핵심</strong>: UVM을 배우려면 반드시 SystemVerilog를 지원하는 시뮬레이터가 필요합니다. 시뮬레이터 없이는 코드를 실행할 수 없습니다.</p>
</blockquote>
<h3 id="2-1-2-주요-상용-시뮬레이터">2.1.2 주요 상용 시뮬레이터</h3>
<p>반도체 업계에서 사용하는 3대 시뮬레이터가 있습니다:</p>
<table>
<thead>
<tr>
<th>시뮬레이터</th>
<th>제조사</th>
<th>특징</th>
</tr>
</thead>
<tbody><tr>
<td><strong>VCS</strong></td>
<td>Synopsys</td>
<td>업계 점유율 1위, 가장 빠른 컴파일 속도</td>
</tr>
<tr>
<td><strong>Questa</strong></td>
<td>Siemens EDA</td>
<td>강력한 디버깅 기능, UVM 라이브러리 내장</td>
</tr>
<tr>
<td><strong>Xcelium</strong></td>
<td>Cadence</td>
<td>멀티코어 시뮬레이션, 대규모 설계에 강점</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>현실적인 이야기</strong>: 이 시뮬레이터들은 모두 <strong>상용 라이선스</strong>가 필요하고, 가격이 수천만 원에 달합니다. 회사에 입사하면 사용할 수 있지만, 학습 단계에서는 접근이 어렵습니다.</p>
</blockquote>
<p>그래서 이 책에서는 <strong>무료로 사용할 수 있는 방법</strong>을 먼저 안내합니다.</p>
<h3 id="2-1-3-무료-실습-환경-선택지">2.1.3 무료 실습 환경 선택지</h3>
<p>초보자가 UVM을 연습할 수 있는 환경은 크게 3가지입니다:</p>
<table>
<thead>
<tr>
<th>환경</th>
<th>비용</th>
<th>설치</th>
<th>UVM 지원</th>
<th>추천 대상</th>
</tr>
</thead>
<tbody><tr>
<td><strong>EDA Playground</strong></td>
<td>무료</td>
<td>불필요 (웹)</td>
<td>O (Questa/VCS/Xcelium 선택 가능)</td>
<td><strong>모든 초보자 (추천)</strong></td>
</tr>
<tr>
<td><strong>Questa (Intel FPGA Edition)</strong></td>
<td>무료</td>
<td>필요</td>
<td>O (제한적)</td>
<td>로컬 환경을 원하는 분</td>
</tr>
<tr>
<td><strong>Icarus Verilog + Verilator</strong></td>
<td>무료</td>
<td>필요</td>
<td>X (UVM 미지원)</td>
<td>Verilog만 연습할 때</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>참고</strong>: UVM에는 두 가지 주요 버전이 있습니다. <strong>UVM 1.2</strong>는 Accellera에서 만든 버전이고, <strong>UVM 1800.2</strong>는 IEEE 표준으로 채택된 버전입니다. 둘은 거의 동일하며, EDA Playground에서는 주로 UVM 1.2를 선택합니다.</p>
</blockquote>
<blockquote>
<p><strong>이 책의 선택</strong>: Part 1(시작하기) 전체를 <strong>EDA Playground</strong>로 실습합니다. 웹 브라우저만 있으면 되므로 설치 없이 바로 시작할 수 있습니다. 로컬 환경 설정은 이 챕터 뒷부분에서 선택 사항으로 안내합니다.</p>
</blockquote>
<hr>
<h2 id="2-2-eda-playground로-바로-시작하기">2.2 EDA Playground로 바로 시작하기</h2>
<blockquote>
<p><strong>이 절의 목표</strong>: EDA Playground에서 첫 UVM 코드를 실행하고, 출력 결과를 읽을 수 있게 됩니다.</p>
</blockquote>
<h3 id="2-2-1-eda-playground란">2.2.1 EDA Playground란?</h3>
<p>EDA Playground(<a href="https://www.edaplayground.com)%EB%8A%94">https://www.edaplayground.com)는</a> 웹 브라우저에서 SystemVerilog와 UVM 코드를 작성하고 실행할 수 있는 <strong>무료 온라인 시뮬레이션 환경</strong>입니다.</p>
<p><strong>장점</strong>:</p>
<ul>
<li>설치 불필요 (웹 브라우저만 있으면 됨)</li>
<li>Questa, VCS, Xcelium 등 상용 시뮬레이터를 무료로 사용 가능</li>
<li>UVM 라이브러리가 이미 설정되어 있음</li>
<li>코드를 저장하고 공유 가능 (Save 버튼으로 저장, URL로 공유)</li>
</ul>

<div class="svg-diagram">
<svg viewBox="0 0 700 310" xmlns="http://www.w3.org/2000/svg" style="max-width:700px;width:100%">
  
  <style>
    .diagram-box { fill: #ffffff; stroke: #334155; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-accent { fill: #eff6ff; stroke: #2563eb; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-highlight { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2.5; rx: 10; ry: 10; }
    .diagram-box-dark { fill: #1e293b; stroke: #1e293b; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-run { fill: #fef3c7; stroke: #f59e0b; stroke-width: 3; rx: 10; ry: 10; }
    .diagram-box-green { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-purple { fill: #f5f3ff; stroke: #7c3aed; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-red { fill: #fef2f2; stroke: #ef4444; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-gray { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; rx: 8; ry: 8; }
    .diagram-text { font-family: 'Noto Sans KR', sans-serif; fill: #1e293b; }
    .diagram-text-white { font-family: 'Noto Sans KR', sans-serif; fill: #ffffff; }
    .diagram-text-accent { font-family: 'Noto Sans KR', sans-serif; fill: #2563eb; }
    .diagram-text-small { font-family: 'Noto Sans KR', sans-serif; fill: #64748b; font-size: 12px; }
    .diagram-text-code { font-family: 'Fira Code', 'JetBrains Mono', monospace; fill: #1e293b; }
    .diagram-arrow { fill: none; stroke: #64748b; stroke-width: 1.5; }
    .diagram-arrow-accent { fill: none; stroke: #2563eb; stroke-width: 1.5; }
    .diagram-line { stroke: #cbd5e1; stroke-width: 1.5; stroke-dasharray: 6,3; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b" />
    </marker>
    <marker id="arrowhead-accent" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb" />
    </marker>
    <marker id="arrowhead-dark" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#1e293b" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#f59e0b" />
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Window frame -->
  <rect x="10" y="10" width="680" height="290" rx="12" ry="12" fill="#1e293b" stroke="#334155" stroke-width="2" filter="url(#shadow)"/>

  <!-- Title bar -->
  <rect x="10" y="10" width="680" height="36" rx="12" ry="12" fill="#334155"/>
  <rect x="10" y="34" width="680" height="12" fill="#334155"/>
  <!-- Traffic lights -->
  <circle cx="32" cy="28" r="6" fill="#ef4444"/>
  <circle cx="52" cy="28" r="6" fill="#f59e0b"/>
  <circle cx="72" cy="28" r="6" fill="#10b981"/>
  <text x="350" y="33" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" fill="#94a3b8" font-size="12" font-weight="bold">EDA Playground</text>

  <!-- Toolbar -->
  <rect x="20" y="52" width="660" height="32" rx="6" ry="6" fill="#475569"/>
  <rect x="30" y="58" width="170" height="20" rx="4" ry="4" fill="#64748b"/>
  <text x="115" y="72" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" fill="#cbd5e1" font-size="10">Languages &amp; Libraries ▼</text>
  <rect x="210" y="58" width="170" height="20" rx="4" ry="4" fill="#64748b"/>
  <text x="295" y="72" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" fill="#cbd5e1" font-size="10">Tools &amp; Simulators ▼</text>
  <rect x="600" y="58" width="70" height="20" rx="4" ry="4" fill="#10b981"/>
  <text x="635" y="72" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" fill="#ffffff" font-size="11" font-weight="bold">▶ Run</text>

  <!-- Left panel: testbench.sv -->
  <rect x="20" y="92" width="325" height="130" rx="6" ry="6" fill="#0f172a"/>
  <rect x="20" y="92" width="325" height="24" rx="6" ry="6" fill="#1e3a5f"/>
  <rect x="20" y="108" width="325" height="8" fill="#1e3a5f"/>
  <text x="182" y="108" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" fill="#93c5fd" font-size="11" font-weight="bold">testbench.sv</text>
  <text x="40" y="140" font-family="'Fira Code','JetBrains Mono',monospace" fill="#94a3b8" font-size="10">// 여기에 UVM 코드 작성</text>
  <text x="40" y="158" font-family="'Fira Code','JetBrains Mono',monospace" fill="#64748b" font-size="10">(왼쪽 패널)</text>

  <!-- Right panel: design.sv -->
  <rect x="355" y="92" width="325" height="130" rx="6" ry="6" fill="#0f172a"/>
  <rect x="355" y="92" width="325" height="24" rx="6" ry="6" fill="#1e3a5f"/>
  <rect x="355" y="108" width="325" height="8" fill="#1e3a5f"/>
  <text x="517" y="108" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" fill="#93c5fd" font-size="11" font-weight="bold">design.sv</text>
  <text x="375" y="140" font-family="'Fira Code','JetBrains Mono',monospace" fill="#64748b" font-size="10">(오른쪽 패널 - 비워둠)</text>

  <!-- Bottom panel: Log -->
  <rect x="20" y="230" width="660" height="60" rx="6" ry="6" fill="#0f172a"/>
  <rect x="20" y="230" width="660" height="22" rx="6" ry="6" fill="#1e3a5f"/>
  <rect x="20" y="244" width="660" height="8" fill="#1e3a5f"/>
  <text x="350" y="246" text-anchor="middle" font-family="'Fira Code','JetBrains Mono',monospace" fill="#93c5fd" font-size="11" font-weight="bold">Log (실행 결과)</text>
  <text x="40" y="272" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="10">UVM_INFO: ...</text>
</svg>
</div><h3 id="2-2-2-eda-playground-설정-확인">2.2.2 EDA Playground 설정 확인</h3>
<p>Chapter 1에서 이미 EDA Playground 계정을 만들고 첫 코드를 실행해보았습니다. 같은 계정으로 로그인한 후, 이번 챕터의 실습을 위해 설정을 확인합니다:</p>
<ol>
<li><a href="https://www.edaplayground.com">https://www.edaplayground.com</a> 에 로그인</li>
<li>좌측 패널 상단에서:<ul>
<li><strong>&quot;Languages &amp; Libraries&quot;</strong> → <code>SystemVerilog/Verilog</code> 선택</li>
<li><strong>&quot;UVM/OVM&quot;</strong> → <code>UVM 1.2</code> 선택</li>
</ul>
</li>
<li>상단 툴바에서:<ul>
<li><strong>&quot;Tools &amp; Simulators&quot;</strong> → Chapter 1에서 선택한 시뮬레이터를 그대로 사용하세요. 어떤 시뮬레이터를 선택해도 UVM 코드의 동작은 동일합니다.</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>팁</strong>: 계정이 없다면 Chapter 1의 1.3.2절을 참고하여 만들어주세요. Google 계정으로 간편 로그인도 가능합니다.</p>
</blockquote>
<h3 id="2-2-3-첫-uvm-코드-실행하기-10분">2.2.3 첫 UVM 코드 실행하기 (10분)</h3>
<p>Chapter 1에서 간단한 UVM 코드를 실행해본 적이 있습니다. 이번에는 한 단계 더 나아가서, 코드의 각 부분이 어떤 역할을 하는지 주석으로 상세히 설명한 버전을 작성합니다.</p>
<blockquote>
<p><strong>코드를 다 이해할 필요 없습니다!</strong> 지금은 &quot;이 코드를 실행하면 UVM이 동작한다&quot;는 것만 확인하세요. <code>class</code>, <code>extends</code>, <code>phase</code> 같은 용어는 Chapter 3~5에서 하나씩 배웁니다.</p>
</blockquote>
<p><strong>[예제 2-1] UVM Hello World</strong></p>
<p>왼쪽 패널(testbench.sv)에 아래 코드를 입력하세요:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// 파일: testbench.sv</span>
<span class="hljs-comment">// 설명: 첫 UVM Hello World 프로그램</span>
<span class="hljs-comment">// 역할: UVM 환경이 정상 동작하는지 확인</span>

<span class="hljs-comment">// UVM 라이브러리 가져오기</span>
<span class="hljs-comment">// (C에서 #include &lt;stdio.h&gt; 하는 것과 같습니다)</span>
<span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;

<span class="hljs-comment">// 가장 간단한 UVM 테스트 클래스</span>
<span class="hljs-keyword">class</span> hello_test <span class="hljs-keyword">extends</span> uvm_test;
  <span class="hljs-comment">// 팩토리(Factory)에 등록</span>
  <span class="hljs-comment">// → run_test()가 이 클래스를 이름으로 찾으려면, 여기에 등록되어 있어야 합니다.</span>
  <span class="hljs-comment">//   등록하지 않으면 &quot;클래스를 찾을 수 없다&quot;는 에러가 발생합니다.</span>
  `uvm_component_utils(hello_test)

  <span class="hljs-comment">// 생성자 (모든 UVM 컴포넌트에 필요합니다)</span>
  <span class="hljs-comment">// parent: UVM은 컴포넌트를 트리(나무) 구조로 관리합니다.</span>
  <span class="hljs-comment">//         부모 컴포넌트를 지정하는 매개변수입니다. (Chapter 4에서 자세히 배웁니다)</span>
  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;hello_test&quot;</span>, uvm_component parent = <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// 시뮬레이션 실행 단계</span>
  <span class="hljs-comment">// task: function과 달리 시간 지연(#delay)을 사용할 수 있습니다.</span>
  <span class="hljs-comment">//       run_phase는 시뮬레이션 시간이 흐르므로 task로 선언합니다.</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    <span class="hljs-comment">// 오브젝션(Objection): &quot;아직 할 일이 있어요!&quot; 라고 UVM에 알려주는 것</span>
    <span class="hljs-comment">// UVM은 여러 컴포넌트가 동시에 돌아가기 때문에,</span>
    <span class="hljs-comment">// 아무도 오브젝션을 올리지 않으면 &quot;모두 할 일이 없다&quot;고 판단하여 종료합니다.</span>
    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    <span class="hljs-comment">// UVM 메시지 출력 (일반 $display 대신 사용)</span>
    `uvm_info(<span class="hljs-string">&quot;HELLO&quot;</span>, <span class="hljs-string">&quot;첫 번째 UVM 프로그램이 실행되었습니다!&quot;</span>, UVM_LOW)
    `uvm_info(<span class="hljs-string">&quot;HELLO&quot;</span>, <span class="hljs-string">&quot;UVM 환경 설정 성공! 다음 챕터로 넘어갈 준비 완료!&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// 잠시 시뮬레이션 시간 진행 (100ns)</span>
    #<span class="hljs-number">100</span>;

    <span class="hljs-comment">// 오브젝션 해제: &quot;할 일 끝났습니다&quot;</span>
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// 최상위 모듈 (시뮬레이션 시작점)</span>
<span class="hljs-keyword">module</span> top;
  <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span>
    <span class="hljs-comment">// UVM 테스트 실행 - hello_test 클래스를 팩토리에서 찾아서 시작합니다</span>
    run_test(<span class="hljs-string">&quot;hello_test&quot;</span>);
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">endmodule</span>
</code></pre><p>상단의 <strong>&quot;Run&quot;</strong> 버튼을 클릭하여 실행합니다 (또는 Ctrl+Enter).</p>
<p><strong>예상 출력</strong>:</p>

<div class="svg-diagram">
<svg viewBox="0 0 600 200" xmlns="http://www.w3.org/2000/svg" style="max-width:600px;width:100%">
  
  <style>
    .diagram-box { fill: #ffffff; stroke: #334155; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-accent { fill: #eff6ff; stroke: #2563eb; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-highlight { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2.5; rx: 10; ry: 10; }
    .diagram-box-dark { fill: #1e293b; stroke: #1e293b; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-run { fill: #fef3c7; stroke: #f59e0b; stroke-width: 3; rx: 10; ry: 10; }
    .diagram-box-green { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-purple { fill: #f5f3ff; stroke: #7c3aed; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-red { fill: #fef2f2; stroke: #ef4444; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-gray { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; rx: 8; ry: 8; }
    .diagram-text { font-family: 'Noto Sans KR', sans-serif; fill: #1e293b; }
    .diagram-text-white { font-family: 'Noto Sans KR', sans-serif; fill: #ffffff; }
    .diagram-text-accent { font-family: 'Noto Sans KR', sans-serif; fill: #2563eb; }
    .diagram-text-small { font-family: 'Noto Sans KR', sans-serif; fill: #64748b; font-size: 12px; }
    .diagram-text-code { font-family: 'Fira Code', 'JetBrains Mono', monospace; fill: #1e293b; }
    .diagram-arrow { fill: none; stroke: #64748b; stroke-width: 1.5; }
    .diagram-arrow-accent { fill: none; stroke: #2563eb; stroke-width: 1.5; }
    .diagram-line { stroke: #cbd5e1; stroke-width: 1.5; stroke-dasharray: 6,3; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b" />
    </marker>
    <marker id="arrowhead-accent" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb" />
    </marker>
    <marker id="arrowhead-dark" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#1e293b" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#f59e0b" />
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect x="10" y="10" width="580" height="180" rx="10" ry="10" fill="#0f172a" filter="url(#shadow)"/>

  <!-- Title -->
  <text x="30" y="38" font-family="'Fira Code','JetBrains Mono',monospace" fill="#f59e0b" font-size="12" font-weight="bold">--- UVM Report Summary ---</text>
  <text x="30" y="58" font-family="'Fira Code','JetBrains Mono',monospace" fill="#94a3b8" font-size="11">** Report counts by severity</text>
  <text x="380" y="58" font-family="'Noto Sans KR',sans-serif" fill="#64748b" font-size="10">심각도별 메시지 개수</text>

  <!-- UVM_INFO -->
  <text x="30" y="84" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="12">UVM_INFO :    4</text>
  <text x="380" y="84" font-family="'Noto Sans KR',sans-serif" fill="#64748b" font-size="10">INFO 메시지 4개</text>

  <!-- UVM_WARNING -->
  <text x="30" y="108" font-family="'Fira Code','JetBrains Mono',monospace" fill="#fbbf24" font-size="12">UVM_WARNING :    0</text>
  <text x="380" y="108" font-family="'Noto Sans KR',sans-serif" fill="#64748b" font-size="10">경고 없음</text>

  <!-- UVM_ERROR -->
  <rect x="22" y="118" width="340" height="22" rx="4" ry="4" fill="#052e16" stroke="#10b981" stroke-width="1" opacity="0.6"/>
  <text x="30" y="134" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="12" font-weight="bold">UVM_ERROR :    0</text>
  <text x="380" y="134" font-family="'Noto Sans KR',sans-serif" fill="#10b981" font-size="11" font-weight="bold">에러 없음 ✓</text>

  <!-- UVM_FATAL -->
  <rect x="22" y="142" width="340" height="22" rx="4" ry="4" fill="#052e16" stroke="#10b981" stroke-width="1" opacity="0.6"/>
  <text x="30" y="158" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="12" font-weight="bold">UVM_FATAL :    0</text>
  <text x="380" y="158" font-family="'Noto Sans KR',sans-serif" fill="#10b981" font-size="11" font-weight="bold">치명적 에러 없음 ✓</text>

  <!-- Note -->
  <text x="300" y="182" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" fill="#94a3b8" font-size="10" font-style="italic">이 두 줄이 0이면 정상 종료!</text>
</svg>
</div><blockquote>
<p><strong>참고</strong>: 출력에 표시되는 줄 번호(예: <code>testbench.sv(28)</code>)는 시뮬레이터와 코드 붙여넣기 방식에 따라 다를 수 있습니다. 메시지 내용이 동일하면 정상입니다.</p>
</blockquote>
<h3 id="2-2-4-출력-결과-해석하기">2.2.4 출력 결과 해석하기</h3>
<p>위 출력에서 각 부분이 무엇을 의미하는지 알아봅시다. Chapter 1에서 이미 출력 형식을 배웠는데, 여기서는 <strong>Report Summary</strong> 읽는 법에 집중합니다:</p>

<div class="svg-diagram">
<svg viewBox="0 0 600 260" xmlns="http://www.w3.org/2000/svg" style="max-width:600px;width:100%">
  
  <style>
    .diagram-box { fill: #ffffff; stroke: #334155; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-accent { fill: #eff6ff; stroke: #2563eb; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-highlight { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2.5; rx: 10; ry: 10; }
    .diagram-box-dark { fill: #1e293b; stroke: #1e293b; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-run { fill: #fef3c7; stroke: #f59e0b; stroke-width: 3; rx: 10; ry: 10; }
    .diagram-box-green { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-purple { fill: #f5f3ff; stroke: #7c3aed; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-red { fill: #fef2f2; stroke: #ef4444; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-gray { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; rx: 8; ry: 8; }
    .diagram-text { font-family: 'Noto Sans KR', sans-serif; fill: #1e293b; }
    .diagram-text-white { font-family: 'Noto Sans KR', sans-serif; fill: #ffffff; }
    .diagram-text-accent { font-family: 'Noto Sans KR', sans-serif; fill: #2563eb; }
    .diagram-text-small { font-family: 'Noto Sans KR', sans-serif; fill: #64748b; font-size: 12px; }
    .diagram-text-code { font-family: 'Fira Code', 'JetBrains Mono', monospace; fill: #1e293b; }
    .diagram-arrow { fill: none; stroke: #64748b; stroke-width: 1.5; }
    .diagram-arrow-accent { fill: none; stroke: #2563eb; stroke-width: 1.5; }
    .diagram-line { stroke: #cbd5e1; stroke-width: 1.5; stroke-dasharray: 6,3; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b" />
    </marker>
    <marker id="arrowhead-accent" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb" />
    </marker>
    <marker id="arrowhead-dark" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#1e293b" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#f59e0b" />
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Message line background -->
  <rect x="10" y="10" width="580" height="36" rx="6" ry="6" fill="#0f172a"/>
  <text x="20" y="33" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="11">UVM_INFO testbench.sv(28) @ 0: uvm_test_top [HELLO] 메시지 내용</text>

  <!-- Colored underline segments (charW=6.6px, startX=20) -->
  <!-- UVM_INFO [0-7]: 20 ~ 73 -->
  <line x1="20" y1="50" x2="73" y2="50" stroke="#ef4444" stroke-width="3"/>
  <!-- testbench.sv(28) [9-24]: 79 ~ 185 -->
  <line x1="79" y1="50" x2="185" y2="50" stroke="#f59e0b" stroke-width="3"/>
  <!-- @ 0: [26-29]: 192 ~ 218 -->
  <line x1="192" y1="50" x2="218" y2="50" stroke="#10b981" stroke-width="3"/>
  <!-- uvm_test_top [31-42]: 225 ~ 304 -->
  <line x1="225" y1="50" x2="304" y2="50" stroke="#2563eb" stroke-width="3"/>
  <!-- [HELLO] [44-50]: 310 ~ 357 -->
  <line x1="310" y1="50" x2="357" y2="50" stroke="#7c3aed" stroke-width="3"/>
  <!-- 메시지 내용 [52-62]: 363 ~ 436 -->
  <line x1="363" y1="50" x2="436" y2="50" stroke="#64748b" stroke-width="3"/>

  <!-- Drop lines (from segment midpoint down to label) -->
  <line x1="46" y1="53" x2="46" y2="70" stroke="#ef4444" stroke-width="1.5"/>
  <line x1="132" y1="53" x2="132" y2="100" stroke="#f59e0b" stroke-width="1.5"/>
  <line x1="205" y1="53" x2="205" y2="130" stroke="#10b981" stroke-width="1.5"/>
  <line x1="264" y1="53" x2="264" y2="160" stroke="#2563eb" stroke-width="1.5"/>
  <line x1="334" y1="53" x2="334" y2="190" stroke="#7c3aed" stroke-width="1.5"/>
  <line x1="400" y1="53" x2="400" y2="220" stroke="#64748b" stroke-width="1.5"/>

  <!-- Labels (cascade) -->
  <rect x="10" y="68" width="170" height="26" rx="6" ry="6" fill="#fef2f2" stroke="#ef4444" stroke-width="1.5"/>
  <text x="95" y="86" text-anchor="middle" class="diagram-text" font-size="11" font-weight="bold" fill="#ef4444">① 메시지 심각도 (INFO)</text>

  <rect x="50" y="98" width="170" height="26" rx="6" ry="6" fill="#fffbeb" stroke="#f59e0b" stroke-width="1.5"/>
  <text x="135" y="116" text-anchor="middle" class="diagram-text" font-size="11" font-weight="bold" fill="#f59e0b">② 파일명과 줄 번호</text>

  <rect x="110" y="128" width="190" height="26" rx="6" ry="6" fill="#ecfdf5" stroke="#10b981" stroke-width="1.5"/>
  <text x="205" y="146" text-anchor="middle" class="diagram-text" font-size="11" font-weight="bold" fill="#10b981">③ 시뮬레이션 시간 (0ns)</text>

  <rect x="170" y="158" width="190" height="26" rx="6" ry="6" fill="#eff6ff" stroke="#2563eb" stroke-width="1.5"/>
  <text x="265" y="176" text-anchor="middle" class="diagram-text" font-size="11" font-weight="bold" fill="#2563eb">④ 컴포넌트 경로</text>

  <rect x="245" y="188" width="185" height="26" rx="6" ry="6" fill="#f5f3ff" stroke="#7c3aed" stroke-width="1.5"/>
  <text x="337" y="206" text-anchor="middle" class="diagram-text" font-size="11" font-weight="bold" fill="#7c3aed">⑤ 메시지 태그 (분류용)</text>

  <rect x="330" y="218" width="155" height="26" rx="6" ry="6" fill="#f8fafc" stroke="#64748b" stroke-width="1.5"/>
  <text x="407" y="236" text-anchor="middle" class="diagram-text" font-size="11" font-weight="bold" fill="#64748b">⑥ 출력 메시지</text>
</svg>
</div><p><strong>Report Summary 읽는 법</strong>:</p>
<p>시뮬레이션이 끝나면 UVM이 자동으로 요약 보고서를 출력합니다:</p>

<div class="svg-diagram">
<svg viewBox="0 0 600 200" xmlns="http://www.w3.org/2000/svg" style="max-width:600px;width:100%">
  
  <style>
    .diagram-box { fill: #ffffff; stroke: #334155; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-accent { fill: #eff6ff; stroke: #2563eb; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-highlight { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2.5; rx: 10; ry: 10; }
    .diagram-box-dark { fill: #1e293b; stroke: #1e293b; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-run { fill: #fef3c7; stroke: #f59e0b; stroke-width: 3; rx: 10; ry: 10; }
    .diagram-box-green { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-purple { fill: #f5f3ff; stroke: #7c3aed; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-red { fill: #fef2f2; stroke: #ef4444; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-gray { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; rx: 8; ry: 8; }
    .diagram-text { font-family: 'Noto Sans KR', sans-serif; fill: #1e293b; }
    .diagram-text-white { font-family: 'Noto Sans KR', sans-serif; fill: #ffffff; }
    .diagram-text-accent { font-family: 'Noto Sans KR', sans-serif; fill: #2563eb; }
    .diagram-text-small { font-family: 'Noto Sans KR', sans-serif; fill: #64748b; font-size: 12px; }
    .diagram-text-code { font-family: 'Fira Code', 'JetBrains Mono', monospace; fill: #1e293b; }
    .diagram-arrow { fill: none; stroke: #64748b; stroke-width: 1.5; }
    .diagram-arrow-accent { fill: none; stroke: #2563eb; stroke-width: 1.5; }
    .diagram-line { stroke: #cbd5e1; stroke-width: 1.5; stroke-dasharray: 6,3; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b" />
    </marker>
    <marker id="arrowhead-accent" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb" />
    </marker>
    <marker id="arrowhead-dark" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#1e293b" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#f59e0b" />
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect x="10" y="10" width="580" height="180" rx="10" ry="10" fill="#0f172a" filter="url(#shadow)"/>

  <!-- Title -->
  <text x="30" y="38" font-family="'Fira Code','JetBrains Mono',monospace" fill="#f59e0b" font-size="12" font-weight="bold">--- UVM Report Summary ---</text>
  <text x="30" y="58" font-family="'Fira Code','JetBrains Mono',monospace" fill="#94a3b8" font-size="11">** Report counts by severity</text>
  <text x="380" y="58" font-family="'Noto Sans KR',sans-serif" fill="#64748b" font-size="10">심각도별 메시지 개수</text>

  <!-- UVM_INFO -->
  <text x="30" y="84" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="12">UVM_INFO :    4</text>
  <text x="380" y="84" font-family="'Noto Sans KR',sans-serif" fill="#64748b" font-size="10">INFO 메시지 4개</text>

  <!-- UVM_WARNING -->
  <text x="30" y="108" font-family="'Fira Code','JetBrains Mono',monospace" fill="#fbbf24" font-size="12">UVM_WARNING :    0</text>
  <text x="380" y="108" font-family="'Noto Sans KR',sans-serif" fill="#64748b" font-size="10">경고 없음</text>

  <!-- UVM_ERROR -->
  <rect x="22" y="118" width="340" height="22" rx="4" ry="4" fill="#052e16" stroke="#10b981" stroke-width="1" opacity="0.6"/>
  <text x="30" y="134" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="12" font-weight="bold">UVM_ERROR :    0</text>
  <text x="380" y="134" font-family="'Noto Sans KR',sans-serif" fill="#10b981" font-size="11" font-weight="bold">에러 없음 ✓</text>

  <!-- UVM_FATAL -->
  <rect x="22" y="142" width="340" height="22" rx="4" ry="4" fill="#052e16" stroke="#10b981" stroke-width="1" opacity="0.6"/>
  <text x="30" y="158" font-family="'Fira Code','JetBrains Mono',monospace" fill="#4ade80" font-size="12" font-weight="bold">UVM_FATAL :    0</text>
  <text x="380" y="158" font-family="'Noto Sans KR',sans-serif" fill="#10b981" font-size="11" font-weight="bold">치명적 에러 없음 ✓</text>

  <!-- Note -->
  <text x="300" y="182" text-anchor="middle" font-family="'Noto Sans KR',sans-serif" fill="#94a3b8" font-size="10" font-style="italic">이 두 줄이 0이면 정상 종료!</text>
</svg>
</div><blockquote>
<p><strong>핵심</strong>: <code>UVM_ERROR: 0</code>, <code>UVM_FATAL: 0</code>이면 시뮬레이션이 정상 종료된 것입니다. 이 두 줄만 확인하면 됩니다.</p>
</blockquote>
<h3 id="2-2-5-자주-발생하는-에러와-해결법">2.2.5 자주 발생하는 에러와 해결법</h3>
<h4>에러 1: UVM 라이브러리를 못 찾는 경우</h4>
<pre><code>** Error: testbench.sv(2): `include &quot;uvm_macros.svh&quot; - file not found
</code></pre><p><strong>원인</strong>: EDA Playground에서 UVM 라이브러리를 선택하지 않았습니다.
<strong>해결</strong>: 좌측 패널 → &quot;UVM/OVM&quot; → <code>UVM 1.2</code> 선택</p>
<h4>에러 2: 팩토리(Factory) 등록 누락</h4>
<pre><code>UVM_FATAL @ 0: reporter [INVTST] Requested test from call to run_test(hello_test) not found.
</code></pre><p><strong>원인</strong>: <code>`uvm_component_utils(hello_test)</code> 매크로를 빠뜨렸습니다. <code>run_test()</code>가 팩토리에서 클래스를 찾으려고 했지만, 등록되어 있지 않아서 실패한 것입니다.
<strong>해결</strong>: class 선언 바로 다음 줄에 매크로 추가</p>
<h4>에러 3: 시뮬레이션이 바로 끝나는 경우</h4>
<pre><code>UVM_INFO ... @ 0: uvm_test_top [HELLO] ... (시간 지연 이후의 메시지가 출력되지 않음)
</code></pre><p><strong>원인</strong>: <code>phase.raise_objection(this)</code>를 빠뜨렸습니다. UVM은 아무도 오브젝션을 올리지 않으면 &quot;할 일이 없다&quot;고 판단하여 run_phase를 즉시 종료합니다. 그 결과 <code>#100</code> 이후에 배치된 코드는 실행되지 않습니다.
<strong>해결</strong>: run_phase 시작 부분에 <code>raise_objection</code> 추가, 끝에 <code>drop_objection</code> 추가</p>
<p>이제 EDA Playground에서 코드를 성공적으로 실행했습니다. 다음으로, 방금 실행한 UVM 코드의 구조를 하나씩 뜯어봅시다.</p>
<hr>
<h2 id="2-3-uvm-코드-구조-이해하기">2.3 UVM 코드 구조 이해하기</h2>
<blockquote>
<p><strong>이 절의 목표</strong>: UVM 프로그램의 3가지 필수 요소(라이브러리, 컴포넌트, 시작점)를 구분할 수 있게 됩니다.</p>
</blockquote>
<h3 id="2-3-1-uvm-프로그램의-기본-뼈대">2.3.1 UVM 프로그램의 기본 뼈대</h3>
<p>모든 UVM 프로그램은 아래 3가지 요소를 반드시 포함합니다:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// === 1. UVM 라이브러리 가져오기 (필수) ===</span>
<span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;   </span><span class="hljs-comment">// UVM 매크로 정의 파일</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;           <span class="hljs-comment">// UVM 패키지의 모든 클래스 가져오기</span>

<span class="hljs-comment">// === 2. UVM 컴포넌트 정의 (테스트 클래스) ===</span>
<span class="hljs-keyword">class</span> my_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(my_test)       <span class="hljs-comment">// 팩토리(Factory) 등록</span>
  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name, uvm_component parent);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>
  <span class="hljs-comment">// ... 테스트 내용 ...</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-comment">// === 3. 시뮬레이션 시작점 ===</span>
<span class="hljs-keyword">module</span> top;
  <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span>
    run_test(<span class="hljs-string">&quot;my_test&quot;</span>);              <span class="hljs-comment">// 테스트 실행</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">endmodule</span>
</code></pre><p>각 부분의 역할을 정리하면:</p>
<table>
<thead>
<tr>
<th>부분</th>
<th>코드</th>
<th>비유</th>
</tr>
</thead>
<tbody><tr>
<td>라이브러리 가져오기</td>
<td><code>`include</code>, <code>import</code></td>
<td>요리하기 전에 재료와 도구 준비</td>
</tr>
<tr>
<td>컴포넌트 정의</td>
<td><code>class ... extends ...</code></td>
<td>레시피(어떻게 검증할지) 작성</td>
</tr>
<tr>
<td>시작점</td>
<td><code>run_test()</code></td>
<td>&quot;요리 시작!&quot; 버튼 누르기</td>
</tr>
</tbody></table>
<h3>2.3.2 <code>include</code>와 <code>import</code>의 차이</h3>
<p>초보자가 자주 헷갈리는 부분입니다:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;   </span><span class="hljs-comment">// 전처리기 지시자: 파일 내용을 그대로 복사/붙여넣기</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;           <span class="hljs-comment">// SystemVerilog 패키지: 클래스/함수를 사용 가능하게 등록</span>
</code></pre><table>
<thead>
<tr>
<th>비교</th>
<th><code>`include</code></th>
<th><code>import</code></th>
</tr>
</thead>
<tbody><tr>
<td>역할</td>
<td>파일 내용을 복사</td>
<td>패키지 안의 클래스/함수를 사용 가능하게 함</td>
</tr>
<tr>
<td>C 비유</td>
<td><code>#include &lt;header.h&gt;</code></td>
<td><code>using namespace std;</code> (패키지 안의 모든 것을 사용하겠다는 선언)</td>
</tr>
<tr>
<td>없으면</td>
<td>매크로 사용 불가</td>
<td>UVM 클래스 사용 불가</td>
</tr>
<tr>
<td>순서</td>
<td><strong>반드시 import보다 먼저</strong></td>
<td><code>include</code> 다음에</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>주의</strong>: <code>`include</code>를 <code>import</code>보다 먼저 써야 합니다. 순서가 바뀌면 컴파일 에러가 발생합니다.</p>
</blockquote>
<h3>2.3.3 <code>uvm_info</code> vs <code>$display</code> 비교</h3>
<p>Chapter 1에서 <code>uvm_info</code> 매크로를 배웠습니다. 여기서는 기존의 <code>$display</code>와 비교하여, 왜 UVM에서는 <code>uvm_info</code>를 사용하는지 집중적으로 알아봅니다:</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// 전통적 방식 (비추천)</span>
<span class="hljs-built_in">$display</span>(<span class="hljs-string">&quot;Hello World&quot;</span>);

<span class="hljs-comment">// UVM 방식 (추천)</span>
`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;Hello World&quot;</span>, UVM_LOW)
<span class="hljs-comment">//          │        │             │</span>
<span class="hljs-comment">//          │        │             └─ 출력 상세 수준(Verbosity): LOW=항상 출력</span>
<span class="hljs-comment">//          │        └─ 출력할 메시지</span>
<span class="hljs-comment">//          └─ 메시지 태그 (로그 필터링에 사용)</span>
</code></pre><p><strong>왜 <code>$display</code> 대신 <code>uvm_info</code>를 쓸까요?</strong></p>
<table>
<thead>
<tr>
<th>기능</th>
<th><code>$display</code></th>
<th><code>`uvm_info</code></th>
</tr>
</thead>
<tbody><tr>
<td>파일/줄 번호</td>
<td>X</td>
<td>O (자동 포함)</td>
</tr>
<tr>
<td>시뮬레이션 시간</td>
<td>X</td>
<td>O (자동 포함)</td>
</tr>
<tr>
<td>컴포넌트 위치</td>
<td>X</td>
<td>O (어느 컴포넌트에서 출력했는지)</td>
</tr>
<tr>
<td>필터링</td>
<td>X</td>
<td>O (출력 상세 수준별 표시/숨기기 가능)</td>
</tr>
<tr>
<td>리포트 요약</td>
<td>X</td>
<td>O (끝에 자동 요약)</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>실무 팁</strong>: 회사에서 <code>$display</code>를 쓰면 코드 리뷰에서 지적받습니다. 처음부터 <code>uvm_info</code> 사용을 습관화하세요.</p>
</blockquote>
<p><strong>출력 상세 수준(Verbosity)</strong>:</p>
<p>Chapter 1에서 소개한 출력 상세 수준을 다시 정리합니다:</p>
<pre><code class="hljs language-systemverilog">`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;항상 보이는 메시지&quot;</span>, UVM_NONE)    <span class="hljs-comment">// 중요도 0 (항상 표시)</span>
`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;중요한 메시지&quot;</span>, UVM_LOW)           <span class="hljs-comment">// 중요도 100 (기본 표시)</span>
`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;보통 메시지&quot;</span>, UVM_MEDIUM)          <span class="hljs-comment">// 중요도 200</span>
`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;상세 메시지&quot;</span>, UVM_HIGH)            <span class="hljs-comment">// 중요도 300</span>
`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;최상세 메시지&quot;</span>, UVM_FULL)          <span class="hljs-comment">// 중요도 400</span>
`uvm_info(<span class="hljs-string">&quot;TAG&quot;</span>, <span class="hljs-string">&quot;디버깅용 메시지&quot;</span>, UVM_DEBUG)       <span class="hljs-comment">// 중요도 500 (디버깅 시만)</span>
</code></pre><p>시뮬레이션 실행 시 출력 상세 수준을 조절하면, 필요한 메시지만 골라서 볼 수 있습니다. 이 기능은 Chapter 10(디버깅 기법)에서 자세히 다룹니다.</p>
<p>UVM 코드의 기본 구조를 이해했으니, 이제 직접 코드를 수정하면서 체험해봅시다.</p>
<hr>
<h2 id="2-4-실습-uvm-코드-수정해보기">2.4 실습: UVM 코드 수정해보기</h2>
<blockquote>
<p><strong>이 절의 목표</strong>: UVM 코드를 직접 수정하고 실행하면서, 메시지 출력과 페이즈(Phase) 동작을 체험합니다.</p>
</blockquote>
<h3 id="2-4-1-실습-1-메시지-바꿔보기-쉬움">2.4.1 실습 1: 메시지 바꿔보기 (쉬움)</h3>
<p><strong>[예제 2-2] 메시지 변경 실습</strong></p>
<p>Hello World 코드에서 메시지를 수정하고 실행해보세요.</p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// 파일: testbench.sv</span>
<span class="hljs-comment">// [예제 2-2] 메시지 변경 실습</span>

<span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;

<span class="hljs-keyword">class</span> hello_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(hello_test)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;hello_test&quot;</span>, uvm_component parent = <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    <span class="hljs-comment">// 아래 메시지를 자유롭게 바꿔보세요!</span>
    `uvm_info(<span class="hljs-string">&quot;MY_TAG&quot;</span>, <span class="hljs-string">&quot;나의 첫 UVM 메시지입니다!&quot;</span>, UVM_LOW)

    <span class="hljs-comment">// 다른 심각도도 실험해보세요</span>
    `uvm_warning(<span class="hljs-string">&quot;MY_TAG&quot;</span>, <span class="hljs-string">&quot;이것은 경고 메시지입니다&quot;</span>)
    `uvm_error(<span class="hljs-string">&quot;MY_TAG&quot;</span>, <span class="hljs-string">&quot;이것은 에러 메시지입니다&quot;</span>)

    #<span class="hljs-number">100</span>;
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-keyword">module</span> top;
  <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span>
    run_test(<span class="hljs-string">&quot;hello_test&quot;</span>);
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">endmodule</span>
</code></pre><p><strong>실행 후 확인사항</strong>:</p>
<ul>
<li>UVM Report Summary에서 WARNING과 ERROR 카운트가 증가했나요?</li>
<li><code>uvm_error</code>를 10개 이상 넣으면 어떻게 되나요? (직접 해보세요!)</li>
</ul>
<blockquote>
<p><strong>참고</strong>: <code>uvm_error</code>는 이 실습에서 실험 목적으로 사용한 것입니다. 실제 코드에서는 에러가 없는 것이 정상입니다. UVM은 기본적으로 에러가 10개 누적되면 시뮬레이션을 자동 중단합니다.</p>
</blockquote>
<h3 id="2-4-2-실습-2-여러-페이즈-phase-체험하기-보통">2.4.2 실습 2: 여러 페이즈(Phase) 체험하기 (보통)</h3>
<p>UVM에는 run_phase 외에도 여러 페이즈(Phase)가 있습니다. Chapter 1에서 9개의 페이즈를 소개했는데, 이번 실습에서는 그 중 가장 핵심적인 4개를 직접 체험합니다. 나머지 페이즈도 동일한 순서 규칙에 따라 실행됩니다.</p>
<p><strong>[예제 2-3] 페이즈(Phase) 순서 확인</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// 파일: testbench.sv</span>
<span class="hljs-comment">// [예제 2-3] UVM 페이즈(Phase) 순서 확인</span>
<span class="hljs-comment">// 각 페이즈가 어떤 순서로 실행되는지 직접 확인합니다</span>

<span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;

<span class="hljs-keyword">class</span> phase_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(phase_test)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;phase_test&quot;</span>, uvm_component parent = <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// === Build Phase: 컴포넌트 생성 단계 ===</span>
  <span class="hljs-comment">// function: 시간 지연 없이 즉시 완료되는 동작 (시뮬레이션 시간이 흐르지 않음)</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> build_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.build_phase</span>(phase);
    `uvm_info(<span class="hljs-string">&quot;PHASE&quot;</span>, <span class="hljs-string">&quot;[1] build_phase - 컴포넌트를 만드는 단계&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// === Connect Phase: 컴포넌트 연결 단계 ===</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> connect_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.connect_phase</span>(phase);
    `uvm_info(<span class="hljs-string">&quot;PHASE&quot;</span>, <span class="hljs-string">&quot;[2] connect_phase - 컴포넌트를 서로 연결하는 단계&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-comment">// === Run Phase: 실제 시뮬레이션 단계 ===</span>
  <span class="hljs-comment">// task: 시간 지연(#delay)을 사용할 수 있음 (시뮬레이션 시간이 흐름)</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);
    `uvm_info(<span class="hljs-string">&quot;PHASE&quot;</span>, <span class="hljs-string">&quot;[3] run_phase - 시뮬레이션 실행 중!&quot;</span>, UVM_LOW)
    #<span class="hljs-number">100</span>;
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>

  <span class="hljs-comment">// === Report Phase: 결과 보고 단계 ===</span>
  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">function</span> <span class="hljs-keyword">void</span> report_phase(uvm_phase phase);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.report_phase</span>(phase);
    `uvm_info(<span class="hljs-string">&quot;PHASE&quot;</span>, <span class="hljs-string">&quot;[4] report_phase - 결과를 정리하는 단계&quot;</span>, UVM_LOW)
  <span class="hljs-keyword">endfunction</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-keyword">module</span> top;
  <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span>
    run_test(<span class="hljs-string">&quot;phase_test&quot;</span>);
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">endmodule</span>
</code></pre><p><strong>예상 출력 순서</strong>:</p>
<pre><code>UVM_INFO ... [PHASE] [1] build_phase - 컴포넌트를 만드는 단계
UVM_INFO ... [PHASE] [2] connect_phase - 컴포넌트를 서로 연결하는 단계
UVM_INFO ... [PHASE] [3] run_phase - 시뮬레이션 실행 중!
UVM_INFO ... [PHASE] [4] report_phase - 결과를 정리하는 단계
</code></pre><blockquote>
<p><strong>관찰</strong>: 페이즈가 정해진 순서대로 실행됩니다. build(만들기) → connect(연결하기) → run(실행하기) → report(보고하기) — 마치 레고를 조립할 때 &quot;부품 준비 → 조립 → 작동 테스트 → 결과 기록&quot; 순서와 같습니다. 이 순서는 UVM이 자동으로 관리합니다. 페이즈의 자세한 내용은 Chapter 4에서 배웁니다.</p>
<p><strong>function vs task</strong>: build_phase, connect_phase, report_phase는 <code>function</code>으로 선언되어 있고, run_phase만 <code>task</code>로 선언되어 있습니다. <code>task</code>는 시간 지연(<code>#delay</code>)을 사용할 수 있기 때문입니다. run_phase 안에 <code>#100</code>이 있으므로 반드시 <code>task</code>여야 합니다.</p>
</blockquote>
<h3 id="2-4-3-실습-3-반복-테스트-만들기-보통">2.4.3 실습 3: 반복 테스트 만들기 (보통)</h3>
<p>같은 동작을 여러 번 반복하는 테스트를 만들어 봅시다. 실무에서는 이런 식으로 반복 테스트를 많이 합니다:</p>
<p><strong>[예제 2-4] 반복 테스트</strong></p>
<pre><code class="hljs language-systemverilog"><span class="hljs-comment">// 파일: testbench.sv</span>
<span class="hljs-comment">// [예제 2-4] 반복 테스트</span>
<span class="hljs-comment">// for 루프를 사용하여 여러 번 테스트하는 패턴</span>

<span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;

<span class="hljs-keyword">class</span> loop_test <span class="hljs-keyword">extends</span> uvm_test;
  `uvm_component_utils(loop_test)

  <span class="hljs-keyword">function</span> <span class="hljs-keyword">new</span>(<span class="hljs-keyword">string</span> name = <span class="hljs-string">&quot;loop_test&quot;</span>, uvm_component parent = <span class="hljs-literal">null</span>);
    <span class="hljs-keyword">super</span><span class="hljs-variable">.new</span>(name, parent);
  <span class="hljs-keyword">endfunction</span>

  <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">task</span> run_phase(uvm_phase phase);
    phase<span class="hljs-variable">.raise_objection</span>(<span class="hljs-keyword">this</span>);

    <span class="hljs-comment">// 5번 반복 테스트</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) <span class="hljs-keyword">begin</span>
      <span class="hljs-comment">// $sformatf: 문자열 포맷팅 (C의 sprintf와 유사)</span>
      `uvm_info(<span class="hljs-string">&quot;LOOP&quot;</span>, <span class="hljs-built_in">$sformatf</span>(<span class="hljs-string">&quot;테스트 반복 %0d/5 실행 중...&quot;</span>, i+<span class="hljs-number">1</span>), UVM_LOW)
      #<span class="hljs-number">10</span>;  <span class="hljs-comment">// 10ns 대기</span>
    <span class="hljs-keyword">end</span>

    `uvm_info(<span class="hljs-string">&quot;LOOP&quot;</span>, <span class="hljs-string">&quot;모든 반복 테스트 완료!&quot;</span>, UVM_LOW)
    phase<span class="hljs-variable">.drop_objection</span>(<span class="hljs-keyword">this</span>);
  <span class="hljs-keyword">endtask</span>
<span class="hljs-keyword">endclass</span>

<span class="hljs-keyword">module</span> top;
  <span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span>
    run_test(<span class="hljs-string">&quot;loop_test&quot;</span>);
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">endmodule</span>
</code></pre><p><strong>예상 출력</strong>:</p>
<pre><code>UVM_INFO testbench.sv(19) @ 0: uvm_test_top [LOOP] 테스트 반복 1/5 실행 중...
UVM_INFO testbench.sv(19) @ 10: uvm_test_top [LOOP] 테스트 반복 2/5 실행 중...
UVM_INFO testbench.sv(19) @ 20: uvm_test_top [LOOP] 테스트 반복 3/5 실행 중...
UVM_INFO testbench.sv(19) @ 30: uvm_test_top [LOOP] 테스트 반복 4/5 실행 중...
UVM_INFO testbench.sv(19) @ 40: uvm_test_top [LOOP] 테스트 반복 5/5 실행 중...
UVM_INFO testbench.sv(23) @ 50: uvm_test_top [LOOP] 모든 반복 테스트 완료!
</code></pre><blockquote>
<p><strong>관찰</strong>: 시뮬레이션 시간(@)이 0, 10, 20, 30, 40으로 증가합니다. <code>#10</code>이 10ns 대기를 의미하기 때문입니다.</p>
</blockquote>
<p>여기까지 EDA Playground에서 충분히 실습했습니다. 더 큰 프로젝트를 위한 로컬 환경이 궁금하다면, 다음 절을 계속 읽어보세요.</p>
<hr>
<h2 id="2-5-로컬-환경-설정-선택-사항">2.5 로컬 환경 설정 (선택 사항)</h2>
<blockquote>
<p><strong>Part 1(시작하기, Chapter 1~5) 전체를 EDA Playground만으로 실습할 수 있습니다.</strong>
이 절은 로컬 환경을 미리 준비하고 싶은 분만 읽으세요.
Part 2(깊이 파기)에서 로컬 환경이 필요해지면 그때 돌아와도 충분합니다.
<strong>지금 이 절을 건너뛰어도 학습에 전혀 지장이 없습니다. → <a href="#26-uvm-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EA%B5%AC%EC%A1%B0">2.6절로 바로 이동</a></strong></p>
</blockquote>
<h3 id="2-5-1-왜-로컬-환경이-필요할까">2.5.1 왜 로컬 환경이 필요할까?</h3>
<p>EDA Playground는 편리하지만 한계가 있습니다:</p>
<table>
<thead>
<tr>
<th>항목</th>
<th>EDA Playground</th>
<th>로컬 환경</th>
</tr>
</thead>
<tbody><tr>
<td>파일 개수</td>
<td>제한적 (2~3개)</td>
<td>무제한</td>
</tr>
<tr>
<td>시뮬레이션 시간</td>
<td>제한 (약 10초)</td>
<td>무제한</td>
</tr>
<tr>
<td>파형 분석</td>
<td>제한적</td>
<td>완전한 기능 (DVE, Verdi, QuestaSim GUI 등 — Chapter 10에서 상세히 다룹니다)</td>
</tr>
<tr>
<td>디버깅</td>
<td>로그만 가능</td>
<td>대화형 디버거 사용 가능</td>
</tr>
<tr>
<td>프로젝트 규모</td>
<td>작은 예제만</td>
<td>실무급 프로젝트 가능</td>
</tr>
</tbody></table>
<h3 id="2-5-2-운영체제-준비">2.5.2 운영체제 준비</h3>
<p>반도체 업계에서는 거의 모든 작업을 <strong>Linux</strong>에서 합니다. Windows나 macOS를 사용하고 있다면:</p>
<table>
<thead>
<tr>
<th>현재 OS</th>
<th>추천 방법</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Linux</strong></td>
<td>바로 사용 가능</td>
</tr>
<tr>
<td><strong>Windows</strong></td>
<td>WSL2 (Windows Subsystem for Linux) 설치</td>
</tr>
<tr>
<td><strong>macOS</strong></td>
<td>Docker 또는 UTM으로 Linux VM 설정</td>
</tr>
</tbody></table>
<p><strong>WSL2 설치 (Windows 사용자)</strong>:</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># PowerShell을 관리자 권한으로 실행하고:</span>
wsl --install

<span class="hljs-comment"># 설치 완료 후 재부팅</span>
<span class="hljs-comment"># Ubuntu가 기본으로 설치됩니다</span>
</code></pre><blockquote>
<p><strong>실무 팁</strong>: 팹리스 회사에서는 주로 CentOS/RHEL 또는 Ubuntu를 사용합니다. WSL2에 Ubuntu를 설치하면 실무와 가장 비슷한 환경이 됩니다.</p>
</blockquote>
<h3 id="2-5-3-questa-intel-fpga-edition-설치">2.5.3 Questa (Intel FPGA Edition) 설치</h3>
<p>Intel FPGA 사용자를 위해 제공되는 무료 버전으로, SystemVerilog와 UVM을 지원합니다. 참고로 이 제품은 2.1.2절에서 소개한 상용 Questa와는 별도의 제품(무료 제한판)입니다.</p>
<p><strong>설치 순서</strong>:</p>
<ol>
<li>Intel FPGA 다운로드 페이지에서 &quot;Questa - Intel FPGA Edition&quot; 다운로드</li>
<li>라이선스 파일 요청 (무료, Intel 계정 필요)</li>
<li>설치 및 환경 변수 설정:</li>
</ol>
<pre><code class="hljs language-bash"><span class="hljs-comment"># ~/.bashrc에 추가</span>
<span class="hljs-built_in">export</span> QUESTA_HOME=/opt/intelFPGA/questa_fe
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$QUESTA_HOME</span>/bin:<span class="hljs-variable">$PATH</span>
<span class="hljs-built_in">export</span> LM_LICENSE_FILE=/path/to/license.dat

<span class="hljs-comment"># 설정 적용</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre><ol start="4">
<li>설치 확인:</li>
</ol>
<pre><code class="hljs language-bash"><span class="hljs-comment"># 버전 확인 (출력되면 설치 성공)</span>
vsim -version
</code></pre><h3 id="2-5-4-uvm-라이브러리-설정">2.5.4 UVM 라이브러리 설정</h3>
<p>상용 시뮬레이터에는 UVM 라이브러리가 내장되어 있는 경우가 많습니다. 별도 설정이 필요한 경우:</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># UVM 소스 다운로드 (Accellera에서 제공)</span>
<span class="hljs-comment"># https://www.accellera.org/downloads/standards/uvm 에서 다운로드</span>

<span class="hljs-comment"># 다운로드 후 압축 해제</span>
tar -xzf UVM-1800.2-2020-2.0.tar.gz

<span class="hljs-comment"># 환경 변수 설정 (~/.bashrc에 추가)</span>
<span class="hljs-built_in">export</span> UVM_HOME=/path/to/uvm-1800.2
</code></pre><p><strong>시뮬레이터별 UVM 컴파일 옵션</strong>:</p>
<table>
<thead>
<tr>
<th>시뮬레이터</th>
<th>컴파일 명령</th>
<th>UVM 옵션</th>
</tr>
</thead>
<tbody><tr>
<td><strong>VCS</strong></td>
<td><code>vcs</code></td>
<td><code>-sverilog -ntb_opts uvm-1.2</code> (또는 <code>-ntb_opts uvm</code>)</td>
</tr>
<tr>
<td><strong>Questa</strong></td>
<td><code>vlog + vsim</code></td>
<td><code>+incdir+$UVM_HOME/src $UVM_HOME/src/uvm_pkg.sv</code></td>
</tr>
<tr>
<td><strong>Xcelium</strong></td>
<td><code>xrun</code></td>
<td><code>-uvm -uvmhome $UVM_HOME</code></td>
</tr>
</tbody></table>
<blockquote>
<p><strong>중요</strong>: 시뮬레이터마다 옵션이 다릅니다. 이 표를 북마크해두고 필요할 때 참조하세요. 최신 버전의 시뮬레이터에서는 UVM이 내장되어 있어 별도 옵션 없이 사용할 수 있는 경우도 있습니다.</p>
</blockquote>
<h3 id="2-5-5-첫-로컬-컴파일-테스트">2.5.5 첫 로컬 컴파일 테스트</h3>
<p>위 Hello World 코드([예제 2-1])를 <code>testbench.sv</code> 파일로 저장하고:</p>
<pre><code class="hljs language-bash"><span class="hljs-comment"># Questa로 컴파일 및 실행</span>
vlib work
vlog +incdir+<span class="hljs-variable">$UVM_HOME</span>/src <span class="hljs-variable">$UVM_HOME</span>/src/uvm_pkg.sv testbench.sv
vsim -c work.top -<span class="hljs-keyword">do</span> <span class="hljs-string">&quot;run -all; quit&quot;</span>

<span class="hljs-comment"># VCS로 컴파일 및 실행</span>
vcs -sverilog -ntb_opts uvm-1.2 testbench.sv -o simv
./simv

<span class="hljs-comment"># Xcelium으로 컴파일 및 실행</span>
xrun -uvm testbench.sv
</code></pre><blockquote>
<p><strong>참고</strong>: 코드에서 <code>run_test(&quot;hello_test&quot;)</code>로 테스트 이름을 직접 지정했으므로, 커맨드라인에서 <code>+UVM_TESTNAME</code>은 생략할 수 있습니다. 실무에서는 <code>run_test()</code>를 인자 없이 호출하고, 커맨드라인에서 <code>+UVM_TESTNAME=테스트명</code>으로 테스트를 지정하는 패턴을 더 많이 사용합니다. 이렇게 하면 코드를 수정하지 않고도 다양한 테스트를 실행할 수 있기 때문입니다.</p>
</blockquote>
<p>EDA Playground에서 본 것과 동일한 출력이 나오면 로컬 환경 설정 성공입니다.</p>
<hr>
<h2 id="2-6-uvm-프로젝트-디렉토리-구조">2.6 UVM 프로젝트 디렉토리 구조</h2>
<h3 id="2-6-1-실무-표준-디렉토리-구조">2.6.1 실무 표준 디렉토리 구조</h3>
<blockquote>
<p><strong>이 구조를 지금 만들 필요도, 외울 필요도 없습니다.</strong> 아래에 나오는 agents, sequences, scoreboard 같은 이름은 아직 배우지 않은 개념입니다. 각 폴더가 무슨 역할을 하는지는 해당 챕터에서 하나씩 만들면서 자연스럽게 배우게 됩니다. 지금은 &quot;실무에서는 이런 식으로 파일을 정리한다&quot;는 것만 훑어보세요.</p>
</blockquote>
<p>팹리스 회사에서 실제로 사용하는 UVM 프로젝트 구조입니다:</p>

<div class="svg-diagram">
<svg viewBox="0 0 720 480" xmlns="http://www.w3.org/2000/svg" style="max-width:720px;width:100%">
  
  <style>
    .diagram-box { fill: #ffffff; stroke: #334155; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-accent { fill: #eff6ff; stroke: #2563eb; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-highlight { fill: #fef3c7; stroke: #f59e0b; stroke-width: 2.5; rx: 10; ry: 10; }
    .diagram-box-dark { fill: #1e293b; stroke: #1e293b; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-run { fill: #fef3c7; stroke: #f59e0b; stroke-width: 3; rx: 10; ry: 10; }
    .diagram-box-green { fill: #ecfdf5; stroke: #10b981; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-purple { fill: #f5f3ff; stroke: #7c3aed; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-red { fill: #fef2f2; stroke: #ef4444; stroke-width: 2; rx: 10; ry: 10; }
    .diagram-box-gray { fill: #f8fafc; stroke: #94a3b8; stroke-width: 1.5; rx: 8; ry: 8; }
    .diagram-text { font-family: 'Noto Sans KR', sans-serif; fill: #1e293b; }
    .diagram-text-white { font-family: 'Noto Sans KR', sans-serif; fill: #ffffff; }
    .diagram-text-accent { font-family: 'Noto Sans KR', sans-serif; fill: #2563eb; }
    .diagram-text-small { font-family: 'Noto Sans KR', sans-serif; fill: #64748b; font-size: 12px; }
    .diagram-text-code { font-family: 'Fira Code', 'JetBrains Mono', monospace; fill: #1e293b; }
    .diagram-arrow { fill: none; stroke: #64748b; stroke-width: 1.5; }
    .diagram-arrow-accent { fill: none; stroke: #2563eb; stroke-width: 1.5; }
    .diagram-line { stroke: #cbd5e1; stroke-width: 1.5; stroke-dasharray: 6,3; }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#64748b" />
    </marker>
    <marker id="arrowhead-accent" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#2563eb" />
    </marker>
    <marker id="arrowhead-dark" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#1e293b" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="8" markerHeight="5.6" refX="7" refY="2.8" orient="auto">
      <polygon points="0 0, 8 2.8, 0 5.6" fill="#f59e0b" />
    </marker>
    <filter id="shadow" x="-5%" y="-5%" width="115%" height="115%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
  </defs>

  <!-- Root -->
  <rect x="10" y="8" width="700" height="462" rx="12" ry="12" fill="#f8fafc" stroke="#94a3b8" stroke-width="1.5"/>
  <rect x="20" y="16" width="180" height="32" class="diagram-box-highlight" filter="url(#shadow)"/>
  <text x="110" y="37" text-anchor="middle" class="diagram-text-code" font-size="13" font-weight="bold">project_root/</text>

  <!-- rtl/ -->
  <line x1="40" y1="48" x2="40" y2="76" stroke="#94a3b8" stroke-width="1.5"/>
  <line x1="40" y1="76" x2="60" y2="76" stroke="#94a3b8" stroke-width="1.5"/>
  <rect x="64" y="60" width="120" height="32" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="124" y="81" text-anchor="middle" class="diagram-text-code" font-size="11" font-weight="bold">rtl/</text>
  <text x="200" y="81" class="diagram-text-small" font-size="10">RTL 설계 파일 (DUT)</text>
  <text x="200" y="66" class="diagram-text-code" font-size="9" fill="#94a3b8">uart_tx.sv, uart_rx.sv</text>

  <!-- tb/ group -->
  <line x1="40" y1="76" x2="40" y2="116" stroke="#94a3b8" stroke-width="1.5"/>
  <line x1="40" y1="116" x2="60" y2="116" stroke="#94a3b8" stroke-width="1.5"/>
  <rect x="64" y="100" width="120" height="32" class="diagram-box-accent" filter="url(#shadow)"/>
  <text x="124" y="121" text-anchor="middle" class="diagram-text-code" font-size="11" font-weight="bold" fill="#2563eb">tb/</text>
  <text x="200" y="121" class="diagram-text-small" font-size="10" fill="#2563eb" font-weight="bold">테스트벤치 (UVM 환경)</text>

  <!-- tb/ children -->
  <line x1="90" y1="132" x2="90" y2="156" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="156" x2="110" y2="156" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="142" width="130" height="28" class="diagram-box-green" rx="6" ry="6"/>
  <text x="179" y="160" text-anchor="middle" class="diagram-text-code" font-size="10">env/</text>
  <text x="258" y="160" class="diagram-text-small" font-size="10">환경 컴포넌트</text>
  <text x="380" y="160" class="diagram-text-small" font-size="9" fill="#10b981">Ch.5</text>

  <line x1="90" y1="156" x2="90" y2="186" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="186" x2="110" y2="186" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="172" width="130" height="28" class="diagram-box-purple" rx="6" ry="6"/>
  <text x="179" y="190" text-anchor="middle" class="diagram-text-code" font-size="10">agents/</text>
  <text x="258" y="190" class="diagram-text-small" font-size="10">Driver, Monitor, Sequencer</text>
  <text x="430" y="190" class="diagram-text-small" font-size="9" fill="#7c3aed">Ch.7</text>

  <line x1="90" y1="186" x2="90" y2="216" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="216" x2="110" y2="216" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="202" width="130" height="28" class="diagram-box-accent" rx="6" ry="6"/>
  <text x="179" y="220" text-anchor="middle" class="diagram-text-code" font-size="10">sequences/</text>
  <text x="258" y="220" class="diagram-text-small" font-size="10">테스트 데이터 생성</text>
  <text x="390" y="220" class="diagram-text-small" font-size="9" fill="#2563eb">Ch.6</text>

  <line x1="90" y1="216" x2="90" y2="246" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="246" x2="110" y2="246" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="232" width="130" height="28" class="diagram-box" rx="6" ry="6"/>
  <text x="179" y="250" text-anchor="middle" class="diagram-text-code" font-size="10">tests/</text>
  <text x="258" y="250" class="diagram-text-small" font-size="10">테스트 케이스</text>
  <text x="360" y="250" class="diagram-text-small" font-size="9" fill="#334155">Ch.9</text>

  <line x1="90" y1="246" x2="90" y2="276" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="276" x2="110" y2="276" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="262" width="130" height="28" class="diagram-box-red" rx="6" ry="6"/>
  <text x="179" y="280" text-anchor="middle" class="diagram-text-code" font-size="10">scoreboard/</text>
  <text x="258" y="280" class="diagram-text-small" font-size="10">결과 비교 판정</text>
  <text x="370" y="280" class="diagram-text-small" font-size="9" fill="#ef4444">Ch.8</text>

  <line x1="90" y1="276" x2="90" y2="306" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="306" x2="110" y2="306" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="292" width="130" height="28" class="diagram-box-highlight" rx="6" ry="6"/>
  <text x="179" y="310" text-anchor="middle" class="diagram-text-code" font-size="10">interfaces/</text>
  <text x="258" y="310" class="diagram-text-small" font-size="10">DUT 연결 케이블</text>
  <text x="380" y="310" class="diagram-text-small" font-size="9" fill="#f59e0b">Ch.7</text>

  <line x1="90" y1="306" x2="90" y2="336" stroke="#2563eb" stroke-width="1.2"/>
  <line x1="90" y1="336" x2="110" y2="336" stroke="#2563eb" stroke-width="1.2"/>
  <rect x="114" y="322" width="130" height="28" class="diagram-box" rx="6" ry="6"/>
  <text x="179" y="340" text-anchor="middle" class="diagram-text-code" font-size="10">top/</text>
  <text x="258" y="340" class="diagram-text-small" font-size="10">시뮬레이션 시작점</text>
  <text x="390" y="340" class="diagram-text-small" font-size="9" fill="#334155">Ch.5</text>

  <!-- sim/ -->
  <line x1="40" y1="116" x2="40" y2="380" stroke="#94a3b8" stroke-width="1.5"/>
  <line x1="40" y1="380" x2="60" y2="380" stroke="#94a3b8" stroke-width="1.5"/>
  <rect x="64" y="366" width="120" height="32" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="124" y="387" text-anchor="middle" class="diagram-text-code" font-size="11">sim/</text>
  <text x="200" y="387" class="diagram-text-small" font-size="10">시뮬레이션 실행</text>
  <text x="200" y="371" class="diagram-text-code" font-size="9" fill="#94a3b8">Makefile, run.sh</text>

  <!-- docs/ -->
  <line x1="40" y1="380" x2="40" y2="420" stroke="#94a3b8" stroke-width="1.5"/>
  <line x1="40" y1="420" x2="60" y2="420" stroke="#94a3b8" stroke-width="1.5"/>
  <rect x="64" y="406" width="120" height="32" class="diagram-box-gray" filter="url(#shadow)"/>
  <text x="124" y="427" text-anchor="middle" class="diagram-text-code" font-size="11">docs/</text>
  <text x="200" y="427" class="diagram-text-small" font-size="10">문서</text>
  <text x="200" y="411" class="diagram-text-code" font-size="9" fill="#94a3b8">testplan.md</text>

  <!-- Legend -->
  <rect x="480" y="60" width="210" height="100" rx="8" ry="8" fill="#ffffff" stroke="#cbd5e1" stroke-width="1"/>
  <text x="585" y="82" text-anchor="middle" class="diagram-text" font-size="10" font-weight="bold">챕터별 학습 순서</text>
  <rect x="496" y="90" width="10" height="10" fill="#ecfdf5" stroke="#10b981" stroke-width="1"/>
  <text x="514" y="100" class="diagram-text-small" font-size="9">Ch.5: 환경 구성</text>
  <rect x="496" y="106" width="10" height="10" fill="#eff6ff" stroke="#2563eb" stroke-width="1"/>
  <text x="514" y="116" class="diagram-text-small" font-size="9">Ch.6: 시퀀스</text>
  <rect x="496" y="122" width="10" height="10" fill="#f5f3ff" stroke="#7c3aed" stroke-width="1"/>
  <text x="514" y="132" class="diagram-text-small" font-size="9">Ch.7: 드라이버/모니터</text>
  <rect x="496" y="138" width="10" height="10" fill="#fef2f2" stroke="#ef4444" stroke-width="1"/>
  <text x="514" y="148" class="diagram-text-small" font-size="9">Ch.8: 스코어보드</text>
</svg>
</div><h3 id="2-6-2-각-디렉토리의-역할">2.6.2 각 디렉토리의 역할</h3>
<table>
<thead>
<tr>
<th>디렉토리</th>
<th>역할</th>
<th>비유</th>
<th>배우는 챕터</th>
</tr>
</thead>
<tbody><tr>
<td><code>rtl/</code></td>
<td>검증 대상(DUT) 설계 파일</td>
<td>검사할 제품</td>
<td>Chapter 5</td>
</tr>
<tr>
<td><code>tb/env/</code></td>
<td>검증 환경 최상위</td>
<td>검사실 전체</td>
<td>Chapter 5</td>
</tr>
<tr>
<td><code>tb/agents/</code></td>
<td>에이전트 (Driver+Monitor+Sequencer)</td>
<td>검사 장비 세트</td>
<td>Chapter 7</td>
</tr>
<tr>
<td><code>tb/sequences/</code></td>
<td>테스트 데이터 생성기</td>
<td>검사 시나리오</td>
<td>Chapter 6</td>
</tr>
<tr>
<td><code>tb/tests/</code></td>
<td>테스트 케이스</td>
<td>검사 지시서</td>
<td>Chapter 9</td>
</tr>
<tr>
<td><code>tb/scoreboard/</code></td>
<td>결과 비교 판정기</td>
<td>합격/불합격 판정원</td>
<td>Chapter 8</td>
</tr>
<tr>
<td><code>tb/interfaces/</code></td>
<td>DUT와 테스트벤치 연결</td>
<td>검사 장비의 연결 케이블</td>
<td>Chapter 7</td>
</tr>
<tr>
<td><code>tb/top/</code></td>
<td>시뮬레이션 시작점</td>
<td>검사실 출입구</td>
<td>Chapter 5</td>
</tr>
<tr>
<td><code>sim/</code></td>
<td>컴파일/실행 스크립트</td>
<td>검사 절차 매뉴얼</td>
<td>Chapter 5</td>
</tr>
</tbody></table>
<h3 id="2-6-3-간단한-makefile-맛보기">2.6.3 간단한 Makefile 맛보기</h3>
<p>실무에서는 명령어를 직접 타이핑하지 않고 Makefile을 사용합니다. 지금은 Makefile 문법을 몰라도 됩니다. Chapter 5에서 실제 프로젝트를 만들며 함께 작성합니다. &quot;make run 하면 실행된다&quot; 정도만 기억하세요:</p>
<pre><code class="hljs language-makefile"><span class="hljs-comment"># 파일: sim/Makefile</span>
<span class="hljs-comment"># 설명: UVM 시뮬레이션 빌드 스크립트 (Questa 기준)</span>

<span class="hljs-comment"># 시뮬레이터 설정</span>
SIMULATOR = questa
UVM_HOME  = /path/to/uvm-1800.2

<span class="hljs-comment"># 소스 파일</span>
TB_TOP    = ../tb/top/tb_top.sv
RTL_FILES = ../rtl/*.sv
TB_FILES  = ../tb/**/*.sv

<span class="hljs-comment"># 기본 타겟: 컴파일 후 실행</span>
<span class="hljs-section">all: compile run</span>

<span class="hljs-comment"># 컴파일</span>
<span class="hljs-section">compile:</span>
	vlib work
	vlog +incdir+<span class="hljs-variable">$(UVM_HOME)</span>/src \
	     <span class="hljs-variable">$(UVM_HOME)</span>/src/uvm_pkg.sv \
	     <span class="hljs-variable">$(RTL_FILES)</span> <span class="hljs-variable">$(TB_FILES)</span> <span class="hljs-variable">$(TB_TOP)</span>

<span class="hljs-comment"># 시뮬레이션 실행</span>
<span class="hljs-section">run:</span>
	vsim -c work.tb_top \
	     +UVM_TESTNAME=<span class="hljs-variable">$(TEST)</span> \
	     -do <span class="hljs-string">&quot;run -all; quit&quot;</span>

<span class="hljs-comment"># 파형 뷰어로 실행 (GUI 모드)</span>
<span class="hljs-section">gui:</span>
	vsim work.tb_top \
	     +UVM_TESTNAME=<span class="hljs-variable">$(TEST)</span>

<span class="hljs-comment"># 정리</span>
<span class="hljs-section">clean:</span>
	rm -rf work transcript *.wlf

<span class="hljs-comment"># 사용법 표시</span>
<span class="hljs-section">help:</span>
	@echo <span class="hljs-string">&quot;사용법:&quot;</span>
	@echo <span class="hljs-string">&quot;  make compile        - 컴파일&quot;</span>
	@echo <span class="hljs-string">&quot;  make run TEST=hello_test  - 시뮬레이션 실행&quot;</span>
	@echo <span class="hljs-string">&quot;  make gui TEST=hello_test  - GUI 모드 실행&quot;</span>
	@echo <span class="hljs-string">&quot;  make clean          - 정리&quot;</span>
</code></pre><blockquote>
<p><strong>주의</strong>: Makefile의 들여쓰기는 반드시 <strong>탭(Tab)</strong> 문자를 사용해야 합니다. 스페이스로 들여쓰면 make 에러가 발생합니다.</p>
</blockquote>
<p><strong>사용법</strong>:</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> sim/
make compile                    <span class="hljs-comment"># 컴파일</span>
make run TEST=hello_test        <span class="hljs-comment"># hello_test 실행</span>
make clean                      <span class="hljs-comment"># 정리</span>
</code></pre><hr>
<h2 id="2-7-체크포인트">2.7 체크포인트</h2>
<h3 id="셀프-체크">셀프 체크</h3>
<p>아래 질문에 답할 수 있다면 이 챕터를 충분히 이해한 것입니다:</p>
<ol>
<li>SystemVerilog 시뮬레이터 3가지를 나열할 수 있는가?</li>
</ol>
<details>
<summary>정답 확인</summary>
VCS (Synopsys), Questa (Siemens EDA), Xcelium (Cadence)
</details>

<ol start="2">
<li>UVM 프로그램에 반드시 포함해야 하는 2줄은 무엇인가?</li>
</ol>
<details>
<summary>정답 확인</summary>

<pre><code class="hljs language-systemverilog"><span class="hljs-meta">`<span class="hljs-keyword">include</span> &quot;uvm_macros.svh&quot;</span>
<span class="hljs-keyword">import</span> uvm_pkg::*;
</code></pre></details>

<ol start="3">
<li><code>uvm_info</code>의 3개 인자는 각각 무엇인가?</li>
</ol>
<details>
<summary>정답 확인</summary>

<ol>
<li><p>메시지 태그(TAG) - 분류용 문자열</p>
</li>
<li><p>메시지 내용 - 출력할 텍스트</p>
</li>
<li><p>출력 상세 수준(Verbosity) - UVM_NONE, UVM_LOW, UVM_MEDIUM, UVM_HIGH, UVM_FULL, UVM_DEBUG</p>
</details>
</li>
<li><p><code>phase.raise_objection(this)</code>를 빠뜨리면 어떤 일이 벌어지는가?</p>
</li>
</ol>
<details>
<summary>정답 확인</summary>
시뮬레이션이 run_phase에 진입하자마자 바로 종료됩니다. UVM은 아무도 오브젝션(Objection)을 제기하지 않으면 "할 일이 없다"고 판단하고 즉시 다음 페이즈로 넘어갑니다. 그 결과, #delay 이후에 배치된 코드는 실행되지 않습니다.
</details>

<ol start="5">
<li><code>function</code>과 <code>task</code>의 차이는 무엇인가?</li>
</ol>
<details>
<summary>정답 확인</summary>
`function`은 시간 지연(#delay) 없이 즉시 실행됩니다. `task`는 시간 지연을 사용할 수 있어서 시뮬레이션 시간이 흐를 수 있습니다. run_phase는 시간 지연이 필요하므로 `task`로 선언합니다.
</details>

<h3 id="연습문제">연습문제</h3>
<p><strong>[실습 2-1] (쉬움)</strong>: Hello World 코드에서 메시지 태그를 &quot;HELLO&quot; 대신 자신의 이름으로 바꿔보세요. UVM Report Summary에서 태그별 카운트가 어떻게 변하나요?</p>
<details>
<summary>힌트</summary>

<p><code>uvm_info(&quot;MY_NAME&quot;, &quot;메시지&quot;, UVM_LOW)</code> 처럼 태그 문자열을 변경하면 됩니다. Report Summary의 &quot;Report counts by id&quot; 섹션에서 변경된 태그 이름이 표시됩니다.</p>
</details>

<p><strong>[실습 2-2] (보통)</strong>: <code>uvm_info</code>, <code>uvm_warning</code>, <code>uvm_error</code>를 각각 2개씩 출력하는 테스트를 작성하세요. UVM Report Summary의 결과를 확인하세요.</p>
<details>
<summary>힌트</summary>

<p>run_phase 안에 6개의 메시지를 배치하면 됩니다. Report Summary에서 INFO 개수가 증가하고, WARNING: 2, ERROR: 2가 표시되어야 합니다.</p>
</details>

<p><strong>[실습 2-3] (도전)</strong>: <code>uvm_error</code>를 15개 출력하는 테스트를 작성하세요. 시뮬레이션이 끝까지 실행되나요? 왜 그런지 생각해보세요. (힌트: UVM의 기본 에러 한도는 10개입니다. 커맨드라인 옵션 <code>+UVM_MAX_QUIT_COUNT</code>로 변경할 수 있습니다.)</p>
<h3 id="다음-챕터-미리보기">다음 챕터 미리보기</h3>
<blockquote>
<p>Chapter 3에서는 UVM을 본격적으로 배우기 전에 필요한 <strong>SystemVerilog 핵심 문법</strong>을 다룹니다. 클래스(Class), 인터페이스(Interface), 랜덤화(Randomization) 등 UVM에서 가장 많이 쓰는 SystemVerilog 기능을 집중 학습합니다.</p>
</blockquote>

    <nav class="chapter-nav"><a href="chapter-01-final.html" class="nav-prev">
      <span class="nav-label">이전 챕터</span>
      <span class="nav-title">Ch.1 UVM 소개</span>
    </a><a href="chapter-03-final.html" class="nav-next">
      <span class="nav-label">다음 챕터</span>
      <span class="nav-title">Ch.3 SystemVerilog 핵심</span>
    </a></nav>
  </div>

  <footer class="book-footer">
    <p>팹리스 검증 엔지니어가 되기 위한 UVM 완전정복</p>
    <p>Published by UVM Book Publisher Agent</p>
  </footer>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">↑</button>

  <script>
    // Reading progress bar
    window.addEventListener('scroll', () => {
      const h = document.documentElement;
      const pct = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
      document.getElementById('progressBar').style.width = pct + '%';
      document.getElementById('backToTop').classList.toggle('visible', h.scrollTop > 400);
    });

    // Language labels for code blocks
    document.querySelectorAll('pre').forEach(pre => {
      const code = pre.querySelector('code');
      if (code) {
        const cls = code.className || '';
        const m = cls.match(/language-(\w+)/);
        if (m) {
          const map = {
            systemverilog:'SystemVerilog', sv:'SystemVerilog', verilog:'Verilog',
            bash:'Bash', shell:'Shell', tcl:'TCL', makefile:'Makefile',
            python:'Python', javascript:'JavaScript', text:'Output'
          };
          pre.setAttribute('data-lang', map[m[1]] || m[1]);
        }
      }
    });

    // Smart labels for plain code blocks
    document.querySelectorAll('pre code:not([class*="language-"])').forEach(code => {
      const pre = code.parentElement;
      if (!pre.getAttribute('data-lang')) {
        const t = code.textContent || '';
        if (t.includes('UVM_INFO') || t.includes('UVM_WARNING')) {
          pre.setAttribute('data-lang', 'Simulation Output');
        } else if (t.includes('[채용') || t.includes('필수 자격')) {
          pre.setAttribute('data-lang', '');
        } else if (t.includes('Step') || t.includes('패널') || t.includes('편집기')) {
          pre.setAttribute('data-lang', 'Setup Guide');
        } else {
          pre.setAttribute('data-lang', 'Info');
        }
      }
    });

    // Smooth scroll for TOC links
    document.querySelectorAll('.toc a').forEach(a => {
      a.addEventListener('click', e => {
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
  </script>
</body>
</html>